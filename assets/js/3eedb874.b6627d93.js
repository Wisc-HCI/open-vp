"use strict";(self.webpackChunk_people_and_robots_open_vp_docs=self.webpackChunk_people_and_robots_open_vp_docs||[]).push([[879,8401],{57308:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>c,default:()=>f,frontMatter:()=>l,metadata:()=>s,toc:()=>u});var r=n(31085),i=n(71184),o=n(1012),a=n(88963);const l={},c="FieldInfo",s={id:"api/field-info",title:"FieldInfo",description:'There are multiple variants of FieldInfo. The most common is the BlockFieldInfo, which is used to specify a field that is a block. The other variants encode "Simple" fields, such as numbers, strings, booleans, and options.',source:"@site/docs/api/field-info.mdx",sourceDirName:"api",slug:"/api/field-info",permalink:"/open-vp/docs/api/field-info",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"DrawerSpec",permalink:"/open-vp/docs/api/drawer-spec"},next:{title:"ProgramSpec",permalink:"/open-vp/docs/api/program-spec"}},d={},u=[{value:"BlockFieldInfo",id:"blockfieldinfo",level:2},{value:"SimpleBooleanFieldInfo",id:"simplebooleanfieldinfo",level:2},{value:"SimpleNumberFieldInfo",id:"simplenumberfieldinfo",level:2},{value:"SimpleStringFieldInfo",id:"simplestringfieldinfo",level:2},{value:"SimpleOptionsFieldInfo",id:"simpleoptionsfieldinfo",level:2},{value:"SimpleMetadataFieldInfo",id:"simplemetadatafieldinfo",level:2},{value:"SimpleVector3FieldInfo",id:"simplevector3fieldinfo",level:2}];function p(e){const t={code:"code",h1:"h1",h2:"h2",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"fieldinfo",children:"FieldInfo"}),"\n",(0,r.jsxs)(t.p,{children:["There are multiple variants of ",(0,r.jsx)(t.code,{children:"FieldInfo"}),". The most common is the ",(0,r.jsx)(t.code,{children:"BlockFieldInfo"}),', which is used to specify a field that is a block. The other variants encode "Simple" fields, such as numbers, strings, booleans, and options.']}),"\n",(0,r.jsx)(t.h2,{id:"blockfieldinfo",children:"BlockFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.Qm}),"\n",(0,r.jsx)(t.h2,{id:"simplebooleanfieldinfo",children:"SimpleBooleanFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.zK}),"\n",(0,r.jsx)(t.h2,{id:"simplenumberfieldinfo",children:"SimpleNumberFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.WH}),"\n",(0,r.jsx)(t.h2,{id:"simplestringfieldinfo",children:"SimpleStringFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.Mg}),"\n",(0,r.jsx)(t.h2,{id:"simpleoptionsfieldinfo",children:"SimpleOptionsFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.nJ}),"\n",(0,r.jsx)(t.h2,{id:"simplemetadatafieldinfo",children:"SimpleMetadataFieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.ip}),"\n",(0,r.jsx)(t.h2,{id:"simplevector3fieldinfo",children:"SimpleVector3FieldInfo"}),"\n",(0,r.jsx)(o.A,{rows:a.J1})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}},88963:(e,t,n)=>{n.d(t,{C8:()=>o,J1:()=>h,Jc:()=>g,Mg:()=>u,Qm:()=>c,WH:()=>d,_C:()=>a,aA:()=>l,ip:()=>f,nJ:()=>p,sM:()=>i,zD:()=>r,zK:()=>s});const r=[{name:"name",description:"The name of this type",example:"State",required:!0,type:"string"},{name:"primitiveType",description:'This is always `PrimitiveType.Object` or "OBJECT"',example:"PrimitiveType.Object",required:!0,type:{type:"link",label:"PrimitiveType.Object",path:"/docs/api/enums/primitive-type"}},{name:"description",description:"A markdown flavored string description of the block",example:null,required:!0,type:"string"},{name:"instanceBlock",description:"The block spec for the instance of this object",example:null,required:!0,type:{type:"link",label:"BlockSpec",path:"/docs/api/block-spec"}},{name:"referenceBlock",description:"The block spec for the reference of this object",example:null,required:!0,type:{type:"link",label:"BlockSpec",path:"/docs/api/block-spec"}},{name:"properties",description:"The properties of the object",example:null,required:!0,type:{type:"record",key:"string",value:{type:"link",label:"FieldInfo",path:"/docs/api/field-info"}}}],i=[{name:"name",description:"The name of this type",example:"State",required:!0,type:"string"},{name:"primitiveType",description:'This is always `PrimitiveType.Function` or "FUNCTION"',example:"PrimitiveType.Function",required:!0,type:{type:"link",label:"PrimitiveType.Function",path:"/docs/api/enums/primitive-type"}},{name:"description",description:"A markdown flavored string description of the block",example:null,required:!0,type:"string"},{name:"functionBlock",description:"The block spec for the instance of this object",example:null,required:!0,type:{type:"link",label:"BlockSpec",path:"/docs/api/block-spec"}},{name:"callBlock",description:"The block spec for the reference of this object",example:null,required:!0,type:{type:"link",label:"BlockSpec",path:"/docs/api/block-spec"}},{name:"properties",description:"The properties of the object",example:null,required:!0,type:{type:"record",key:"string",value:{type:"link",label:"FieldInfo",path:"/docs/api/field-info"}}}],o=[{name:"drawer",description:"A list of specifications for the drawers on the left-hand side of the environment",example:null,required:!0,type:{type:"array",value:{type:"link",label:"DrawerSpec",path:"/docs/api/drawer-spec"}}},{name:"objectTypes",description:"A lookup of the different blocks that can be used in the environment",example:null,required:!0,type:{type:"record",key:"string",value:{type:"link",label:"TypeSpec",path:"/docs/api/type-spec"}}}],a=[{name:"type",description:'This is always `DrawerType.Multiple` or "MULTIPLE"',example:"DrawerType.Multiple",required:!0,type:{type:"link",label:"DrawerType.Multiple",path:"/docs/api/enums/drawer-type"}},{name:"title",description:"The title of the drawer",example:"Container Blocks",required:!0,type:"string"},{name:"icon",description:"The name of the icon to use for the drawer",example:"SquareRounded",required:!0,type:"string"},{name:"objectTypes",description:"The keys for block types that are shown in this drawer",example:'["blockType", "programType"]',required:!0,type:{type:"array",value:"string"}},{name:"metaType",description:"The parent type of the blocks inside",example:"MetaType.ObjectInstance",required:!0,type:{type:"or",entries:[{type:"link",label:"MetaType.ObjectInstance",path:"/docs/api/enums/meta-type"},{type:"link",label:"MetaType.FunctionDeclaration",path:"/docs/api/enums/meta-type"}]}}],l=[{name:"type",description:'This is always `DrawerType.Singular` or "SINGULAR"',example:"DrawerType.Singular",required:!0,type:{type:"link",label:"DrawerType.Singular",path:"/docs/api/enums/drawer-type"}},{name:"title",description:"The title of the drawer",example:"Block References",required:!0,type:"string"},{name:"icon",description:"The name of the icon to use for the drawer",example:"SquareRounded",required:!0,type:"string"},{name:"objectType",description:"The keys for block types that are shown in this drawer",example:'"blockType"',required:!0,type:"string"},{name:"metaType",description:"The parent type of the blocks inside",example:"MetaType.FunctionCall",required:!0,type:{type:"or",entries:[{type:"link",label:"MetaType.ObjectReference",path:"/docs/api/enums/meta-type"},{type:"link",label:"MetaType.FunctionCall",path:"/docs/api/enums/meta-type"}]}}],c=[{name:"id",type:"string",required:!0,example:"canDance",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:{type:"or",entries:["string",{type:"link",label:"SimpleOptionsFieldInfo",path:"/docs/api/field-info"}]},required:!0,example:"Can Dance",description:"The name of the field that is shown to the user"},{name:"accepts",type:{type:"array",value:"string"},required:!0,example:'["blockType"]',description:"The keys for block types that are allowed to be used in this field"},{name:"default",type:"any",required:!0,example:null,description:"The default value for the field"},{name:"isList",type:"boolean",required:!1,example:"false",description:"Whether the field can accept multiple values"},{name:"fullWidth",type:"boolean",required:!1,example:"false",description:"Whether the field should take up the full width of the drawer"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Block"},required:!0,example:"PropertyType.Block",description:"Indicator for this field being a block"}],s=[{name:"id",type:"string",required:!0,example:"canDance",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Can Dance",description:"The name of the field that is shown to the user"},{name:"default",type:"boolean",required:!0,example:"false",description:"The default value for the field"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Boolean"},required:!0,example:"PropertyType.Boolean",description:"Indicator for this field being a boolean"}],d=[{name:"id",type:"string",required:!0,example:"walkingSpeed",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Walking Speed",description:"The name of the field that is shown to the user"},{name:"default",type:"number",required:!0,example:"10",description:"The default value for the field"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Number"},required:!0,example:"PropertyType.Number",description:"Indicator for this field being a number"},{name:"min",type:"number",required:!1,example:"0",description:"Minimum value for field. Defaults to -\u221e"},{name:"max",type:"number",required:!1,example:"100",description:"Maximum value for field. Defaults to \u221e"},{name:"step",type:"number",required:!1,example:"1",description:"Step value for field. Defaults to 1"},{name:"units",type:"string",required:!1,example:"m/s",description:"The units for the number field. Defaults to none."}],u=[{name:"id",type:"string",required:!0,example:"greeting",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Greeting",description:"The name of the field that is shown to the user"},{name:"default",type:"string",required:!0,example:'"Hello World!"',description:"The default value for the field"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.String"},required:!0,example:"PropertyType.String",description:"Indicator for this field being a string"}],p=[{name:"id",type:"string",required:!0,example:"time",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Time",description:"The name of the field that is shown to the user"},{name:"default",type:"string",required:!0,example:'"am"',description:"The default option selected, based on value."},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Options"},required:!0,example:"PropertyType.Options",description:"Indicator for this field being a set of options"},{name:"options",type:{type:"array",value:{type:"object",value:{value:"string",label:"string"}}},required:!0,example:"[{value: 'am', label: 'AM'}, {value: 'pm', label: 'PM'}]",description:"Options for the user to select from. Value stored is the value field."}],f=[{name:"id",type:"string",required:!0,example:"jointData",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Joint Data",description:"The name of the field (although metadata isn't displayed to the user)."},{name:"default",type:"any",required:!0,example:'{ "jointType": "continuous", "jointAxis": "x"}',description:"The default value for the field"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Metadata"},required:!0,example:"PropertyType.Metadata",description:"Indicator for this field being metadata"}],h=[{name:"id",type:"string",required:!0,example:"position",description:"The key that is used for storing this data in the block data. Matches the key of the item in properties."},{name:"name",type:"string",required:!0,example:"Position",description:"The name of the field that is shown to the user"},{name:"default",type:{type:"array",value:"number"},required:!0,example:"[0, 0, 0]",description:"The default value of the vector3 field"},{name:"type",type:{type:"link",path:"/docs/api/enums/property-type",label:"PropertyType.Vector3"},required:!0,example:"PropertyType.Vector3",description:"Indicator for this field being a vector-3"}],g=[{name:"onCanvas",type:"boolean",required:!1,example:"true",description:"Whether the block is rendered on the canvas. Otherwise, it must be dragged into another block."},{name:"color",type:"string",required:!0,example:"#FF5733",description:"The color of the block"},{name:"icon",type:{type:"link",path:"/docs/api/enums/icon-name",label:"IconName"},required:!0,example:"IconName.ArrowRight",description:"The icon to be displayed on the block"},{name:"extras",type:{type:"array",value:{type:"link",path:"/docs/api/extra",label:"Extra"}},required:!0,example:"[Extra.Collapsible]",description:"The extra features of the block"},{name:"connections",type:{type:"record",key:{type:"link",path:"https://reactflow.dev/api-reference/types/position",label:"Position"},value:{type:"object",value:{direction:{type:"link",path:"/docs/api/enums/connection-direction",label:"ConnectionDirection"},allowed:{type:"array",value:"string"}}}},required:!1,example:"{ top: { direction: ConnectionDirection.Up, allowed: ['state'] } }",description:"The allowed connections for the block"},{name:"hideNewPrefix",type:"boolean",required:!1,example:"true",description:"Whether to hide the 'New' prefix in newly spawned blocks"},{name:"minified",type:"boolean",required:!1,example:"true",description:"Whether the block utilizes a minified footprint"},{name:"style",type:"object",required:!1,example:"{ width: 100, height: 100 }",description:"Style overrides for the block"}]},1012:(e,t,n)=>{n.d(t,{A:()=>y});var r=n(14041),i=n(52576),o=n(94195),a=n(49266),l=n(40661),c=n(92520),s=n(56931),d=n(22762),u=n(6704),p=n(14615),f=n(42436),h=n(39266),g=n(73477),m=n(32727),b=n(31085);function y(e){let{rows:t=[]}=e;const{colorMode:n}=(0,m.G)(),f=(0,r.useMemo)((()=>(0,h.A)({palette:{mode:"dark"===n?"dark":"light"}})),[n]);return(0,b.jsx)(u.A,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:()=>(0,b.jsx)(g.A,{theme:f,children:(0,b.jsx)(i.A,{component:o.A,componentProps:{sx:{}},children:(0,b.jsxs)(a.A,{size:"small",sx:{minWidth:650,marginBottom:0},"aria-label":"simple table",children:[(0,b.jsx)(l.A,{children:(0,b.jsxs)(c.A,{children:[(0,b.jsx)(s.A,{children:"Name"}),(0,b.jsx)(s.A,{align:"right",children:"Type"}),(0,b.jsx)(s.A,{align:"right",children:"Required"}),(0,b.jsx)(s.A,{align:"right",children:"Description"}),(0,b.jsx)(s.A,{align:"left",children:"Example"})]})}),(0,b.jsx)(d.A,{children:t.map((e=>(0,b.jsxs)(c.A,{children:[(0,b.jsx)(s.A,{component:"th",scope:"row",children:e.name}),(0,b.jsx)(s.A,{align:"right",children:v(e.type,!0)}),(0,b.jsx)(s.A,{align:"right",children:e.required?"\u2605":""}),(0,b.jsx)(s.A,{align:"right",children:e.description}),(0,b.jsx)(s.A,{align:"right",children:e.example?(0,b.jsx)(p.A,{language:"javascript",children:e.example}):"-"})]},e.name)))})]})})})})}function v(e,t){return"string"==typeof e?(0,b.jsx)("i",{children:e}):"or"===e.type||"and"===e.type?(0,b.jsxs)("span",{children:[t?"":"(",e.entries.map(((t,n)=>(0,b.jsxs)("span",{children:[v(t,!1),n<e.entries.length-1?` ${"or"===e.type?"|":"&"} `:""]}))),t?"":")"]}):"link"===e.type?(0,b.jsx)(f.A,{to:e.path,children:e.label}):"record"===e.type?(0,b.jsxs)("span",{children:["Record<",v(e.key,!0),",",v(e.value,!0),">"]}):"object"===e.type?(0,b.jsxs)("span",{children:["{",Object.keys(e.value).map(((t,n)=>(0,b.jsxs)("span",{children:[t,": ",v(e.value[t],!0),n<Object.keys(e.value).length-1?", ":""]}))),"}"]}):"array"===e.type?(0,b.jsxs)("span",{children:[v(e.value,!0),"[]"]}):void 0}},44609:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(29437),i=n(6704),o=n(31085);function a(e){return(0,o.jsx)(i.A,{fallback:(0,o.jsx)("div",{children:" Loading..."}),children:()=>(0,o.jsx)(r.O,{...e})})}},49018:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(14041),i=n(44609);const o={React:r,...r,Environment:i.A}},19934:(e,t,n)=>{n.d(t,{$C:()=>B,JF:()=>O,JT:()=>K,UB:()=>C,Ut:()=>A,WR:()=>j,Xt:()=>_,_g:()=>I,cA:()=>G,dW:()=>D,j$:()=>x,jA:()=>N,kc:()=>S,lJ:()=>v,ok:()=>T,ov:()=>k,x1:()=>R,zy:()=>w});var r=n(45250),i=n(3375),o=n(14041),a=n(38089),l=n(98267),c=n(83813),s=n(31085),d=Object.defineProperty,u=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?d(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(f)for(var n of f(t))g.call(t,n)&&m(e,n,t[n]);return e},y=(e,t)=>u(e,p(t)),v="SPAWNER",x="CANVAS",k="OUTSIDE",j=(e=>(e.Object="OBJECT",e.Function="FUNCTION",e))(j||{}),C=(e=>(e.ObjectInstance="OBJECT-INSTANCE",e.ObjectReference="OBJECT-REFERENCE",e.FunctionDeclaration="FUNCTION-DECLARATION",e.FunctionCall="FUNCTION-CALL",e.Argument="ARGUMENT",e.Connection="CONNECTION",e.Comment="COMMENT",e))(C||{}),T=(e=>(e.Inbound="INBOUND",e.Outbound="OUTBOUND",e))(T||{}),w=(e=>(e.Copy="COPY",e.Cut="CUT",e.Paste="PASTE",e.Select="SELECT",e))(w||{}),_=(e=>(e.Number="NUMBER",e.String="STRING",e))(_||{}),A=(e=>(e.Boolean="BOOLEAN",e.Number="NUMBER",e.String="STRING",e.Options="OPTIONS",e.Metadata="METADATA",e.Vector3="VECTOR3",e.Custom="CUSTOM",e.Block="BLOCK",e))(A||{}),I=(e=>(e.Singular="SINGULAR",e.Multiple="MULTIPLE",e))(I||{}),D=(e=>(e.SelectionToggle="SELECTION_TOGGLE",e.DocToggle="DOC_TOGGLE",e.CollapseToggle="COLLAPSE_TOGGLE",e.FunctionButton="FUNCTION_BUTTON",e.Dropdown="DROPDOWN",e.DeleteButton="DELETE_BUTTON",e.CopyButton="COPY_BUTTON",e.CutButton="CUT_BUTTON",e.AddArgument="ADD_ARGUMENT",e.AddArgumentGroup="ADD_ARGUMENT_GROUP",e.DebugToggle="DEBUG_TOGGLE",e.Indicator="INDICATOR",e.Divider="DIVIDER",e))(D||{});function O(e,t,n){var r,i,o,a;let l,c="OBJECT"===t.primitiveType?null==(r=t.instanceBlock)?void 0:r.hideNewPrefix:"FUNCTION"===t.primitiveType&&(null==(i=t.functionBlock)?void 0:i.hideNewPrefix);if(n)l={id:e,name:`${c?"":"New "}${t.name} Argument`,metaType:"ARGUMENT",type:e,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else if("FUNCTION"===t.primitiveType)l={id:e,name:`${c?"":"New "}${t.name}${n?" Argument":""}`,metaType:"FUNCTION-DECLARATION",type:e,properties:{},position:t.functionBlock.onCanvas?{x:0,y:0}:void 0,arguments:[],canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else{if("OBJECT"!==t.primitiveType)throw new Error(`Unknown type being generated: Cannot create instance of ${e}`);l={id:e,name:`${c?"":"New "}${t.name}`,metaType:"OBJECT-INSTANCE",type:e,properties:{},position:t.instanceBlock.onCanvas?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1}}return"ARGUMENT"!==l.metaType&&Object.entries(t.properties).forEach((([e,t])=>{l.properties[e]=t.default,"string"!=typeof t.name&&(console.log("label feature",l,t.name),l.properties[t.name.id]=t.name.default)})),("OBJECT"===t.primitiveType&&(null==(o=t.instanceBlock)?void 0:o.onCanvas)||"FUNCTION"===t.primitiveType&&(null==(a=t.functionBlock)?void 0:a.onCanvas))&&(l.position={x:0,y:0}),l}function R(e,t,n){var r,i;let o;if("FUNCTION"===n.primitiveType)o={id:`new-${e}-${t.id}`,metaType:"FUNCTION-CALL",type:e,ref:t.id,name:t.name,properties:{},position:(null==(r=n.callBlock)?void 0:r.onCanvas)?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else{if("OBJECT"!==n.primitiveType)throw new Error(`Unknown type being generated: Cannot create reference of ${e}`);o={id:`new-${e}-${t.id}`,metaType:"OBJECT-REFERENCE",type:e,ref:t.id,name:t.name,position:(null==(i=n.referenceBlock)?void 0:i.onCanvas)?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1}}return o}function E(e,t,n){var i;const o=y(b({},e),{name:t.name,specificType:t.type});let a={};return null==(i=t.arguments)||i.forEach((e=>{const t=n[e];a[e]={id:t.id,name:t.name,type:"BLOCK",accepts:[t.type],default:null,isFunctionArgument:!0}})),y(b({},o),{properties:b(b({},(0,r.mapValues)(o.properties,(e=>y(b({},e),{isFunctionBlockField:!0})))),a)})}function N(e,t,n,r){const i="string"==typeof r?e[r]:r;if(!i)return[null,null,null,null];if("CONNECTION"===i.metaType)return[i,null,null,null];if("COMMENT"===i.metaType)return[i,null,null,null];const o=t[i.id],a=n[i.type],l="FUNCTION-DECLARATION"===i.metaType?E(a,i,e):"FUNCTION-CALL"===i.metaType?E(a,e[i.ref],e):a;let c;c="FUNCTION-CALL"===i.metaType||"OBJECT-REFERENCE"===i.metaType?e[i.ref]:null;const s=(null==i?void 0:i.selected)||(null==c?void 0:c.selected)||!1,d=(null==i?void 0:i.editing)||(null==c?void 0:c.editing)||!1;return[y(b({},i),{selected:s,editing:d}),l,o,c||null]}var S=(e,t)=>{let n=b({},e);return Object.values(t).filter((e=>"FUNCTION-DECLARATION"===e.metaType)).forEach((r=>{n[r.id]=E(e[r.type],r,t)})),n},B=e=>`${e}-${(0,i.A)()}`;function F(e,t){return e.programData=(0,r.omitBy)(e.programData,(e=>"CONNECTION"===e.metaType&&(e.parent.id===t||e.child.id===t))),e}function P(e,t,n){var r,i;if(n&&"FUNCTION-CALL"===n.metaType){null==(r=Object.keys(n.properties))||r.forEach((r=>{t.includes(e.programData[n.properties[r]].ref)&&(delete e.programData[n.properties[r]],e.programData[n.id].properties[r]=null,e=F(e,n.properties[r]))}));for(let r=0;r<t.length;r++)delete e.programData[n.id].properties[t[r]]}else(n&&"OBJECT-INSTANCE"===n.metaType||"FUNCTION-DECLARATION"===n.metaType)&&(null==(i=e.programSpec.objectTypes[n.type])?void 0:i.properties)&&Object.keys(e.programSpec.objectTypes[n.type].properties).forEach((r=>{if(r){const i=e.programSpec.objectTypes[n.type].properties[r];i&&"BLOCK"!==i.type||(i&&i.isList?(n.properties[r].forEach((n=>{e=P(e,t,e.programData[n])})),t.forEach((t=>{const i=e.programData[n.id].properties[r].filter((n=>("OBJECT-REFERENCE"===e.programData[n].metaType||"FUNCTION-CALL"===e.programData[n].metaType)&&e.programData[n].ref!==t));e.programData[n.id].properties[r]=i}))):(i&&n.properties[r]&&"OBJECT-REFERENCE"===e.programData[n.properties[r]].metaType||"FUNCTION-CALL"===e.programData[n.properties[r]].metaType&&t.includes(e.programData[n.properties[r]].ref))&&(delete e.programData[n.properties[r]],e.programData[n.id].properties[r]=null,e=F(e,n.properties[r])))}}));return e}function L(e,t){const n=(0,r.pickBy)(e.programData,(e=>"OBJECT-INSTANCE"===e.metaType||"FUNCTION-DECLARATION"===e.metaType));return Object.keys(n).forEach((n=>{e.programData[n]&&(e=P(e,t,e.programData[n]))})),e}function U(e,t,n,i,o){if("FUNCTION-DECLARATION"===t.metaType){const o=(0,r.pickBy)(e.programData,(e=>"FUNCTION-CALL"===e.metaType&&e.ref===t.id));Object.values(o).forEach((t=>{e=W(e,t,n,i)})),t.arguments.forEach((t=>{delete e.programData[t],e=F(e,t)})),Object.keys(e.programData).forEach((t=>{var n;const i=e.programData[t];i&&"CONNECTION"!==i.metaType&&(null==(n=e.programSpec.objectTypes[i.type])?void 0:n.properties)&&Object.keys(e.programSpec.objectTypes[i.type].properties).forEach((t=>{if(t){const n=e.programSpec.objectTypes[i.type].properties[t];!n||n&&"BLOCK"!==n.type||(n.isList?Object.values(o).forEach((e=>{var n;"OBJECT-INSTANCE"!==i.metaType&&"FUNCTION-CALL"!==i.metaType&&"FUNCTION-DECLARATION"!==i.metaType||!(null==(n=i.properties[t])?void 0:n.includes(e.id))||(0,r.remove)(i.properties[t],(t=>t===e.id))})):"OBJECT-INSTANCE"!==i.metaType&&"FUNCTION-DECLARATION"!==i.metaType&&"FUNCTION-CALL"!==i.metaType||!i.properties[t]||Object.values(o).includes(i.properties[t])&&(i.properties[t]=null,i.properties[t]=null))}}))}))}else o&&(n===v?"OBJECT-INSTANCE"===t.metaType?(delete(e=L(e,[t.id])).programData[t.id],e=F(e,t.id)):"FUNCTION-CALL"!==t.metaType&&"OBJECT-REFERENCE"!==t.metaType||(delete(e=L(e,[t.ref])).programData[t.ref],e=F(e,t.ref)):n&&"FUNCTION-DECLARATION"===(e=P(e,[t.ref],e.programData[n])).programData[n].metaType&&(0,r.remove)(e.programData[n].arguments,(e=>e===t.ref)));return delete e.programData[t.id],e=F(e,t.id)}function W(e,t,n,r){var i;if(!t||"COMMENT"===t.metaType)return e;if(t&&"FUNCTION-CALL"===t.metaType){let o=e.programData[t.ref];null==(i=null==o?void 0:o.arguments)||i.forEach((i=>{t.properties[i]&&e.programData[t.properties[i]]&&(e=U(e,e.programData[t.properties[i]],n,r))}))}else"OBJECT-INSTANCE"!==t.metaType&&"FUNCTION-DECLARATION"!==t.metaType||n===v||Object.keys(e.programSpec.objectTypes[t.type].properties).forEach((i=>{if(i){const o=e.programSpec.objectTypes[t.type].properties[i];o&&"BLOCK"!==o.type||(o&&o.isList?t.properties[i]&&t.properties[i].forEach((t=>{e=U(e=W(e,e.programData[t],n,r),e.programData[t],n,r)})):o&&t.properties[i]&&(e=U(e=W(e,e.programData[t.properties[i]],n,r),e.programData[t.properties[i]],n,r)))}}));return e}function z(e,t,n,r,i,o){var a,l,c,s,d,u;if("OBJECT-REFERENCE"!==e.metaType&&"FUNCTION-CALL"!==e.metaType&&"ARGUMENT"!==e.metaType||!(null==(l=null==(a=t[e.type])?void 0:a.namePolicy)?void 0:l[n])){if(("OBJECT-INSTANCE"===e.metaType||"FUNCTION-DECLARATION"===e.metaType)&&(null==(s=null==(c=t[e.type])?void 0:c.parsers)?void 0:s[n])&&(null==(u=null==(d=t[e.type])?void 0:d.namePolicy)?void 0:u[n])){const a=t[e.type].namePolicy;let l="";a&&(l=a[n](e));const c=t[e.type].parsers;return c?c[n]({block:e,name:l,depth:r,context:i,storeParser:o}):""}return console.warn(`Block "${e.id}" of type "${e.type}" does not have a valid parser or name policy for language "${n}". Ignoring.`),""}{const r=t[e.type].namePolicy;return r?r[n](e):""}}function M(e,t,n){let i={};const o=e[n];if("CONNECTION"===o.metaType)return[i,""];const a=t[o.type],l=B(o.type);let c=y(b({},o),{id:l});return"OBJECT-REFERENCE"!==o.metaType&&"ARGUMENT"!==o.metaType&&"COMMENT"!==o.metaType&&(c.properties=(0,r.mapValues)(o.properties,((n,r)=>{const o=a.properties[r];if("BLOCK"===o.type&&o.isList){let r=[];return n.forEach((n=>{const[o,a]=M(e,t,n);i=b(b({},o),i),r.push(a)})),r}if("BLOCK"===o.type){if(n){const[r,o]=M(e,t,n);return i=b(b({},r),i),o}return null}return n}))),"FUNCTION-DECLARATION"===o.metaType&&(c.arguments=o.arguments.map((n=>{const[r,o]=M(e,t,n);return i=b(b({},r),i),o}))),i=y(b({},i),{[l]:c}),[i,l]}var $=class e{constructor(e,t,n){this._previousTime=0,this._currentTime=0,this._delta=0,this._elapsed=0,this._timescale=n||1,this._useFixedDelta=e||!1,this._fixedDelta=t||16.67}disableFixedDelta(){return this._useFixedDelta=!1,this}enableFixedDelta(){return this._useFixedDelta=!0,this}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getFixedDelta(){return this._fixedDelta/1e3}getTimescale(){return this._timescale}reset(){return this._currentTime=this._now(),this}setFixedDelta(e){return this._fixedDelta=1e3*e,this}setTimescale(e){return this._timescale=e,this}update(){return this._useFixedDelta?this._delta=this._fixedDelta:(this._previousTime=this._currentTime,this._currentTime=this._now(),this._delta=this._currentTime-this._previousTime),this._delta*=this._timescale,this._elapsed+=this._delta,this}_now(){return("undefined"==typeof performance?Date:performance).now()}toJSON(){return{timescale:this._timescale}}fromJson({timescale:t=1}){return new e(void 0,void 0,t)}},q=()=>Math.floor(256*Math.random()),V={drawers:[],objectTypes:{}},X=B("tab"),Y=(0,l.eh)(((e,t)=>({onVPEClick:e=>console.log("Clicked Entry:",e),onOffVPEClick:()=>console.log("Missed VPE Click:"),activeDrawer:null,connectionInfo:null,setConnectionInfo:t=>{e({connectionInfo:t})},setActiveDrawer:t=>{e({activeDrawer:t})},programSpec:V,programData:{},executionData:{},featuredDocs:{},activeDoc:null,setActiveDoc:(t,n)=>{e({activeDoc:n?t:null})},tabs:[{title:"Main",id:X,visible:!0,blocks:[]}],setTabs:t=>{e({tabs:t})},activeTab:X,parse:(e,n,r,i)=>{let o="";const a=t().programSpec.objectTypes,l=t().programData,c=t().parse,s=t().tabs;if(n){const t=l[n];o+=z(t,a,e,r||0,"FUNCTION-CALL"===t.metaType||"OBJECT-REFERENCE"===t.metaType?y(b({},i),{[t.ref]:l[t.ref]}):i||{},c)}else s.forEach((t=>{t.blocks.map((e=>l[e])).forEach((t=>{o+=z(t,a,e,r||0,"FUNCTION-CALL"===t.metaType||"OBJECT-REFERENCE"===t.metaType?y(b({},i),{[t.ref]:l[t.ref]}):i||{},c)}))}));return o},transferBlock:(t,n,r)=>{e((0,c.jM)((e=>{!function(e,t,n,r){console.log("applyTransfer",t,n,r);let i=!1,o=t.id;e.programData[t.id]||(o=B(t.type),e.programData[o]=y(b({},t),{id:o}),i=!0);const a="BLOCK"===n.fieldInfo.type&&n.fieldInfo.isList,l="BLOCK"===r.fieldInfo.type&&r.fieldInfo.isList;l&&a&&n.parentId===r.parentId?e.programData[r.parentId].properties[r.fieldInfo.id]=function(e,t,n){const r=e[t],i=e.length,o=t-n;if(o>0)return[...e.slice(0,n),r,...e.slice(n,t),...e.slice(t+1,i)];if(o<0){const o=n;return[...e.slice(0,t),...e.slice(t+1,o),r,...e.slice(o,i)]}return e}(e.programData[r.parentId].properties[r.fieldInfo.id],n.idx||0,r.idx||0):(l?e.programData[r.parentId].properties[r.fieldInfo.id].splice(r.idx,0,o):(console.log("Placing value...?"),e.programData[r.parentId].properties[r.fieldInfo.id]=o),(i||n.parentId!==r.parentId||n.fieldInfo!==r.fieldInfo)&&(!i&&a?e.programData[n.parentId].properties[r.fieldInfo.id].splice(n.idx,1):i||a||n.parentId===v||(console.log("removing from previous by setting to null"),e.programData[n.parentId].properties[n.fieldInfo.id]=null))),console.log(e.programData)}(e,t,n,r)})))},moveBlocks:t=>{e((0,c.jM)((e=>{t.forEach((t=>{if("position"===t.type&&e.programData[t.id]&&t.position){let n=e.programData[t.id];n.position=t.position,e.programData[t.id]=n}}))})))},deleteBlock:(t,n,i)=>{e((0,c.jM)((e=>{if(console.warn("deleteBlock",t.id,t,n,i),e.tabs=e.tabs.map((e=>y(b({},e),{blocks:e.blocks.filter((e=>e!==t.id))}))),e=U(e=W(e,t,n,i),t,n,i),n!==v&&n!==x)if(n&&"BLOCK"===i.type&&!i.isList){let t=e.programData[n];t.properties[i.id]=null,e.programData[n]=t}else if(n&&"BLOCK"===i.type&&i.isList){let o=e.programData[n];(0,r.remove)(o.properties[i.id],(e=>e===t.id))}})))},createPlacedBlock:(t,n,r)=>{e((0,c.jM)((e=>{let i=t.id,o=e.programData[i]||y(b({},t),{id:B(t.type)});i=o.id,o.position={x:n,y:r},e.programData[i]=o,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,i]}):t))})))},addInstance:t=>{e((0,c.jM)((e=>{const n=B(t),r=y(b({},O(t,e.programSpec.objectTypes[t],!1)),{id:n});e.programData[n]=r})))},addArgument:(t,n)=>{e((0,c.jM)((e=>{const r=B(n),i=y(b({},O(n,e.programSpec.objectTypes[n],!0)),{id:r});e.programData[r]=i;let o=e.programData[t];o.arguments.push(r),e.programData[t]=o})))},updateItemName:(t,n)=>{e((0,c.jM)((e=>{const r=e.programData[t],i="FUNCTION-CALL"===r.metaType||"OBJECT-REFERENCE"===r.metaType?r.ref:t;"CONNECTION"!==r.metaType&&(e.programData[i].name=n)})))},updateItemSelected:(t,n)=>{e((0,c.jM)((e=>{const r=e.programData[t];if(!r)return;const i="FUNCTION-CALL"===r.metaType||"OBJECT-REFERENCE"===r.metaType?r.ref:t;let o=e.programData[i];o&&(o.selected=n,e.programData[i]=o)})))},setSelections:t=>{e((0,c.jM)((e=>{e.programData=(0,r.mapValues)(e.programData,(e=>"CONNECTION"===e.metaType?e:y(b({},e),{selected:t.includes(e.id)})))})))},updateItemEditing:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r&&(r.editing=n,e.programData[t]=r)})))},updateItemSimpleProperty:(t,n,r)=>{e((0,c.jM)((e=>{e.programData[t].properties[n]=r})))},updateEdgeValue:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r.value=n,e.programData[t]=r})))},updateCommentText:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r.text=n,e.programData[t]=r})))},deleteEdge:t=>{e((0,c.jM)((e=>{delete e.programData[t]})))},createEdge:(t,n,r,i)=>{e((0,c.jM)((e=>{const o=Object.values(e.programData).filter((e=>"CONNECTION"===e.metaType)).length,a={id:B("edge"),value:`Connection ${o+1}`,metaType:"CONNECTION",parent:{id:t,handle:n},child:{id:r,handle:i},type:"STRING"};e.programData[a.id]=a})))},validateEdge:(e,n,r,i)=>{var o,a,l,c,s,d,u,p;if(e===r)return!1;const f=Object.values(t().programData).filter((e=>"CONNECTION"===e.metaType)),h=t().programData[e],g=t().programSpec.objectTypes[h.type];let m;if("FUNCTION"===g.primitiveType&&"FUNCTION-DECLARATION"===h.metaType&&(null==(o=g.functionBlock.connections)?void 0:o[n]))m=g.functionBlock.connections[n];else if("FUNCTION"===g.primitiveType&&"FUNCTION-CALL"===h.metaType&&(null==(a=g.callBlock.connections)?void 0:a[n]))m=g.callBlock.connections[n];else if("OBJECT"===g.primitiveType&&"OBJECT-REFERENCE"===h.metaType&&(null==(l=g.referenceBlock.connections)?void 0:l[n]))m=g.referenceBlock.connections[n];else{if("OBJECT"!==g.primitiveType||"OBJECT-INSTANCE"!==h.metaType||!(null==(c=g.instanceBlock.connections)?void 0:c[n]))return!1;m=g.instanceBlock.connections[n]}const b=t().programData[r],y=t().programSpec.objectTypes[b.type];let v;if("FUNCTION"===y.primitiveType&&"FUNCTION-DECLARATION"===b.metaType&&(null==(s=y.functionBlock.connections)?void 0:s[i]))v=y.functionBlock.connections[i];else if("FUNCTION"===y.primitiveType&&"FUNCTION-CALL"===b.metaType&&(null==(d=y.callBlock.connections)?void 0:d[i]))v=y.callBlock.connections[i];else if("OBJECT"===y.primitiveType&&"OBJECT-REFERENCE"===b.metaType&&(null==(u=y.referenceBlock.connections)?void 0:u[i]))v=y.referenceBlock.connections[i];else{if("OBJECT"!==y.primitiveType||"OBJECT-INSTANCE"!==b.metaType||!(null==(p=y.instanceBlock.connections)?void 0:p[i]))return!1;v=y.instanceBlock.connections[i]}return m.direction!==v.direction&&(!!m.allowed.includes(b.type)&&(!!v.allowed.includes(h.type)&&!f.some((t=>t.parent.id===e&&t.child.id===r))))},toggleEdgeMode:t=>{e((0,c.jM)((e=>{if("STRING"===e.programData[t].type)e.programData[t].type="NUMBER",e.programData[t].value=0;else{const n=Object.values(e.programData).filter((e=>"CONNECTION"===e.metaType)).length;e.programData[t].type="STRING",e.programData[t].value=`Connection ${n+1}`}})))},updateItemBlockColors:t=>{e((0,c.jM)((e=>{const n=`rgb(${q()},${q()},${q()})`,r=e.programSpec.objectTypes[t.type];"FUNCTION"===r.primitiveType?(r.callBlock.color=n,r.functionBlock.color=n):(r.instanceBlock.color=n,r.referenceBlock.color=n),e.programSpec.objectTypes[t.type]=r})))},clock:new $(void 0,void 0,void 0),pause:()=>{t().clock.setTimescale(0)},play:e=>{t().clock.setTimescale(e||1)},reset:e=>{t().clock._elapsed=e?1e3*e:0},setActiveTab:t=>e({activeTab:t.id}),removeTab:t=>{e((0,c.jM)((e=>{let n=[],r=null,i=!1;e.tabs.forEach((o=>{var a;o.id===t?(i=!0,null==(a=o.blocks)||a.forEach((t=>{e=U(e=W(e,e.programData[t]),e.programData[t])}))):(n.push(o),i||(r=o.id))})),t===e.activeTab&&(e.activeTab=r),e.tabs=n})))},addTab:()=>{e((0,c.jM)((e=>{const t=B("tab");return{tabs:[...e.tabs,{title:"New Tab",id:t,visible:!0,blocks:[]}],activeTab:t}})))},renameTab:(t,n)=>{e((0,c.jM)((e=>({tabs:e.tabs.map((e=>e.id===t?y(b({},e),{title:n}):e))}))))},setTabViewport:(t,n)=>{e((0,c.jM)((e=>({tabs:e.tabs.map((e=>e.id===t?y(b({},e),{viewport:n}):e))}))))},getTabViewport:e=>{var n;return null==(n=t().tabs.filter((t=>t.id===e))[0])?void 0:n.viewport},setTabVisibility:(t,n)=>{e((0,c.jM)((e=>{if(n)e.tabs=e.tabs.map((e=>e.id===t?y(b({},e),{visible:n}):e)),e.activeTab=t;else{let n=[],r=null,i=!1;e.tabs.forEach((e=>{e.id===t?(i=!0,n.push(y(b({},e),{visible:!1}))):(n.push(e),i||(r=e.id))})),t===e.activeTab&&(e.activeTab=r),e.tabs=n}})))},clipboard:{},copy:t=>{e((0,c.jM)((e=>{console.log("handling copy..."),e.clipboard.block=t.data,e.clipboard.regionInfo=t.regionInfo,e.clipboard.context=t.context,e.clipboard.action="COPY"})))},cut:t=>{e((0,c.jM)((e=>{var n,r,i,o;if(console.log("handling cut..."),!t.data)return;console.log("something to cut");const a=e.programData[t.data.id];null!==a&&a.id&&"CUT"===e.clipboard.action&&(e.tabs=e.tabs.map((e=>y(b({},e),{blocks:e.blocks.filter((e=>e!==a.id))}))),e=U(e=W(e,a,(null==(n=e.clipboard.regionInfo)?void 0:n.parentId)||void 0,(null==(r=e.clipboard.regionInfo)?void 0:r.fieldInfo)||void 0),a,(null==(i=e.clipboard.regionInfo)?void 0:i.parentId)||void 0,(null==(o=e.clipboard.regionInfo)?void 0:o.fieldInfo)||void 0)),e.clipboard.block=t.data,e.clipboard.regionInfo=t.regionInfo,e.clipboard.context=t.context,e.clipboard.action="CUT"})))},paste:t=>{e((0,c.jM)((e=>{var n,r,i,o,a;if(!(null==(n=e.clipboard.block)?void 0:n.id)||!e.clipboard.action)return void alert("nothing to paste");console.log("handling paste...",e.clipboard);const l=e.clipboard.block;if(console.log("handling paste...",l),"COPY"===e.clipboard.action||"PASTE"===e.clipboard.action){console.log("Pasting the last that was copied or pasted");const[n,o]=M(e.programData,e.programSpec.objectTypes,l.id);if((null==(r=t.regionInfo)?void 0:r.parentId)===x)console.log("New block is on the canvas"),n[o].position=t.coordinates,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,o]}):t));else if(null==(i=t.regionInfo)?void 0:i.parentId){console.log("New block is not on the canvas");let n=e.programData[t.regionInfo.parentId];"BLOCK"===t.regionInfo.fieldInfo.type&&t.regionInfo.fieldInfo.isList?n.properties[t.regionInfo.fieldInfo.id].splice(t.regionInfo.idx,0,o):n.properties[t.regionInfo.fieldInfo.id]=o}else alert("No parent block to paste into");e.programData=b(b({},e.programData),n)}else if("CUT"===e.clipboard.action&&e.clipboard.regionInfo&&t.regionInfo){if(e.clipboard.regionInfo.parentId===x)e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:t.blocks.filter((t=>{var n;return t!==(null==(n=e.clipboard.block)?void 0:n.id)}))}):t));else{let t=e.programData[e.clipboard.regionInfo.parentId];"FUNCTION-DECLARATION"!==t.metaType&&"OBJECT-INSTANCE"!==t.metaType&&"FUNCTION-CALL"!==t.metaType||("BLOCK"===e.clipboard.regionInfo.fieldInfo.type&&e.clipboard.regionInfo.fieldInfo.isList?t.properties[e.clipboard.regionInfo.fieldInfo.id].splice(e.clipboard.regionInfo.idx,1):"BLOCK"===e.clipboard.regionInfo.fieldInfo.type&&(t.properties[e.clipboard.regionInfo.fieldInfo.id]=null),e.programData[t.id]=t)}if(t.regionInfo.parentId===x)e.clipboard.block.position=t.coordinates,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,l.id]}):t));else{let n=e.programData[t.regionInfo.parentId];"FUNCTION-DECLARATION"!==n.metaType&&"OBJECT-INSTANCE"!==n.metaType&&"FUNCTION-CALL"!==n.metaType||("BLOCK"===t.regionInfo.fieldInfo.type&&t.regionInfo.fieldInfo.isList?n.properties[t.regionInfo.fieldInfo.id].splice(t.regionInfo.idx,0,null==(o=e.clipboard.block)?void 0:o.id):"BLOCK"===t.regionInfo.fieldInfo.type&&(n.properties[t.regionInfo.fieldInfo.id]=null==(a=e.clipboard.block)?void 0:a.id),e.programData[n.id]=n)}}e.clipboard.action="PASTE"})))},setClipboardBlock:t=>{e((0,c.jM)((e=>{e.clipboard.block=t,e.clipboard.action="SELECT",e.clipboard.regionInfo=void 0})))}}))),J=e=>(0,a.vt)()((0,l.eh)(((t,n,r)=>b(b({},Y(t,n,r)),e)))),H=(J({}),(0,o.createContext)(null));function G(e){const t=(0,o.useContext)(H);if(!t)throw new Error("Missing ProgrammingProvider in the tree");return(0,a.Pj)(t,e)}function K({store:e,initial:t,children:n}){return(0,s.jsx)(H.Provider,{value:e||J(t||{}),children:(0,s.jsx)(Z,{initial:t,children:n})})}function Z({initial:e,children:t}){const n=(0,o.useContext)(H);return(0,o.useEffect)((()=>{null==n||n.setState(e||{})}),[e,n]),(0,s.jsx)(s.Fragment,{children:t})}},29437:(e,t,n)=>{n.d(t,{O:()=>xi,H:()=>ji});var r=n(14041),i=n(19934),o=n(37590),a=n(99873),l=n(24480),c=n(80012),s=n(60824),d=n(67670),u=n(46343),p=n(59193),f=n(65330),h=n(76670),g=n(32602),m=n(31085),b=n(45250),y=n(49723),v=n(70524),x=n(72532),k=n(15428),j=n(40178),C=n(33359),T=n(22855),w=n(92323),_=n(56260),A=n(66272),I=n(45982),D=n(78761),O=n(18205),R=n(67549),E=n(23157),N=n(76665),S=n(22990),B=n(93921),F=n(51956),P=n(83486),L=Object.defineProperty,U=Object.defineProperties,W=Object.getOwnPropertyDescriptors,z=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable,q=(e,t,n)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,V=(e,t)=>{for(var n in t||(t={}))M.call(t,n)&&q(e,n,t[n]);if(z)for(var n of z(t))$.call(t,n)&&q(e,n,t[n]);return e},X=(e,t)=>U(e,W(t)),Y=(e,t)=>{var n={};for(var r in e)M.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&z)for(var r of z(e))t.indexOf(r)<0&&$.call(e,r)&&(n[r]=e[r]);return n},J=h.A.button({all:"unset",display:"flex",flexDirection:"column",paddingLeft:"0px",paddingTop:"2px",paddingRight:"0px",paddingBottom:"2px",margin:"0px",alignItems:"center",justifyContent:"center",borderRadius:"4px",lineHeight:1,height:"10px",background:"#22222299","&:focus":{background:"#222222",color:"#bbb"},"&:hover":{background:"#222222",color:"#bbb"}},(({disabled:e})=>({opacity:e?.5:1}))),H=({onClickUp:e=(e=>{}),onClickDown:t=(e=>{}),disabled:n=!1,above:r=!1,below:i=!1,style:o={}})=>(0,m.jsxs)("div",{style:V({marginLeft:3,display:"inline-flex",flexDirection:"column",borderRadius:3,justifyContent:"center",alignItems:"center"},o),role:"button",children:[(0,m.jsx)(J,{disabled:n||r,onClick:e,style:{borderBottomLeftRadius:0,borderBottomRightRadius:0},children:(0,m.jsx)(g.Mtm,{})}),(0,m.jsx)(J,{disabled:n||i,onClick:t,style:{borderTopLeftRadius:0,borderTopRightRadius:0},children:(0,m.jsx)(g.D3D,{})})]}),G=["0","1","2","3","4","5","6","7","8","9",".","-"],K="BELOW",Z="LOWER",Q="WITHIN",ee="UPPER",te="ABOVE",ne="INVALID",re=[Z,Q,ee],ie=(0,p.Ay)("label",{shouldForwardProp:e=>!["wrapped","focused"].includes(e)})({height:35,fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",display:"flex",flexDirecion:"column",flex:1,alignItems:"center"},(({theme:e,wrapped:t,disabled:n,focused:r})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.1:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.1:.75),borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary,boxShadow:r?`0 0 0 1px ${e.palette.primary.main}`:void 0,cursor:n?"not-allowed":"arrow","&:hover":r?{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`}:null,"&:focus-visible":{userSelect:"none",outline:0}}))),oe=(0,p.Ay)("span")({fontSize:"0.857rem",lineHeight:1.5,paddingRight:5,paddingLeft:5,height:35,alignItems:"center",display:"flex",whiteSpace:"nowrap"},(({theme:e,wrapped:t,side:n})=>({background:(0,c.X4)(e.palette.background.paper,"left"===n?.2:.1),borderTopRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderTopLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary}))),ae=(0,p.Ay)("input")({all:"unset",width:"100%",fontSize:"0.857rem",lineHeight:1.5,padding:12},(({theme:e,disabled:t})=>({color:t?e.palette.text.secondary:e.palette.text.primary,cursor:t?"not-allowed":"arrow",caretColor:e.palette.primary.main,"::selection":{color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main},"&:hover":{color:t?e.palette.text.secondary:e.palette.text.primary},"&:focus":{color:t?e.palette.text.secondary:e.palette.text.primary},"&:focus-visible":{userSelect:"none",outline:0}}))),le=e=>{var t=e,{disabled:n,value:i,defaultValue:o,readonly:a,hideLabelPrefix:l=!1,label:c,wrapped:s,extra:d,suffix:u,style:p={},disableDrag:f=!1,onBlur:h,onFocus:g}=t,b=Y(t,["disabled","value","defaultValue","readonly","hideLabelPrefix","label","wrapped","extra","suffix","style","disableDrag","onBlur","onFocus"]);const[y,v]=(0,r.useState)(!1),x=l||void 0===c||""===c;return(0,m.jsxs)(ie,{className:f?"nodrag":void 0,onDoubleClick:b.onDoubleClick,disabled:n,focused:y,wrapped:s,style:p,children:[!x&&(0,m.jsx)(oe,{side:"left",wrapped:s,children:c}),(0,m.jsx)(ae,{readOnly:a,value:i,defaultValue:o,disabled:n,onFocus:e=>{v(!0),g&&g(e)},onBlur:e=>{v(!1),h&&h(e)},onChange:b.onChange}),u&&(0,m.jsx)(oe,{side:d?void 0:"right",wrapped:s,children:u}),d&&(0,m.jsx)(oe,{side:"right",wrapped:s,children:d})]})},ce=(0,r.memo)((e=>{var t=e,{disabled:n,readonly:i,label:o,onChange:a=(e=>{}),onDoubleClick:l,onBlur:c,onFocus:d,step:u,value:p=0,suffix:f="",min:h=Number.NEGATIVE_INFINITY,max:g=Number.POSITIVE_INFINITY,style:v={}}=t,x=Y(t,["disabled","readonly","label","onChange","onDoubleClick","onBlur","onFocus","step","value","suffix","min","max","style"]);const{textValue:k,status:j,onChange:C,onStepUp:T,onStepDown:w}=(({initial:e=0,stepSize:t=1,min:n=Number.NEGATIVE_INFINITY,max:i=Number.POSITIVE_INFINITY,onValidChange:o=(e=>{})})=>{const a=e=>e<i&&e>n?Q:e>i?te:e===i?ee:e===n?Z:e<n?K:ne,l=e=>{if("number"==typeof e)return{numeric:e,status:a(e),textValue:e.toString()};if("string"==typeof e){const t=Number(e);if("-"===e)return{numeric:0,status:a(0),textValue:e};if((0,b.isNumber)(t)&&!(0,b.isNaN)(t))return{numeric:t,status:a(t),textValue:e}}return console.warn("failed with ",e,typeof e),{numeric:0,status:ne,textValue:e}},[c,s]=(0,r.useState)(l(e));return{textValue:c.textValue,status:c.status,onChange:e=>{var t,r;if((null==(t=null==e?void 0:e.nativeEvent)?void 0:t.data)&&!G.includes(e.nativeEvent.data))return void s((e=>({numeric:e.numeric,status:e.status,textValue:e.textValue})));if("-"===(null==(r=e.target)?void 0:r.value))return console.log("dash input"),void s({numeric:0,status:a(0),textValue:e.target.value});if(""===e.target.value)return console.log("empty input"),void s({numeric:0,status:a(0),textValue:e.target.value});const c=l(e.target.value);if(c)return re.includes(c.status)?(s(c),void o(c.numeric)):c.status===K?(s(c),void o(n)):c.status===te?(s(c),void o(i)):void console.log("not handled",e.target.value);s((t=>({numeric:t.numeric,status:ne,textValue:e.target.value})))},onStepUp:()=>{const e=l((0,y.bB)(c.numeric+t));s(e),re.includes(e.status)&&o(e.numeric)},onStepDown:()=>{const e=l((0,y.bB)(c.numeric-t));s(e),re.includes(e.status)&&o(e.numeric)}}})({initial:p,stepSize:u,min:h,max:g,onValidChange:a});return(0,m.jsx)(le,{disabled:n,readonly:i,value:k,label:o,suffix:f,onChange:C,onDoubleClick:l,onBlur:c,onFocus:d,extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,alignItems:"center",children:[(0,m.jsx)(H,{disabled:n,above:p>=g,below:p<=h,onClickDown:w,onClickUp:T}),x.extra]}),style:v})})),se=({disabled:e=!1,label:t="Vector",onChange:n=(e=>{}),value:r=[0,0,0],min:i=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],max:o=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],step:a=.1,onBlur:l=(e=>{}),onFocus:c=(e=>{})})=>(0,m.jsxs)("div",{children:[(0,m.jsx)(ce,{label:"X",value:r[0],step:a,min:i[0],max:o[0],onChange:e=>{if(e){let t=[...r];return t[0]=e,t}},style:{marginBottom:2}}),(0,m.jsx)(ce,{label:"Y",value:r[1],min:i[1],max:o[1],onChange:e=>{if(e){let t=[...r];return t[1]=e,t}},style:{marginBottom:2}}),(0,m.jsx)(ce,{label:"Z",value:r[2],min:i[2],max:o[2],onChange:e=>{if(e){let t=[...r];return t[2]=e,t}}})]}),de=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),ue=(0,k.i7)({from:{transform:"translateY(-4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),pe=(0,k.i7)({from:{transform:"translateX(-4px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),fe=(0,k.i7)({from:{transform:"translateX(4px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),he=(0,p.Ay)(x.UC,{shouldForwardProp:e=>!["bgOverride"].includes(e)})({padding:"5px 10px",fontSize:12,lineHeight:"1.5",userSelect:"none",willChange:"transform, opacity",boxShadow:"#00000050 0px 10px 38px -10px, #00000050 0px 10px 20px -15px",zIndex:1e3},(({theme:e,bgOverride:t})=>({"&[data-state='delayed-open'][data-side='top']":{animation:`${de} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='right']":{animation:`${pe} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='bottom']":{animation:`${ue} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='left']":{animation:`${fe} 500ms ${e.transitions.easing.easeInOut}`},borderRadius:e.shape.borderRadius,backgroundColor:t||("light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.3),.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.3),.75)),backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)"}))),ge=(0,p.Ay)(x.i3,{shouldForwardProp:e=>!["bgOverride"].includes(e)})({},(({theme:e,bgOverride:t})=>({fill:t||("light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.3),.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.3),.75))}))),me=({title:e,children:t,placement:n,parent:r,bgOverride:i})=>(0,m.jsx)(x.Kq,{children:(0,m.jsxs)(x.bL,{children:[(0,m.jsx)(x.l9,{asChild:!0,children:t}),(0,m.jsx)(x.ZL,{container:r,children:(0,m.jsxs)(he,{sideOffset:5,side:n,bgOverride:i,children:[e,(0,m.jsx)(ge,{bgOverride:i})]})})]})}),be=(0,r.createContext)({});var ye=j.A,ve=({name:e,size:t=16,style:n={}})=>{const i=(0,r.useContext)(be)||{};if(i[e]){const n=i[e];return(0,m.jsx)(n,{width:t,height:t})}const o=C[e];return o?(0,m.jsx)(o,{width:t,height:t,style:n}):(console.warn("Icon not found, used ",e),(0,m.jsx)(ye,{width:t,height:t,color:"error"}))},xe={small:20,medium:32,large:48},ke={small:"0.9rem",medium:"1.4rem",large:"2rem"},je=(0,p.Ay)(v.A,{shouldForwardProp:e=>!["canToggle","toggled"].includes(e)})((({theme:e,toggled:t,size:n="medium",canToggle:r,color:i="primary"})=>({backgroundColor:r&&t?(0,c.X4)(e.palette[i].main,.6):r&&!t?"transparent":"rgba(100,100,100,0.5)",color:r&&t?(0,c.X4)(e.palette.getContrastText(e.palette[i].main),.8):e.palette.text.primary,fontSize:n?ke[n]:"1.4rem","&.Mui-disabled":{backgroundColor:"rgba(0,0,0,0.25)",color:"#ccc"},borderRadius:.66*e.shape.borderRadius,height:n?xe[n]:24,minWidth:n?xe[n]:24,"&:hover":{backgroundColor:r&&t?(0,c.X4)(e.palette[i].main,.8):r&&!t?(0,c.X4)(e.palette[i].main,.25):"rgba(0,0,0,0.7)",color:r&&t?(0,c.X4)(e.palette.getContrastText(e.palette[i].main),.8):e.palette[i].main},"&:focus-visible":{userSelect:"none",outline:0}}))),Ce=(0,p.Ay)("span")((({})=>({display:"flex"}))),Te=e=>{var t=e,{title:n="Button",onClick:r=(()=>{}),disabled:i=!1,placement:o="top",toggled:a=!1,canToggle:l=!1,icon:c="Circle",color:s="primary",size:d="medium"}=t,u=Y(t,["title","onClick","disabled","placement","toggled","canToggle","icon","color","size"]);return(0,m.jsx)(me,{title:n,placement:o,children:(0,m.jsx)(Ce,{className:"no-outline",children:(0,m.jsx)(je,X(V({className:"no-outline",disabled:i,"aria-label":n,onClick:r,toggled:a,canToggle:l,size:d,color:s},u),{children:(0,m.jsx)(ve,{name:c,size:"large"===d?36:"medium"===d?22:16})}))})})},we={small:24,medium:32,large:48},_e={small:"1rem",medium:"1.4rem",large:"2rem"},Ae=(0,p.Ay)(T.A,{shouldForwardProp:e=>!["canToggle","toggled"].includes(e)})((({theme:e,toggled:t,size:n="medium",canToggle:r,color:i="primary"})=>({backgroundColor:r&&t?(0,c.X4)(e.palette[i].main,.4):r&&!t?"transparent":"rgba(100,100,100,0.5)",color:e.palette.text.primary,fontSize:n?_e[n]:"1.4rem","&.Mui-disabled":{backgroundColor:"rgba(0,0,0,0.25)",color:"#ccc"},flex:1,borderRadius:.66*e.shape.borderRadius,height:n?we[n]:24,minWidth:n?we[n]:24,textTransform:"none","&:hover":{backgroundColor:r&&t?(0,c.X4)(e.palette[i].main,.5):r&&!t?(0,c.X4)(e.palette[i].main,.25):"rgba(0,0,0,0.7)",color:e.palette[i].main},"&:focus-visible":{userSelect:"none",outline:0}}))),Ie=(0,p.Ay)("span")((({})=>({display:"flex",flex:1}))),De=e=>{var t=e,{title:n="Button",startIcon:r,endIcon:i,onClick:o=(()=>{}),disabled:a=!1,placement:l="top",toggled:c=!1,canToggle:s=!1,children:d=null,size:u="medium",color:p="primary"}=t,f=Y(t,["title","startIcon","endIcon","onClick","disabled","placement","toggled","canToggle","children","size","color"]);const h="string"==typeof r?r:"function"==typeof r?r():void 0,g="string"==typeof i?i:"function"==typeof i?i():void 0;return(0,m.jsx)(me,{title:n,placement:l,children:(0,m.jsx)(Ie,{className:"no-outline",children:(0,m.jsx)(Ae,X(V({className:"no-outline",startIcon:h&&(0,m.jsx)(ve,{name:h,size:"large"===u?36:"medium"===u?22:16}),endIcon:g&&(0,m.jsx)(ve,{name:g,size:"large"===u?36:"medium"===u?22:16}),disabled:a,"aria-label":n,onClick:o,toggled:c,canToggle:s,size:u,color:p},f),{children:d}))})})},Oe=(0,p.Ay)("label",{shouldForwardProp:e=>!["wrapped","focused"].includes(e)})({fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",display:"flex",flex:1,alignItems:"center",minHeight:35},(({theme:e,wrapped:t,disabled:n,focused:r})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.1:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.1:.75),border:"none",borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:"light"===e.palette.mode?(0,c.X4)("#eee",n?.5:1):(0,c.X4)("#111",n?.5:1),boxShadow:r?`0 0 0 1px ${e.palette.primary.main}`:void 0,cursor:n?"not-allowed":"arrow","&:hover":r?{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`}:null,"&:focus-visible":{userSelect:"none",outline:0}}))),Re=(0,p.Ay)("span")({fontSize:"0.857rem",lineHeight:1.5,paddingRight:5,paddingLeft:5,alignItems:"center",display:"flex",whiteSpace:"nowrap",minHeight:35,height:"100%"},(({theme:e,wrapped:t,side:n})=>({background:(0,c.X4)(e.palette.background.paper,"left"===n?.2:.1),borderTopRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderTopLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary}))),Ee=(0,p.Ay)(w.A)({all:"unset",flex:1,padding:5,minHeight:35},(({theme:e})=>({caretColor:e.palette.primary.main,"::selection":{color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main},color:e.palette.text.primary,textHighlight:e.palette.primary.main}))),Ne=(0,p.Ay)(s.A)({flex:1}),Se=e=>{var t=e,{disabled:n,defaultValue:i,readonly:o,hideLabelPrefix:a=!1,label:l,wrapped:c,extra:s,suffix:d,style:u={},disableDrag:p=!1,onBlur:f,onFocus:h,minRows:g=3}=t,b=Y(t,["disabled","defaultValue","readonly","hideLabelPrefix","label","wrapped","extra","suffix","style","disableDrag","onBlur","onFocus","minRows"]);const[y,v]=(0,r.useState)(!1),x=a||void 0===l||""===l;return(0,m.jsx)(Ne,{direction:"row",children:(0,m.jsxs)(Oe,{className:p?"nodrag":void 0,onDoubleClick:b.onDoubleClick,disabled:n,focused:y,wrapped:c,style:u,children:[!x&&(0,m.jsx)(Re,{side:"left",wrapped:c,children:l}),(0,m.jsx)(Ee,{cacheMeasurements:!0,minRows:g,readOnly:o,defaultValue:i,disabled:n,onFocus:e=>{v(!0),h&&h(e)},onBlur:e=>{v(!1),f&&f(e)},value:b.value,onChange:b.onChange}),d&&(0,m.jsx)(Re,{side:s?void 0:"right",wrapped:c,children:d}),s&&(0,m.jsx)(Re,{side:"right",wrapped:c,children:s})]})})},Be=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),Fe={minWidth:"220px",padding:"5px",boxShadow:"0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)",backdropfilter:"blur(8pt)",WebkitBackdropFilter:"blur(8pt)",willChange:"transform, opacity",borderRadius:5},Pe={fontSize:"0.8em",lineHeight:1,display:"flex",alignItems:"center",outline:"none","&[data-disabled]":{pointerEvents:"none"}},Le=X(V({},Pe),{height:"25pt",padding:"0 5pt"}),Ue=({theme:e})=>({color:e.palette.primary.main,borderRadius:.66*e.shape.borderRadius,"&[data-highlighted]":{backgroundColor:e.palette.primary.main,color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}}),We=({theme:e})=>X(V({},Ue({theme:e})),{'&[data-state="open"]':{backgroundColor:(0,c.X4)(e.palette.primary.main,.7),color:e.palette.background.paper}}),ze=(0,p.Ay)(_.l9)(Pe,We),Me=(0,p.Ay)(_.ZP)(Le,We),$e=(0,p.Ay)(_.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Be} 500ms cubic-bezier(0.16, 1, 0.3, 1)}`}))),qe=(0,p.Ay)(_.G5)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Be} 500ms cubic-bezier(0.16, 1, 0.3, 1)}`}))),Ve=(0,p.Ay)(_.q7)(Le,Ue),Xe=(0,p.Ay)(_.wv)({height:1,margin:5},(({theme:e})=>({backgroundColor:e.palette.primary.main}))),Ye=(0,p.Ay)(_.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),Je=(0,p.Ay)(_.i3)({},(({theme:e})=>({fill:(0,c.X4)(e.palette.background.paper,.8)}))),He=(0,p.Ay)("div")({marginLeft:"auto",paddingLeft:"20pt"},(({theme:e})=>({color:e.palette.primary.main,"[data-highlighted] > &":{color:e.palette.background.paper},'[data-state="open"] > &':{color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}}))),Ge=(0,p.Ay)("div")({paddingRight:"7pt"},(({theme:e})=>({color:e.palette.primary.main,"[data-highlighted] > &":{color:e.palette.background.paper},'[data-state="open"] > &':{color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}})));function Ke({data:e,inner:t}){return"DIVIDER"===t.type?(0,m.jsx)(Xe,{}):"HEADER"===t.type?(0,m.jsx)(Ye,{children:"function"==typeof t.label?t.label(e):t.label?t.label:"Header"}):t.inner?(0,m.jsxs)(_.Pb,{children:[(0,m.jsxs)(Me,{children:["function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",(0,m.jsx)(He,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right?t.right:"KeyboardArrowRightRounded"})})]}),(0,m.jsx)(_.ZL,{children:(0,m.jsx)(qe,{sideOffset:2,alignOffset:-5,children:t.inner.map(((t,n)=>(0,m.jsx)(Ke,{data:e,inner:t},n)))})})]}):(0,m.jsxs)(Ve,{disabled:t.disabled,onClick:n=>{"function"==typeof t.onClick&&(t.onClick(e,n),t.preventCloseOnClick&&n.preventDefault()),n.stopPropagation()},children:[t.left&&(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.left?t.left(e):t.left})}),"function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",t.right&&(0,m.jsx)(He,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right})})]})}function Ze(e){return(0,m.jsxs)(_.bL,{children:[(0,m.jsx)(ze,{asChild:!0,children:(0,m.jsx)("span",{children:(0,m.jsx)(je,{size:e.size,style:{backgroundColor:"transparent"},children:(0,m.jsx)(ve,{name:"function"==typeof e.icon?e.icon(e.data):"string"==typeof e.icon?e.icon:e.inner?"MenuRounded":"MoreHorizRounded"})})})}),(0,m.jsx)(_.ZL,{children:(0,m.jsxs)($e,{sideOffset:5,children:[e.inner.map(((t,n)=>(0,m.jsx)(Ke,{data:e.data,inner:t},n))),(0,m.jsx)(Je,{})]})})]})}var Qe=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),et=(0,p.Ay)(A.l9)({flex:1},(({theme:e})=>X(V({},Ue({theme:e})),{'&[data-state="open"]':{color:e.palette.background.paper}}))),tt=(0,p.Ay)(A.ZP)(Le,We),nt=(0,p.Ay)(A.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Qe} 500ms cubic-bezier(0.16, 1, 0.3, 1)`}))),rt=(0,p.Ay)(A.G5)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Qe} 500ms cubic-bezier(0.16, 1, 0.3, 1)`}))),it=(0,p.Ay)(A.q7)(Le,Ue),ot=(0,p.Ay)(A.wv)({height:1,margin:5},(({theme:e})=>({backgroundColor:e.palette.primary.main}))),at=(0,p.Ay)(A.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)})));function lt({data:e,inner:t}){return"DIVIDER"===t.type?(0,m.jsx)(ot,{}):"HEADER"===t.type?(0,m.jsx)(at,{children:"function"==typeof t.label?t.label(e):t.label?t.label:"Header"}):t.inner?(0,m.jsxs)(A.Pb,{children:[(0,m.jsxs)(tt,{children:["function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",(0,m.jsx)(He,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right?t.right:"KeyboardArrowRightRounded"})})]}),(0,m.jsx)(A.ZL,{children:(0,m.jsx)(rt,{sideOffset:2,alignOffset:-5,children:t.inner.map(((t,n)=>(0,m.jsx)(lt,{data:e,inner:t},n)))})})]}):(0,m.jsxs)(it,{disabled:t.disabled,onClick:n=>{"function"==typeof t.onClick&&(t.onClick(e,n),t.preventCloseOnClick&&n.preventDefault()),n.stopPropagation()},children:[t.left&&(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.left?t.left(e):t.left})}),"function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",t.right&&(0,m.jsx)(He,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right})})]})}function ct(e){return(0,m.jsxs)(A.bL,{children:[(0,m.jsx)(et,{children:e.children}),(0,m.jsx)(A.ZL,{children:(0,m.jsx)(nt,{children:e.inner.map(((t,n)=>(0,m.jsx)(lt,{data:e.data,inner:t},n)))})})]})}var st,dt,ut=(e=>(e[e.small=8]="small",e[e.sm=8]="sm",e[e.medium=12]="medium",e[e.md=12]="md",e[e.large=16]="large",e[e.lg=16]="lg",e))(ut||{}),pt=(0,h.A)(I.bL)({overflow:"hidden"},(e=>({height:e.height,width:e.width}))),ft=(0,h.A)(I.LM)({width:"100%",height:"100%",borderRadius:"inherit"}),ht=(0,h.A)(I.Ze)({display:"flex",userSelect:"none",touchAction:"none",padding:"2px",background:"#55555525",transition:"background 160ms ease","&:hover":{background:"#45454540"}}),gt=(0,h.A)(ht,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({},(({scrollbarSize:e})=>({width:ut[e]}))),mt=(0,h.A)(ht,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({flexDirection:"column"},(({scrollbarSize:e})=>({height:ut[e]}))),bt=(0,h.A)(I.zi,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({flex:1,background:"#eeeeee66"},(({scrollbarSize:e})=>({borderRadius:ut[e]}))),yt=({children:e,horizontal:t=!1,vertical:n=!0,height:r="100%",width:i="100%",scrollbarSize:o="medium"})=>(0,m.jsxs)(pt,{height:r,width:i,onDrag:e=>e.stopPropagation(),children:[(0,m.jsx)(ft,{children:e}),t&&(0,m.jsx)(mt,{orientation:"horizontal",scrollbarSize:o,children:(0,m.jsx)(bt,{scrollbarSize:o})}),n&&(0,m.jsx)(gt,{orientation:"vertical",scrollbarSize:o,children:(0,m.jsx)(bt,{scrollbarSize:o})}),(0,m.jsx)(I.OK,{})]}),vt=(0,p.Ay)((e=>(0,m.jsx)(D.Ay,X(V({},e),{orientation:"vertical"}))))({width:8,marginTop:7,marginBottom:7,'& input[type="range"]':{WebkitAppearance:"slider-vertical"},"& .MuiSlider-track":{border:"none",backgroundColor:"#dddddd"},"& .MuiSlider-rail":{backgroundColor:"#222"},"& .MuiSlider-thumb":{height:14,width:14,backgroundColor:"#90909050",WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"},"&:hover, &.Mui-active":{height:20,width:20}},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"#70707050",WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)",transformOrigin:"center right",transform:"translate(200%, -50%) rotate(45deg) scale(0)","&:before":{display:"none"},"&.MuiSlider-valueLabelOpen":{transform:"translate(200%, -50%) rotate(45deg) scale(1)"},"& > *":{transform:"rotate(-45deg)"}}}),xt=({options:e=[],label:t,value:n,onChange:r,wrapped:i=!1,disabled:o=!1})=>{var a;return(0,m.jsxs)(O.bL,{children:[(0,m.jsxs)(Ot,{"aria-label":t,wrapped:i,disabled:o,children:[t?(0,m.jsx)(oe,{side:"left",children:t}):(0,m.jsx)("span",{children:" "}),(0,m.jsx)(jt,{placeholder:(null==(a=e.filter((e=>e.value===n))[0])?void 0:a.label)||"Unset"}),(0,m.jsx)(At,{children:(0,m.jsx)(g.D3D,{})})]}),(0,m.jsx)(O.ZL,{children:(0,m.jsxs)(kt,{position:"popper",children:[(0,m.jsx)(Dt,{children:(0,m.jsx)(g.Mtm,{})}),(0,m.jsx)(Tt,{children:(0,m.jsxs)(O.YJ,{children:[t&&(0,m.jsx)(_t,{children:t}),e.map((e=>(0,m.jsxs)(wt,{value:e.value,onClick:()=>{r(e.value)},disabled:o,children:[(0,m.jsx)(O.p4,{children:e.label}),(0,m.jsx)(Ct,{children:(0,m.jsx)(g.Srz,{})})]},e.value)))]})}),(0,m.jsx)(It,{children:(0,m.jsx)(g.D3D,{})})]})})]})},kt=(0,p.Ay)(O.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.7)}))),jt=(0,p.Ay)(O.WT)({flex:1}),Ct=(0,p.Ay)(O.VF)({position:"absolute",left:0,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",padding:12}),Tt=(0,p.Ay)(O.LM)({padding:5}),wt=(0,p.Ay)(O.q7)(X(V({},Le),{display:"flex",alignItems:"center",height:25,padding:"0 35px 0 25px",position:"relative",userSelect:"none"}),Ue),_t=(0,p.Ay)(O.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),At=(0,p.Ay)(O.In)({fontSize:20,height:35,padding:8},(({theme:e})=>({background:(0,c.X4)(e.palette.background.paper,.1)}))),It=(0,p.Ay)(O.wn)({display:"flex",alignItems:"center",justifyContent:"center",height:25,cursor:"default"},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),Dt=(0,p.Ay)(O.PP)({display:"flex",alignItems:"center",justifyContent:"center",height:25,cursor:"default"},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),Ot=(0,p.Ay)(O.l9,{shouldForwardProp:e=>!["wrapped"].includes(e)})({height:35,fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",alignItems:"center",display:"flex",justifyContent:"space-between",padding:0,gap:"5px"},(({theme:e,wrapped:t,disabled:n})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.5:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.5:.75),border:"none",borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:n?e.palette.text.secondary:e.palette.text.primary,cursor:n?"not-allowed":"arrow","&:hover":{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:.8):(0,c.X4)("#000",n?.5:.8)},"&:focus":{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`},"&:focus-visible":{userSelect:"none",outline:0}}))),Rt=({value:e=!1,defaultValue:t=!1,label:n,onChange:r=(e=>{}),disabled:i=!1})=>(0,m.jsxs)(ie,{disabled:i,style:{justifyContent:"space-between",paddingRight:5},onDoubleClick:e=>e.stopPropagation(),children:[(0,m.jsx)(oe,{side:"left",children:n}),(0,m.jsx)(Et,{checked:e,defaultChecked:t,onCheckedChange:r,disabled:i,children:(0,m.jsx)(Nt,{})})]}),Et=(0,p.Ay)(R.bL)({all:"unset",width:42,height:25,borderRadius:100,marginLeft:5,position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)","&:focus":{boxShadow:"0 0 0 2px rgba(0,0,0,0.1)"}},(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:"light"===e.palette.mode?(0,c.e$)(e.palette.background.paper,.1):(0,c.a)(e.palette.background.paper,.1),"&[data-state='checked']":{backgroundColor:e.palette.primary.main}}))),Nt=(0,p.Ay)(R.zi)({display:"block",width:21,height:21,boxShadow:"0 2px 2px var(--black-a7)",transition:"transform 100ms",transform:"translateX(2px)",willChange:"transform","&[data-state='checked']":{transform:"translateX(19px)"}},(({theme:e})=>({borderRadius:.66*e.shape.borderRadius,backgroundColor:"light"===e.palette.mode?"#444":"#ccc"}))),St=(0,k.i7)({from:{opacity:0},to:{opacity:1}}),Bt=(0,p.Ay)("div")({position:"fixed",width:"100vw",height:"100vh",inset:0,alignContent:"center",justifyContent:"center",userSelect:"none"},(({theme:e,show:t})=>({backgroundColor:t?"rgba(0,0,0,.25)":"transparent",backdropFilter:t?"blur(1px)":void 0,WebkitBackdropFilter:t?"blur(1px)":void 0,animation:`${St} 500ms ${e.transitions.easing.easeInOut}`}))),Ft=(0,f.P)((0,p.Ay)("div",{shouldForwardProp:e=>!["width","height"].includes(e)})({touchAction:"none",position:"fixed",backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",boxShadow:"0 10px 38px -10px rgba(0,0,0,.25), 0 10px 20px -15px rgba(0,0,0,.25)"},(({theme:e,width:t,height:n})=>({backgroundColor:"dark"===e.palette.mode?(0,c.X4)((0,c.a)(e.palette.background.paper,.1),.5):(0,c.X4)((0,c.e$)(e.palette.background.paper,.1),.5),borderRadius:e.shape.borderRadius,top:`calc(50% - ${n/2}px)`,left:`calc(50% - ${t/2}px)`})))),Pt={type:"spring",damping:50,stiffness:400},Lt={min:0,max:10,power:.05},Ut={open:{opacity:1},closed:{opacity:0,transform:"translate(-50%, -50%) scale(0.8)"},exit:{opacity:0,transform:"translate(-50%, -50%) scale(0.8)"},initial:{opacity:0}},Wt=({isOpen:e=!1,onStateChange:t=(e=>{}),showOverlay:n=!0,clickableOverlay:i=!0,draggable:o=!1,children:a})=>{const l=(0,r.useRef)(null),[c,s]=(0,N.A)();return(0,m.jsx)(E.bL,{open:e,onOpenChange:t,children:(0,m.jsxs)(E.ZL,{children:[(0,m.jsx)(Bt,{onClick:i?()=>t(!1):void 0,show:n,ref:l,style:{pointerEvents:i?"auto":"none"}}),e&&(0,m.jsx)(Ft,{ref:c,drag:o,width:s.width,height:s.height,dragConstraints:l,transition:Pt,dragTransition:Lt,initial:"initial",exit:"exit",whileDrag:{scale:1.05},variants:Ut,animate:e?"open":"closed",children:a})]})})},zt=(0,p.Ay)(F.y)((({theme:e})=>({color:e.palette.text.secondary,[`& .${P.m.content}`]:{color:e.palette.text.secondary,borderRadius:3,width:"unset",marginTop:2,paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:e.typography.fontWeightRegular},"&:hover":{backgroundColor:e.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${e.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${P.m.label}`]:{fontWeight:"inherit",color:"inherit"}},"& .label-value":{paddingTop:3,paddingBottom:3,paddingRight:8,paddingLeft:8,borderRadius:8,backgroundColor:"#33333355"}}))),Mt=(0,p.Ay)("span")((({theme:e,value:t})=>({paddingTop:3,paddingBottom:3,paddingRight:8,paddingLeft:8,borderRadius:18,color:t?e.palette.success.contrastText:e.palette.error.contrastText,backgroundColor:t?e.palette.success.main:e.palette.error.main}))),$t=({dataKey:e,data:t})=>"object"==typeof t&&null!==t?(0,m.jsx)(zt,{nodeId:e,label:`${e} `,disabled:0===Object.keys(t).length,children:Object.keys(t).map((e=>(0,m.jsx)($t,{dataKey:e,data:t[e]},e)))},e):"string"==typeof t?(0,m.jsx)(zt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsxs)("span",{className:"label-value",children:['"',t,'"']})]})},e):"number"==typeof t?(0,m.jsx)(zt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:t})]})},e):"boolean"==typeof t?(0,m.jsx)(zt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,":"," ",(0,m.jsx)(Mt,{value:t,children:t?"true":"false"})]})},e):null===t?(0,m.jsx)(zt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:"null"})]})},e):(0,m.jsx)(zt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:"UNKNOWN"})]})},e),qt=(0,p.Ay)(S.A)({whiteSpace:"pre",fontFamily:"monospace",margin:"3px",padding:"5px",borderRadius:4},(({theme:e})=>({backgroundColor:e.palette.background.paper,color:e.palette.text.primary}))),Vt=({data:e,enclose:t})=>(0,m.jsx)(qt,{onClick:e=>e.stopPropagation(),children:(0,m.jsx)(B.G,{sx:{flex:1},defaultCollapseIcon:(0,m.jsx)(g.D3D,{}),defaultExpandIcon:(0,m.jsx)(g.vKP,{}),children:t?(0,m.jsx)($t,{dataKey:"root",data:e}):"object"==typeof e?Object.entries(e).map((([e,t])=>(0,m.jsx)($t,{dataKey:e.toString(),data:t},e))):(0,m.jsx)($t,{dataKey:"root",data:e})})}),Xt=n(9e3),Yt=n(19),Jt=n(80858),Ht=n(6559),Gt=n(686),Kt=n(54552),Zt=n(95623),Qt=n(37413),en=n(26952),tn=n(50616),nn=n(42770),rn=n(92766),on=n(95365),an=n(70365),ln=n(6530),cn=n(554),sn=n(35021),dn=n(9424),un=n(93922),pn=n(27270),fn=n(54643),hn=n(1186),gn=n(61629),mn=n(60470),bn=Object.create,yn=Object.defineProperty,vn=Object.defineProperties,xn=Object.getOwnPropertyDescriptor,kn=Object.getOwnPropertyDescriptors,jn=Object.getOwnPropertyNames,Cn=Object.getOwnPropertySymbols,Tn=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,An=(e,t,n)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,In=(e,t)=>{for(var n in t||(t={}))wn.call(t,n)&&An(e,n,t[n]);if(Cn)for(var n of Cn(t))_n.call(t,n)&&An(e,n,t[n]);return e},Dn=(e,t)=>vn(e,kn(t)),On=(e,t)=>{var n={};for(var r in e)wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Cn)for(var r of Cn(e))t.indexOf(r)<0&&_n.call(e,r)&&(n[r]=e[r]);return n},Rn=(e,t,n)=>(n=null!=e?bn(Tn(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of jn(t))wn.call(e,i)||i===n||yn(e,i,{get:()=>t[i],enumerable:!(r=xn(t,i))||r.enumerable});return e})(!t&&e&&e.__esModule?n:yn(n,"default",{value:e,enumerable:!0}),e)),En=(st={"../../node_modules/lodash/lodash.js"(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,l=32,c=64,s=128,d=256,u=1/0,p=9007199254740991,f=NaN,h=4294967295,g=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",l],["partialRight",c],["rearg",d]],m="[object Arguments]",b="[object Array]",y="[object Boolean]",v="[object Date]",x="[object Error]",k="[object Function]",j="[object GeneratorFunction]",C="[object Map]",T="[object Number]",w="[object Object]",_="[object Promise]",A="[object RegExp]",I="[object Set]",D="[object String]",O="[object Symbol]",R="[object WeakMap]",E="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",U="[object Uint8Array]",W="[object Uint8ClampedArray]",z="[object Uint16Array]",M="[object Uint32Array]",$=/\b__p \+= '';/g,q=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,X=/&(?:amp|lt|gt|quot|#39);/g,Y=/[&<>"']/g,J=RegExp(X.source),H=RegExp(Y.source),G=/<%-([\s\S]+?)%>/g,K=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,ue=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",Oe="["+je+"]",Re="["+Ie+"]",Ee="["+Ce+"]",Ne="\\d+",Se="["+Te+"]",Be="["+we+"]",Fe="[^"+je+Ie+Ne+Te+we+_e+"]",Pe="\\ud83c[\\udffb-\\udfff]",Le="[^"+je+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",We="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+_e+"]",Me="\\u200d",$e="(?:"+Be+"|"+Fe+")",qe="(?:"+ze+"|"+Fe+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Xe="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ye="(?:"+Ee+"|"+Pe+")?",Je="["+Ae+"]?",He=Je+Ye+"(?:"+Me+"(?:"+[Le,Ue,We].join("|")+")"+Je+Ye+")*",Ge="(?:"+[Se,Ue,We].join("|")+")"+He,Ke="(?:"+[Le+Ee+"?",Ee,Ue,We,Oe].join("|")+")",Ze=RegExp(De,"g"),Qe=RegExp(Ee,"g"),et=RegExp(Pe+"(?="+Pe+")|"+Ke+He,"g"),tt=RegExp([ze+"?"+Be+"+"+Ve+"(?="+[Re,ze,"$"].join("|")+")",qe+"+"+Xe+"(?="+[Re,ze+$e,"$"].join("|")+")",ze+"?"+$e+"+"+Ve,ze+"+"+Xe,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ge].join("|"),"g"),nt=RegExp("["+Me+je+Ce+Ae+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[S]=at[B]=at[F]=at[P]=at[L]=at[U]=at[W]=at[z]=at[M]=!0,at[m]=at[b]=at[E]=at[y]=at[N]=at[v]=at[x]=at[k]=at[C]=at[T]=at[w]=at[A]=at[I]=at[D]=at[R]=!1;var lt={};lt[m]=lt[b]=lt[E]=lt[N]=lt[y]=lt[v]=lt[S]=lt[B]=lt[F]=lt[P]=lt[L]=lt[C]=lt[T]=lt[w]=lt[A]=lt[I]=lt[D]=lt[O]=lt[U]=lt[W]=lt[z]=lt[M]=!0,lt[x]=lt[k]=lt[R]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,dt=parseInt,ut="object"==typeof global&&global&&global.Object===Object&&global,pt="object"==typeof self&&self&&self.Object===Object&&self,ft=ut||pt||Function("return this")(),ht="object"==typeof e&&e&&!e.nodeType&&e,gt=ht&&"object"==typeof t&&t&&!t.nodeType&&t,mt=gt&&gt.exports===ht,bt=mt&&ut.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),vt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,kt=yt&&yt.isMap,jt=yt&&yt.isRegExp,Ct=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Rt(e,t){return!(null==e||!e.length)&&zt(e,t,0)>-1}function Et(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function St(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Bt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Ft(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Pt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Lt=Vt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Wt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function zt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Wt(e,$t,n)}function Mt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function $t(e){return e!=e}function qt(e,t){var n=null==e?0:e.length;return n?Jt(e,t)/n:f}function Vt(e){return function(t){return null==t?n:t[e]}}function Xt(e){return function(t){return null==e?n:e[t]}}function Yt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Jt(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function Ht(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Gt(e){return e?e.slice(0,fn(e)+1).replace(ie,""):e}function Kt(e){return function(t){return e(t)}}function Zt(e,t){return Nt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}var nn=Xt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),rn=Xt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function an(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var l=e[n];l!==t&&l!==o||(e[n]=o,a[i++]=n)}return a}function dn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function un(e){return an(e)?function(e){for(var t=et.lastIndex=0;et.test(e);)++t;return t}(e):Lt(e)}function pn(e){return an(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var hn=Xt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var oe,je=(t=null==t?ft:gn.defaults(ft.Object(),t,gn.pick(ft,it))).Array,Ce=t.Date,Te=t.Error,we=t.Function,_e=t.Math,Ae=t.Object,Ie=t.RegExp,De=t.String,Oe=t.TypeError,Re=je.prototype,Ee=we.prototype,Ne=Ae.prototype,Se=t["__core-js_shared__"],Be=Ee.toString,Fe=Ne.hasOwnProperty,Pe=0,Le=(oe=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",Ue=Ne.toString,We=Be.call(Ae),ze=ft._,Me=Ie("^"+Be.call(Fe).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$e=mt?t.Buffer:n,qe=t.Symbol,Ve=t.Uint8Array,Xe=$e?$e.allocUnsafe:n,Ye=cn(Ae.getPrototypeOf,Ae),Je=Ae.create,He=Ne.propertyIsEnumerable,Ge=Re.splice,Ke=qe?qe.isConcatSpreadable:n,et=qe?qe.iterator:n,nt=qe?qe.toStringTag:n,ct=function(){try{var e=po(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,pt=Ce&&Ce.now!==ft.Date.now&&Ce.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,gt=_e.ceil,bt=_e.floor,yt=Ae.getOwnPropertySymbols,Lt=$e?$e.isBuffer:n,Xt=t.isFinite,mn=Re.join,bn=cn(Ae.keys,Ae),yn=_e.max,vn=_e.min,xn=Ce.now,kn=t.parseInt,jn=_e.random,Cn=Re.reverse,Tn=po(t,"DataView"),wn=po(t,"Map"),_n=po(t,"Promise"),An=po(t,"Set"),In=po(t,"WeakMap"),Dn=po(Ae,"create"),On=In&&new In,Rn={},En=zo(Tn),Nn=zo(wn),Sn=zo(_n),Bn=zo(An),Fn=zo(In),Pn=qe?qe.prototype:n,Ln=Pn?Pn.valueOf:n,Un=Pn?Pn.toString:n;function Wn(e){if(il(e)&&!Ya(e)&&!(e instanceof qn)){if(e instanceof $n)return e;if(Fe.call(e,"__wrapped__"))return Mo(e)}return new $n(e)}var zn=function(){function e(){}return function(t){if(!rl(t))return{};if(Je)return Je(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Mn(){}function $n(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function qn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Vn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Hn(e){var t=this.__data__=new Xn(e);this.size=t.size}function Gn(e,t){var n=Ya(e),r=!n&&Xa(e),i=!n&&!r&&Ka(e),o=!n&&!r&&!i&&pl(e),a=n||r||i||o,l=a?Ht(e.length,De):[],c=l.length;for(var s in e)!t&&!Fe.call(e,s)||a&&("length"==s||i&&("offset"==s||"parent"==s)||o&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||vo(s,c))||l.push(s);return l}function Kn(e){var t=e.length;return t?e[Jr(0,t-1)]:n}function Zn(e,t){return Bo(Di(e),lr(t,0,e.length))}function Qn(e){return Bo(Di(e))}function er(e,t,r){(r!==n&&!$a(e[t],r)||r===n&&!(t in e))&&or(e,t,r)}function tr(e,t,r){var i=e[t];Fe.call(e,t)&&$a(i,r)&&(r!==n||t in e)||or(e,t,r)}function nr(e,t){for(var n=e.length;n--;)if($a(e[n][0],t))return n;return-1}function rr(e,t,n,r){return pr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function ir(e,t){return e&&Oi(t,Sl(t),e)}function or(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,i=t.length,o=je(i),a=null==e;++r<i;)o[r]=a?n:Dl(e,t[r]);return o}function lr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,i,o,a){var l,c=1&t,s=2&t,d=4&t;if(r&&(l=o?r(e,i,o,a):r(e)),l!==n)return l;if(!rl(e))return e;var u=Ya(e);if(u){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Di(e,l)}else{var p=go(e),f=p==k||p==j;if(Ka(e))return Ci(e,c);if(p==w||p==m||f&&!o){if(l=s||f?{}:bo(e),!c)return s?function(e,t){return Oi(e,ho(e),t)}(e,function(e,t){return e&&Oi(t,Bl(t),e)}(l,e)):function(e,t){return Oi(e,fo(e),t)}(e,ir(l,e))}else{if(!lt[p])return o?e:{};l=function(e,t,n){var r,i=e.constructor;switch(t){case E:return Ti(e);case y:case v:return new i(+e);case N:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case B:case F:case P:case L:case U:case W:case z:case M:return wi(e,n);case C:return new i;case T:case D:return new i(e);case A:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new i;case O:return r=e,Ln?Ae(Ln.call(r)):{}}}(e,p,c)}}a||(a=new Hn);var h=a.get(e);if(h)return h;a.set(e,l),sl(e)?e.forEach((function(n){l.add(cr(n,t,r,n,e,a))})):ol(e)&&e.forEach((function(n,i){l.set(i,cr(n,t,r,i,e,a))}));var g=u?n:(d?s?io:ro:s?Bl:Sl)(e);return At(g||e,(function(n,i){g&&(n=e[i=n]),tr(l,i,cr(n,t,r,i,e,a))})),l}function sr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Ae(e);i--;){var o=r[i],a=t[o],l=e[o];if(l===n&&!(o in e)||!a(l))return!1}return!0}function dr(e,t,i){if("function"!=typeof e)throw new Oe(r);return Ro((function(){e.apply(n,i)}),t)}function ur(e,t,n,r){var i=-1,o=Rt,a=!0,l=e.length,c=[],s=t.length;if(!l)return c;n&&(t=Nt(t,Kt(n))),r?(o=Et,a=!1):t.length>=200&&(o=Qt,a=!1,t=new Jn(t));e:for(;++i<l;){var d=e[i],u=null==n?d:n(d);if(d=r||0!==d?d:0,a&&u==u){for(var p=s;p--;)if(t[p]===u)continue e;c.push(d)}else o(t,u,r)||c.push(d)}return c}Wn.templateSettings={escape:G,evaluate:K,interpolate:Z,variable:"",imports:{_:Wn}},Wn.prototype=Mn.prototype,Wn.prototype.constructor=Wn,$n.prototype=zn(Mn.prototype),$n.prototype.constructor=$n,qn.prototype=zn(Mn.prototype),qn.prototype.constructor=qn,Vn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Vn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Vn.prototype.get=function(e){var t=this.__data__;if(Dn){var r=t[e];return r===i?n:r}return Fe.call(t,e)?t[e]:n},Vn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==n:Fe.call(t,e)},Vn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Dn&&t===n?i:t,this},Xn.prototype.clear=function(){this.__data__=[],this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0||(n==t.length-1?t.pop():Ge.call(t,n,1),--this.size,0))},Xn.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?n:t[r][1]},Xn.prototype.has=function(e){return nr(this.__data__,e)>-1},Xn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Vn,map:new(wn||Xn),string:new Vn}},Yn.prototype.delete=function(e){var t=so(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return so(this,e).get(e)},Yn.prototype.has=function(e){return so(this,e).has(e)},Yn.prototype.set=function(e,t){var n=so(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,i),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.clear=function(){this.__data__=new Xn,this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Hn.prototype.get=function(e){return this.__data__.get(e)},Hn.prototype.has=function(e){return this.__data__.has(e)},Hn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Xn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var pr=Ni(xr),fr=Ni(kr,!0);function hr(e,t){var n=!0;return pr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],l=t(a);if(null!=l&&(c===n?l==l&&!ul(l):r(l,c)))var c=l,s=a}return s}function mr(e,t){var n=[];return pr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function br(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var l=e[o];t>0&&n(l)?t>1?br(l,t-1,n,r,i):St(i,l):r||(i[i.length]=l)}return i}var yr=Si(),vr=Si(!0);function xr(e,t){return e&&yr(e,t,Sl)}function kr(e,t){return e&&vr(e,t,Sl)}function jr(e,t){return Ot(t,(function(t){return el(e[t])}))}function Cr(e,t){for(var r=0,i=(t=vi(t,e)).length;null!=e&&r<i;)e=e[Wo(t[r++])];return r&&r==i?e:n}function Tr(e,t,n){var r=t(e);return Ya(e)?r:St(r,n(e))}function wr(e){return null==e?e===n?"[object Undefined]":"[object Null]":nt&&nt in Ae(e)?function(e){var t=Fe.call(e,nt),r=e[nt];try{e[nt]=n;var i=!0}catch(a){}var o=Ue.call(e);return i&&(t?e[nt]=r:delete e[nt]),o}(e):function(e){return Ue.call(e)}(e)}function _r(e,t){return e>t}function Ar(e,t){return null!=e&&Fe.call(e,t)}function Ir(e,t){return null!=e&&t in Ae(e)}function Dr(e,t,r){for(var i=r?Et:Rt,o=e[0].length,a=e.length,l=a,c=je(a),s=1/0,d=[];l--;){var u=e[l];l&&t&&(u=Nt(u,Kt(t))),s=vn(u.length,s),c[l]=!r&&(t||o>=120&&u.length>=120)?new Jn(l&&u):n}u=e[0];var p=-1,f=c[0];e:for(;++p<o&&d.length<s;){var h=u[p],g=t?t(h):h;if(h=r||0!==h?h:0,!(f?Qt(f,g):i(d,g,r))){for(l=a;--l;){var m=c[l];if(!(m?Qt(m,g):i(e[l],g,r)))continue e}f&&f.push(g),d.push(h)}}return d}function Or(e,t,r){var i=null==(e=Io(e,t=vi(t,e)))?e:e[Wo(Qo(t))];return null==i?n:wt(i,e,r)}function Rr(e){return il(e)&&wr(e)==m}function Er(e,t,r,i,o){return e===t||(null==e||null==t||!il(e)&&!il(t)?e!=e&&t!=t:function(e,t,r,i,o,a){var l=Ya(e),c=Ya(t),s=l?b:go(e),d=c?b:go(t),u=(s=s==m?w:s)==w,p=(d=d==m?w:d)==w,f=s==d;if(f&&Ka(e)){if(!Ka(t))return!1;l=!0,u=!1}if(f&&!u)return a||(a=new Hn),l||pl(e)?to(e,t,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!o(new Ve(e),new Ve(t)));case y:case v:case T:return $a(+e,+t);case x:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case C:var l=ln;case I:var c=1&r;if(l||(l=dn),e.size!=t.size&&!c)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var d=to(l(e),l(t),r,i,o,a);return a.delete(e),d;case O:if(Ln)return Ln.call(e)==Ln.call(t)}return!1}(e,t,s,r,i,o,a);if(!(1&r)){var h=u&&Fe.call(e,"__wrapped__"),g=p&&Fe.call(t,"__wrapped__");if(h||g){var k=h?e.value():e,j=g?t.value():t;return a||(a=new Hn),o(k,j,r,i,a)}}return!!f&&(a||(a=new Hn),function(e,t,r,i,o,a){var l=1&r,c=ro(e),s=c.length,d=ro(t),u=d.length;if(s!=u&&!l)return!1;for(var p=s;p--;){var f=c[p];if(!(l?f in t:Fe.call(t,f)))return!1}var h=a.get(e),g=a.get(t);if(h&&g)return h==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var b=l;++p<s;){var y=e[f=c[p]],v=t[f];if(i)var x=l?i(v,y,f,t,e,a):i(y,v,f,e,t,a);if(!(x===n?y===v||o(y,v,r,i,a):x)){m=!1;break}b||(b="constructor"==f)}if(m&&!b){var k=e.constructor,j=t.constructor;k==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof j&&j instanceof j||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,i,o,a))}(e,t,r,i,Er,o))}function Nr(e,t,r,i){var o=r.length,a=o,l=!i;if(null==e)return!a;for(e=Ae(e);o--;){var c=r[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<a;){var s=(c=r[o])[0],d=e[s],u=c[1];if(l&&c[2]){if(d===n&&!(s in e))return!1}else{var p=new Hn;if(i)var f=i(d,u,s,e,t,p);if(!(f===n?Er(u,d,3,i,p):f))return!1}}return!0}function Sr(e){return!(!rl(e)||(t=e,Le&&Le in t))&&(el(e)?Me:me).test(zo(e));var t}function Br(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Ya(e)?zr(e[0],e[1]):Wr(e):gc(e)}function Fr(e){if(!To(e))return bn(e);var t=[];for(var n in Ae(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Pr(e){if(!rl(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=To(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Lr(e,t){return e<t}function Ur(e,t){var n=-1,r=Ha(e)?je(e.length):[];return pr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Wr(e){var t=uo(e);return 1==t.length&&t[0][2]?_o(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function zr(e,t){return ko(e)&&wo(t)?_o(Wo(e),t):function(r){var i=Dl(r,e);return i===n&&i===t?Ol(r,e):Er(t,i,3)}}function Mr(e,t,r,i,o){e!==t&&yr(t,(function(a,l){if(o||(o=new Hn),rl(a))!function(e,t,r,i,o,a,l){var c=Do(e,r),s=Do(t,r),d=l.get(s);if(d)er(e,r,d);else{var u=a?a(c,s,r+"",e,t,l):n,p=u===n;if(p){var f=Ya(s),h=!f&&Ka(s),g=!f&&!h&&pl(s);u=s,f||h||g?Ya(c)?u=c:Ga(c)?u=Di(c):h?(p=!1,u=Ci(s,!0)):g?(p=!1,u=wi(s,!0)):u=[]:ll(s)||Xa(s)?(u=c,Xa(c)?u=xl(c):rl(c)&&!el(c)||(u=bo(s))):p=!1}p&&(l.set(s,u),o(u,s,i,a,l),l.delete(s)),er(e,r,u)}}(e,t,l,r,Mr,i,o);else{var c=i?i(Do(e,l),a,l+"",e,t,o):n;c===n&&(c=a),er(e,l,c)}}),Bl)}function $r(e,t){var r=e.length;if(r)return vo(t+=t<0?r:0,r)?e[t]:n}function qr(e,t,n){t=t.length?Nt(t,(function(e){return Ya(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;return t=Nt(t,Kt(co())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,i){return{criteria:Nt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,i=e.criteria,o=t.criteria,a=i.length,l=n.length;++r<a;){var c=_i(i[r],o[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Vr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],l=Cr(e,a);n(l,a)&&Qr(o,vi(a,e),l)}return o}function Xr(e,t,n,r){var i=r?Mt:zt,o=-1,a=t.length,l=e;for(e===t&&(t=Di(t)),n&&(l=Nt(e,Kt(n)));++o<a;)for(var c=0,s=t[o],d=n?n(s):s;(c=i(l,d,c,r))>-1;)l!==e&&Ge.call(l,c,1),Ge.call(e,c,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;vo(i)?Ge.call(e,i,1):ui(e,i)}}return e}function Jr(e,t){return e+bt(jn()*(t-e+1))}function Hr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=bt(t/2))&&(e+=e)}while(t);return n}function Gr(e,t){return Eo(Ao(e,t,ac),e+"")}function Kr(e){return Kn($l(e))}function Zr(e,t){var n=$l(e);return Bo(n,lr(t,0,n.length))}function Qr(e,t,r,i){if(!rl(e))return e;for(var o=-1,a=(t=vi(t,e)).length,l=a-1,c=e;null!=c&&++o<a;){var s=Wo(t[o]),d=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=l){var u=c[s];(d=i?i(u,s,c):n)===n&&(d=rl(u)?u:vo(t[o+1])?[]:{})}tr(c,s,d),c=c[s]}return e}var ei=On?function(e,t){return On.set(e,t),e}:ac,ti=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function ni(e){return Bo($l(e))}function ri(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=je(i);++r<i;)o[r]=e[r+t];return o}function ii(e,t){var n;return pr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function oi(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ul(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return ai(e,t,ac,n)}function ai(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var l=(t=r(t))!=t,c=null===t,s=ul(t),d=t===n;o<a;){var u=bt((o+a)/2),p=r(e[u]),f=p!==n,h=null===p,g=p==p,m=ul(p);if(l)var b=i||g;else b=d?g&&(i||f):c?g&&f&&(i||!h):s?g&&f&&!h&&(i||!m):!h&&!m&&(i?p<=t:p<t);b?o=u+1:a=u}return vn(a,4294967294)}function li(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!$a(l,c)){var c=l;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ul(e)?f:+e}function si(e){if("string"==typeof e)return e;if(Ya(e))return Nt(e,si)+"";if(ul(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function di(e,t,n){var r=-1,i=Rt,o=e.length,a=!0,l=[],c=l;if(n)a=!1,i=Et;else if(o>=200){var s=t?null:Hi(e);if(s)return dn(s);a=!1,i=Qt,c=new Jn}else c=t?[]:l;e:for(;++r<o;){var d=e[r],u=t?t(d):d;if(d=n||0!==d?d:0,a&&u==u){for(var p=c.length;p--;)if(c[p]===u)continue e;t&&c.push(u),l.push(d)}else i(c,u,n)||(c!==l&&c.push(u),l.push(d))}return l}function ui(e,t){return null==(e=Io(e,t=vi(t,e)))||delete e[Wo(Qo(t))]}function pi(e,t,n,r){return Qr(e,t,n(Cr(e,t)),r)}function fi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ri(e,r?0:o,r?o+1:i):ri(e,r?o+1:0,r?i:o)}function hi(e,t){var n=e;return n instanceof qn&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,St([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?di(e[0]):[];for(var i=-1,o=je(r);++i<r;)for(var a=e[i],l=-1;++l<r;)l!=i&&(o[i]=ur(o[i]||a,e[l],t,n));return di(br(o,1),t,n)}function mi(e,t,r){for(var i=-1,o=e.length,a=t.length,l={};++i<o;){var c=i<a?t[i]:n;r(l,e[i],c)}return l}function bi(e){return Ga(e)?e:[]}function yi(e){return"function"==typeof e?e:ac}function vi(e,t){return Ya(e)?e:ko(e,t)?[e]:Uo(kl(e))}var xi=Gr;function ki(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ri(e,t,r)}var ji=ut||function(e){return ft.clearTimeout(e)};function Ci(e,t){if(t)return e.slice();var n=e.length,r=Xe?Xe(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new Ve(t).set(new Ve(e)),t}function wi(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function _i(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=ul(e),l=t!==n,c=null===t,s=t==t,d=ul(t);if(!c&&!d&&!a&&e>t||a&&l&&s&&!c&&!d||i&&l&&s||!r&&s||!o)return 1;if(!i&&!a&&!d&&e<t||d&&r&&o&&!i&&!a||c&&r&&o||!l&&o||!s)return-1}return 0}function Ai(e,t,n,r){for(var i=-1,o=e.length,a=n.length,l=-1,c=t.length,s=yn(o-a,0),d=je(c+s),u=!r;++l<c;)d[l]=t[l];for(;++i<a;)(u||i<o)&&(d[n[i]]=e[i]);for(;s--;)d[l++]=e[i++];return d}function Ii(e,t,n,r){for(var i=-1,o=e.length,a=-1,l=n.length,c=-1,s=t.length,d=yn(o-l,0),u=je(d+s),p=!r;++i<d;)u[i]=e[i];for(var f=i;++c<s;)u[f+c]=t[c];for(;++a<l;)(p||i<o)&&(u[f+n[a]]=e[i++]);return u}function Di(e,t){var n=-1,r=e.length;for(t||(t=je(r));++n<r;)t[n]=e[n];return t}function Oi(e,t,r,i){var o=!r;r||(r={});for(var a=-1,l=t.length;++a<l;){var c=t[a],s=i?i(r[c],e[c],c,r,e):n;s===n&&(s=e[c]),o?or(r,c,s):tr(r,c,s)}return r}function Ri(e,t){return function(n,r){var i=Ya(n)?_t:rr,o=t?t():{};return i(n,e,co(r,2),o)}}function Ei(e){return Gr((function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,l=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,l&&xo(r[0],r[1],l)&&(a=o<3?n:a,o=1),t=Ae(t);++i<o;){var c=r[i];c&&e(t,c,i,a)}return t}))}function Ni(e,t){return function(n,r){if(null==n)return n;if(!Ha(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ae(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Si(e){return function(t,n,r){for(var i=-1,o=Ae(t),a=r(t),l=a.length;l--;){var c=a[e?l:++i];if(!1===n(o[c],c,o))break}return t}}function Bi(e){return function(t){var r=an(t=kl(t))?pn(t):n,i=r?r[0]:t.charAt(0),o=r?ki(r,1).join(""):t.slice(1);return i[e]()+o}}function Fi(e){return function(t){return Bt(ec(Xl(t).replace(Ze,"")),e,"")}}function Pi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=zn(e.prototype),r=e.apply(n,t);return rl(r)?r:n}}function Li(e){return function(t,r,i){var o=Ae(t);if(!Ha(t)){var a=co(r,3);t=Sl(t),r=function(e){return a(o[e],e,o)}}var l=e(t,r,i);return l>-1?o[a?t[l]:l]:n}}function Ui(e){return no((function(t){var i=t.length,o=i,a=$n.prototype.thru;for(e&&t.reverse();o--;){var l=t[o];if("function"!=typeof l)throw new Oe(r);if(a&&!c&&"wrapper"==ao(l))var c=new $n([],!0)}for(o=c?o:i;++o<i;){var s=ao(l=t[o]),d="wrapper"==s?oo(l):n;c=d&&jo(d[0])&&424==d[1]&&!d[4].length&&1==d[9]?c[ao(d[0])].apply(c,d[3]):1==l.length&&jo(l)?c[s]():c.thru(l)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Ya(n))return c.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function Wi(e,t,r,i,o,a,l,c,d,u){var p=t&s,f=1&t,h=2&t,g=24&t,m=512&t,b=h?n:Pi(e);return function s(){for(var y=arguments.length,v=je(y),x=y;x--;)v[x]=arguments[x];if(g)var k=lo(s),j=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,k);if(i&&(v=Ai(v,i,o,g)),a&&(v=Ii(v,a,l,g)),y-=j,g&&y<u){var C=sn(v,k);return Yi(e,t,Wi,s.placeholder,r,v,C,c,d,u-y)}var T=f?r:this,w=h?T[e]:e;return y=v.length,c?v=function(e,t){for(var r=e.length,i=vn(t.length,r),o=Di(e);i--;){var a=t[i];e[i]=vo(a,r)?o[a]:n}return e}(v,c):m&&y>1&&v.reverse(),p&&d<y&&(v.length=d),this&&this!==ft&&this instanceof s&&(w=b||Pi(w)),w.apply(T,v)}}function zi(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Mi(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=si(r),i=si(i)):(r=ci(r),i=ci(i)),o=e(r,i)}return o}}function $i(e){return no((function(t){return t=Nt(t,Kt(co())),Gr((function(n){var r=this;return e(t,(function(e){return wt(e,r,n)}))}))}))}function qi(e,t){var r=(t=t===n?" ":si(t)).length;if(r<2)return r?Hr(t,e):t;var i=Hr(t,gt(e/un(t)));return an(t)?ki(pn(i),0,e).join(""):i.slice(0,e)}function Vi(e){return function(t,r,i){return i&&"number"!=typeof i&&xo(t,r,i)&&(r=i=n),t=ml(t),r===n?(r=t,t=0):r=ml(r),function(e,t,n,r){for(var i=-1,o=yn(gt((t-e)/(n||1)),0),a=je(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,r,i=i===n?t<r?1:-1:ml(i),e)}}function Xi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vl(t),n=vl(n)),e(t,n)}}function Yi(e,t,r,i,o,a,s,d,u,p){var f=8&t;t|=f?l:c,4&(t&=~(f?c:l))||(t&=-4);var h=[e,t,o,f?a:n,f?s:n,f?n:a,f?n:s,d,u,p],g=r.apply(n,h);return jo(e)&&Oo(g,h),g.placeholder=i,No(g,e,t)}function Ji(e){var t=_e[e];return function(e,n){if(e=vl(e),(n=null==n?0:vn(bl(n),292))&&Xt(e)){var r=(kl(e)+"e").split("e");return+((r=(kl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Hi=An&&1/dn(new An([,-0]))[1]==u?function(e){return new An(e)}:uc;function Gi(e){return function(t){var n=go(t);return n==C?ln(t):n==I?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ki(e,t,i,u,p,f,h,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Oe(r);var b=u?u.length:0;if(b||(t&=-97,u=p=n),h=h===n?h:yn(bl(h),0),g=g===n?g:bl(g),b-=p?p.length:0,t&c){var y=u,v=p;u=p=n}var x=m?n:oo(e),k=[e,t,i,u,p,y,v,f,h,g];if(x&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,l=r==s&&8==n||r==s&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!l)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?Ai(u,c,t[4]):c,e[4]=u?sn(e[3],o):t[4]}(c=t[5])&&(u=e[5],e[5]=u?Ii(u,c,t[6]):c,e[6]=u?sn(e[5],o):t[6]),(c=t[7])&&(e[7]=c),r&s&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(k,x),e=k[0],t=k[1],i=k[2],u=k[3],p=k[4],!(g=k[9]=k[9]===n?m?0:e.length:yn(k[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)j=8==t||t==a?function(e,t,r){var i=Pi(e);return function o(){for(var a=arguments.length,l=je(a),c=a,s=lo(o);c--;)l[c]=arguments[c];var d=a<3&&l[0]!==s&&l[a-1]!==s?[]:sn(l,s);return(a-=d.length)<r?Yi(e,t,Wi,o.placeholder,n,l,d,n,n,r-a):wt(this&&this!==ft&&this instanceof o?i:e,this,l)}}(e,t,g):t!=l&&33!=t||p.length?Wi.apply(n,k):function(e,t,n,r){var i=1&t,o=Pi(e);return function t(){for(var a=-1,l=arguments.length,c=-1,s=r.length,d=je(s+l),u=this&&this!==ft&&this instanceof t?o:e;++c<s;)d[c]=r[c];for(;l--;)d[c++]=arguments[++a];return wt(u,i?n:this,d)}}(e,t,i,u);else var j=function(e,t,n){var r=1&t,i=Pi(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return No((x?ei:Oo)(j,k),e,t)}function Zi(e,t,r,i){return e===n||$a(e,Ne[r])&&!Fe.call(i,r)?t:e}function Qi(e,t,r,i,o,a){return rl(e)&&rl(t)&&(a.set(t,e),Mr(e,t,n,Qi,a),a.delete(t)),e}function eo(e){return ll(e)?n:e}function to(e,t,r,i,o,a){var l=1&r,c=e.length,s=t.length;if(c!=s&&!(l&&s>c))return!1;var d=a.get(e),u=a.get(t);if(d&&u)return d==t&&u==e;var p=-1,f=!0,h=2&r?new Jn:n;for(a.set(e,t),a.set(t,e);++p<c;){var g=e[p],m=t[p];if(i)var b=l?i(m,g,p,t,e,a):i(g,m,p,e,t,a);if(b!==n){if(b)continue;f=!1;break}if(h){if(!Pt(t,(function(e,t){if(!Qt(h,t)&&(g===e||o(g,e,r,i,a)))return h.push(t)}))){f=!1;break}}else if(g!==m&&!o(g,m,r,i,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function no(e){return Eo(Ao(e,n,Jo),e+"")}function ro(e){return Tr(e,Sl,fo)}function io(e){return Tr(e,Bl,ho)}var oo=On?function(e){return On.get(e)}:uc;function ao(e){for(var t=e.name+"",n=Rn[t],r=Fe.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function lo(e){return(Fe.call(Wn,"placeholder")?Wn:e).placeholder}function co(){var e=Wn.iteratee||lc;return e=e===lc?Br:e,arguments.length?e(arguments[0],arguments[1]):e}function so(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function uo(e){for(var t=Sl(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,wo(i)]}return t}function po(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Sr(r)?r:n}var fo=yt?function(e){return null==e?[]:(e=Ae(e),Ot(yt(e),(function(t){return He.call(e,t)})))}:yc,ho=yt?function(e){for(var t=[];e;)St(t,fo(e)),e=Ye(e);return t}:yc,go=wr;function mo(e,t,n){for(var r=-1,i=(t=vi(t,e)).length,o=!1;++r<i;){var a=Wo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&nl(i)&&vo(a,i)&&(Ya(e)||Xa(e))}function bo(e){return"function"!=typeof e.constructor||To(e)?{}:zn(Ye(e))}function yo(e){return Ya(e)||Xa(e)||!!(Ke&&e&&e[Ke])}function vo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function xo(e,t,n){if(!rl(n))return!1;var r=typeof t;return!!("number"==r?Ha(n)&&vo(t,n.length):"string"==r&&t in n)&&$a(n[t],e)}function ko(e,t){if(Ya(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ul(e))||ee.test(e)||!Q.test(e)||null!=t&&e in Ae(t)}function jo(e){var t=ao(e),n=Wn[t];if("function"!=typeof n||!(t in qn.prototype))return!1;if(e===n)return!0;var r=oo(n);return!!r&&e===r[0]}(Tn&&go(new Tn(new ArrayBuffer(1)))!=N||wn&&go(new wn)!=C||_n&&go(_n.resolve())!=_||An&&go(new An)!=I||In&&go(new In)!=R)&&(go=function(e){var t=wr(e),r=t==w?e.constructor:n,i=r?zo(r):"";if(i)switch(i){case En:return N;case Nn:return C;case Sn:return _;case Bn:return I;case Fn:return R}return t});var Co=Se?el:vc;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function wo(e){return e==e&&!rl(e)}function _o(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in Ae(r))}}function Ao(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=yn(n.length-t,0),a=je(o);++i<o;)a[i]=n[t+i];i=-1;for(var l=je(t+1);++i<t;)l[i]=n[i];return l[t]=r(a),wt(e,this,l)}}function Io(e,t){return t.length<2?e:Cr(e,ri(t,0,-1))}function Do(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Oo=So(ei),Ro=ht||function(e,t){return ft.setTimeout(e,t)},Eo=So(ti);function No(e,t,n){var r=t+"";return Eo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(g,(function(n){var r="_."+n[0];t&n[1]&&!Rt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function So(e){var t=0,r=0;return function(){var i=xn(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Bo(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=Jr(r,o),l=e[a];e[a]=e[r],e[r]=l}return e.length=t,e}var Fo,Po,Lo,Uo=(Fo=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(ue,"$1"):n||e)})),t},Po=Pa(Fo,(function(e){return 500===Lo.size&&Lo.clear(),e})),Lo=Po.cache,Po);function Wo(e){if("string"==typeof e||ul(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return Be.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Mo(e){if(e instanceof qn)return e.clone();var t=new $n(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var $o=Gr((function(e,t){return Ga(e)?ur(e,br(t,1,Ga,!0)):[]})),qo=Gr((function(e,t){var r=Qo(t);return Ga(r)&&(r=n),Ga(e)?ur(e,br(t,1,Ga,!0),co(r,2)):[]})),Vo=Gr((function(e,t){var r=Qo(t);return Ga(r)&&(r=n),Ga(e)?ur(e,br(t,1,Ga,!0),n,r):[]}));function Xo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bl(n);return i<0&&(i=yn(r+i,0)),Wt(e,co(t,3),i)}function Yo(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=bl(r),o=r<0?yn(i+o,0):vn(o,i-1)),Wt(e,co(t,3),o,!0)}function Jo(e){return null!=e&&e.length?br(e,1):[]}function Ho(e){return e&&e.length?e[0]:n}var Go=Gr((function(e){var t=Nt(e,bi);return t.length&&t[0]===e[0]?Dr(t):[]})),Ko=Gr((function(e){var t=Qo(e),r=Nt(e,bi);return t===Qo(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Dr(r,co(t,2)):[]})),Zo=Gr((function(e){var t=Qo(e),r=Nt(e,bi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Dr(r,n,t):[]}));function Qo(e){var t=null==e?0:e.length;return t?e[t-1]:n}var ea=Gr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Xr(e,t):e}var na=no((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Yr(e,Nt(t,(function(e){return vo(e,n)?+e:e})).sort(_i)),r}));function ra(e){return null==e?e:Cn.call(e)}var ia=Gr((function(e){return di(br(e,1,Ga,!0))})),oa=Gr((function(e){var t=Qo(e);return Ga(t)&&(t=n),di(br(e,1,Ga,!0),co(t,2))})),aa=Gr((function(e){var t=Qo(e);return t="function"==typeof t?t:n,di(br(e,1,Ga,!0),n,t)}));function la(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Ga(e))return t=yn(e.length,t),!0})),Ht(t,(function(t){return Nt(e,Vt(t))}))}function ca(e,t){if(!e||!e.length)return[];var r=la(e);return null==t?r:Nt(r,(function(e){return wt(t,n,e)}))}var sa=Gr((function(e,t){return Ga(e)?ur(e,t):[]})),da=Gr((function(e){return gi(Ot(e,Ga))})),ua=Gr((function(e){var t=Qo(e);return Ga(t)&&(t=n),gi(Ot(e,Ga),co(t,2))})),pa=Gr((function(e){var t=Qo(e);return t="function"==typeof t?t:n,gi(Ot(e,Ga),n,t)})),fa=Gr(la),ha=Gr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ca(e,r)}));function ga(e){var t=Wn(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var ba=no((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&i instanceof qn&&vo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:ma,args:[o],thisArg:n}),new $n(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)})),ya=Ri((function(e,t,n){Fe.call(e,n)?++e[n]:or(e,n,1)})),va=Li(Xo),xa=Li(Yo);function ka(e,t){return(Ya(e)?At:pr)(e,co(t,3))}function ja(e,t){return(Ya(e)?It:fr)(e,co(t,3))}var Ca=Ri((function(e,t,n){Fe.call(e,n)?e[n].push(t):or(e,n,[t])})),Ta=Gr((function(e,t,n){var r=-1,i="function"==typeof t,o=Ha(e)?je(e.length):[];return pr(e,(function(e){o[++r]=i?wt(t,e,n):Or(e,t,n)})),o})),wa=Ri((function(e,t,n){or(e,n,t)}));function _a(e,t){return(Ya(e)?Nt:Ur)(e,co(t,3))}var Aa=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ia=Gr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xo(e,t[0],t[1])?t=[]:n>2&&xo(t[0],t[1],t[2])&&(t=[t[0]]),qr(e,br(t,1),[])})),Da=pt||function(){return ft.Date.now()};function Oa(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Ki(e,s,n,n,n,n,t)}function Ra(e,t){var i;if("function"!=typeof t)throw new Oe(r);return e=bl(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Ea=Gr((function(e,t,n){var r=1;if(n.length){var i=sn(n,lo(Ea));r|=l}return Ki(e,r,t,n,i)})),Na=Gr((function(e,t,n){var r=3;if(n.length){var i=sn(n,lo(Na));r|=l}return Ki(t,r,e,n,i)}));function Sa(e,t,i){var o,a,l,c,s,d,u=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new Oe(r);function g(t){var r=o,i=a;return o=a=n,u=t,c=e.apply(i,r)}function m(e){var r=e-d;return d===n||r>=t||r<0||f&&e-u>=l}function b(){var e=Da();if(m(e))return y(e);s=Ro(b,function(e){var n=t-(e-d);return f?vn(n,l-(e-u)):n}(e))}function y(e){return s=n,h&&o?g(e):(o=a=n,c)}function v(){var e=Da(),r=m(e);if(o=arguments,a=this,d=e,r){if(s===n)return function(e){return u=e,s=Ro(b,t),p?g(e):c}(d);if(f)return ji(s),s=Ro(b,t),g(d)}return s===n&&(s=Ro(b,t)),c}return t=vl(t)||0,rl(i)&&(p=!!i.leading,l=(f="maxWait"in i)?yn(vl(i.maxWait)||0,t):l,h="trailing"in i?!!i.trailing:h),v.cancel=function(){s!==n&&ji(s),u=0,o=d=a=s=n},v.flush=function(){return s===n?c:y(Da())},v}var Ba=Gr((function(e,t){return dr(e,1,t)})),Fa=Gr((function(e,t,n){return dr(e,vl(t)||0,n)}));function Pa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Oe(r);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Pa.Cache||Yn),n}function La(e){if("function"!=typeof e)throw new Oe(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Pa.Cache=Yn;var Ua=xi((function(e,t){var n=(t=1==t.length&&Ya(t[0])?Nt(t[0],Kt(co())):Nt(br(t,1),Kt(co()))).length;return Gr((function(r){for(var i=-1,o=vn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return wt(e,this,r)}))})),Wa=Gr((function(e,t){var r=sn(t,lo(Wa));return Ki(e,l,n,t,r)})),za=Gr((function(e,t){var r=sn(t,lo(za));return Ki(e,c,n,t,r)})),Ma=no((function(e,t){return Ki(e,d,n,n,n,t)}));function $a(e,t){return e===t||e!=e&&t!=t}var qa=Xi(_r),Va=Xi((function(e,t){return e>=t})),Xa=Rr(function(){return arguments}())?Rr:function(e){return il(e)&&Fe.call(e,"callee")&&!He.call(e,"callee")},Ya=je.isArray,Ja=vt?Kt(vt):function(e){return il(e)&&wr(e)==E};function Ha(e){return null!=e&&nl(e.length)&&!el(e)}function Ga(e){return il(e)&&Ha(e)}var Ka=Lt||vc,Za=xt?Kt(xt):function(e){return il(e)&&wr(e)==v};function Qa(e){if(!il(e))return!1;var t=wr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ll(e)}function el(e){if(!rl(e))return!1;var t=wr(e);return t==k||t==j||"[object AsyncFunction]"==t||"[object Proxy]"==t}function tl(e){return"number"==typeof e&&e==bl(e)}function nl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function rl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function il(e){return null!=e&&"object"==typeof e}var ol=kt?Kt(kt):function(e){return il(e)&&go(e)==C};function al(e){return"number"==typeof e||il(e)&&wr(e)==T}function ll(e){if(!il(e)||wr(e)!=w)return!1;var t=Ye(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Be.call(n)==We}var cl=jt?Kt(jt):function(e){return il(e)&&wr(e)==A},sl=Ct?Kt(Ct):function(e){return il(e)&&go(e)==I};function dl(e){return"string"==typeof e||!Ya(e)&&il(e)&&wr(e)==D}function ul(e){return"symbol"==typeof e||il(e)&&wr(e)==O}var pl=Tt?Kt(Tt):function(e){return il(e)&&nl(e.length)&&!!at[wr(e)]},fl=Xi(Lr),hl=Xi((function(e,t){return e<=t}));function gl(e){if(!e)return[];if(Ha(e))return dl(e)?pn(e):Di(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=go(e);return(t==C?ln:t==I?dn:$l)(e)}function ml(e){return e?(e=vl(e))===u||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function bl(e){var t=ml(e),n=t%1;return t==t?n?t-n:t:0}function yl(e){return e?lr(bl(e),0,h):0}function vl(e){if("number"==typeof e)return e;if(ul(e))return f;if(rl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Gt(e);var n=ge.test(e);return n||be.test(e)?dt(e.slice(2),n?2:8):he.test(e)?f:+e}function xl(e){return Oi(e,Bl(e))}function kl(e){return null==e?"":si(e)}var jl=Ei((function(e,t){if(To(t)||Ha(t))Oi(t,Sl(t),e);else for(var n in t)Fe.call(t,n)&&tr(e,n,t[n])})),Cl=Ei((function(e,t){Oi(t,Bl(t),e)})),Tl=Ei((function(e,t,n,r){Oi(t,Bl(t),e,r)})),wl=Ei((function(e,t,n,r){Oi(t,Sl(t),e,r)})),_l=no(ar),Al=Gr((function(e,t){e=Ae(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&xo(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],l=Bl(a),c=-1,s=l.length;++c<s;){var d=l[c],u=e[d];(u===n||$a(u,Ne[d])&&!Fe.call(e,d))&&(e[d]=a[d])}return e})),Il=Gr((function(e){return e.push(n,Qi),wt(Pl,n,e)}));function Dl(e,t,r){var i=null==e?n:Cr(e,t);return i===n?r:i}function Ol(e,t){return null!=e&&mo(e,t,Ir)}var Rl=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),rc(ac)),El=zi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),co),Nl=Gr(Or);function Sl(e){return Ha(e)?Gn(e):Fr(e)}function Bl(e){return Ha(e)?Gn(e,!0):Pr(e)}var Fl=Ei((function(e,t,n){Mr(e,t,n)})),Pl=Ei((function(e,t,n,r){Mr(e,t,n,r)})),Ll=no((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=vi(t,e),r||(r=t.length>1),t})),Oi(e,io(e),n),r&&(n=cr(n,7,eo));for(var i=t.length;i--;)ui(n,t[i]);return n})),Ul=no((function(e,t){return null==e?{}:function(e,t){return Vr(e,t,(function(t,n){return Ol(e,n)}))}(e,t)}));function Wl(e,t){if(null==e)return{};var n=Nt(io(e),(function(e){return[e]}));return t=co(t),Vr(e,n,(function(e,n){return t(e,n[0])}))}var zl=Gi(Sl),Ml=Gi(Bl);function $l(e){return null==e?[]:Zt(e,Sl(e))}var ql=Fi((function(e,t,n){return t=t.toLowerCase(),e+(n?Vl(t):t)}));function Vl(e){return Ql(kl(e).toLowerCase())}function Xl(e){return(e=kl(e))&&e.replace(ve,nn).replace(Qe,"")}var Yl=Fi((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Jl=Fi((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Hl=Bi("toLowerCase"),Gl=Fi((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Kl=Fi((function(e,t,n){return e+(n?" ":"")+Ql(t)})),Zl=Fi((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ql=Bi("toUpperCase");function ec(e,t,r){return e=kl(e),(t=r?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var tc=Gr((function(e,t){try{return wt(e,n,t)}catch(r){return Qa(r)?r:new Te(r)}})),nc=no((function(e,t){return At(t,(function(t){t=Wo(t),or(e,t,Ea(e[t],e))})),e}));function rc(e){return function(){return e}}var ic=Ui(),oc=Ui(!0);function ac(e){return e}function lc(e){return Br("function"==typeof e?e:cr(e,1))}var cc=Gr((function(e,t){return function(n){return Or(n,e,t)}})),sc=Gr((function(e,t){return function(n){return Or(e,n,t)}}));function dc(e,t,n){var r=Sl(t),i=jr(t,r);null!=n||rl(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=jr(t,Sl(t)));var o=!(rl(n)&&"chain"in n&&!n.chain),a=el(e);return At(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__);return(n.__actions__=Di(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,St([this.value()],arguments))})})),e}function uc(){}var pc=$i(Nt),fc=$i(Dt),hc=$i(Pt);function gc(e){return ko(e)?Vt(Wo(e)):function(e){return function(t){return Cr(t,e)}}(e)}var mc=Vi(),bc=Vi(!0);function yc(){return[]}function vc(){return!1}var xc,kc=Mi((function(e,t){return e+t}),0),jc=Ji("ceil"),Cc=Mi((function(e,t){return e/t}),1),Tc=Ji("floor"),wc=Mi((function(e,t){return e*t}),1),_c=Ji("round"),Ac=Mi((function(e,t){return e-t}),0);return Wn.after=function(e,t){if("function"!=typeof t)throw new Oe(r);return e=bl(e),function(){if(--e<1)return t.apply(this,arguments)}},Wn.ary=Oa,Wn.assign=jl,Wn.assignIn=Cl,Wn.assignInWith=Tl,Wn.assignWith=wl,Wn.at=_l,Wn.before=Ra,Wn.bind=Ea,Wn.bindAll=nc,Wn.bindKey=Na,Wn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ya(e)?e:[e]},Wn.chain=ga,Wn.chunk=function(e,t,r){t=(r?xo(e,t,r):t===n)?1:yn(bl(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,l=je(gt(i/t));o<i;)l[a++]=ri(e,o,o+=t);return l},Wn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Wn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=je(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return St(Ya(n)?Di(n):[n],br(t,1))},Wn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Oe(r);return[n(e[0]),e[1]]})):[],Gr((function(n){for(var r=-1;++r<t;){var i=e[r];if(wt(i[0],this,n))return wt(i[1],this,n)}}))},Wn.conforms=function(e){return function(e){var t=Sl(e);return function(n){return sr(n,e,t)}}(cr(e,1))},Wn.constant=rc,Wn.countBy=ya,Wn.create=function(e,t){var n=zn(e);return null==t?n:ir(n,t)},Wn.curry=function e(t,r,i){var o=Ki(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Wn.curryRight=function e(t,r,i){var o=Ki(t,a,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Wn.debounce=Sa,Wn.defaults=Al,Wn.defaultsDeep=Il,Wn.defer=Ba,Wn.delay=Fa,Wn.difference=$o,Wn.differenceBy=qo,Wn.differenceWith=Vo,Wn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=r||t===n?1:bl(t))<0?0:t,i):[]},Wn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,0,(t=i-(t=r||t===n?1:bl(t)))<0?0:t):[]},Wn.dropRightWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!0,!0):[]},Wn.dropWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!0):[]},Wn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&xo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=bl(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:bl(i))<0&&(i+=o),i=r>i?0:yl(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Wn.filter=function(e,t){return(Ya(e)?Ot:mr)(e,co(t,3))},Wn.flatMap=function(e,t){return br(_a(e,t),1)},Wn.flatMapDeep=function(e,t){return br(_a(e,t),u)},Wn.flatMapDepth=function(e,t,r){return r=r===n?1:bl(r),br(_a(e,t),r)},Wn.flatten=Jo,Wn.flattenDeep=function(e){return null!=e&&e.length?br(e,u):[]},Wn.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===n?1:bl(t)):[]},Wn.flip=function(e){return Ki(e,512)},Wn.flow=ic,Wn.flowRight=oc,Wn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Wn.functions=function(e){return null==e?[]:jr(e,Sl(e))},Wn.functionsIn=function(e){return null==e?[]:jr(e,Bl(e))},Wn.groupBy=Ca,Wn.initial=function(e){return null!=e&&e.length?ri(e,0,-1):[]},Wn.intersection=Go,Wn.intersectionBy=Ko,Wn.intersectionWith=Zo,Wn.invert=Rl,Wn.invertBy=El,Wn.invokeMap=Ta,Wn.iteratee=lc,Wn.keyBy=wa,Wn.keys=Sl,Wn.keysIn=Bl,Wn.map=_a,Wn.mapKeys=function(e,t){var n={};return t=co(t,3),xr(e,(function(e,r,i){or(n,t(e,r,i),e)})),n},Wn.mapValues=function(e,t){var n={};return t=co(t,3),xr(e,(function(e,r,i){or(n,r,t(e,r,i))})),n},Wn.matches=function(e){return Wr(cr(e,1))},Wn.matchesProperty=function(e,t){return zr(e,cr(t,1))},Wn.memoize=Pa,Wn.merge=Fl,Wn.mergeWith=Pl,Wn.method=cc,Wn.methodOf=sc,Wn.mixin=dc,Wn.negate=La,Wn.nthArg=function(e){return e=bl(e),Gr((function(t){return $r(t,e)}))},Wn.omit=Ll,Wn.omitBy=function(e,t){return Wl(e,La(co(t)))},Wn.once=function(e){return Ra(2,e)},Wn.orderBy=function(e,t,r,i){return null==e?[]:(Ya(t)||(t=null==t?[]:[t]),Ya(r=i?n:r)||(r=null==r?[]:[r]),qr(e,t,r))},Wn.over=pc,Wn.overArgs=Ua,Wn.overEvery=fc,Wn.overSome=hc,Wn.partial=Wa,Wn.partialRight=za,Wn.partition=Aa,Wn.pick=Ul,Wn.pickBy=Wl,Wn.property=gc,Wn.propertyOf=function(e){return function(t){return null==e?n:Cr(e,t)}},Wn.pull=ea,Wn.pullAll=ta,Wn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Xr(e,t,co(n,2)):e},Wn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Xr(e,t,n,r):e},Wn.pullAt=na,Wn.range=mc,Wn.rangeRight=bc,Wn.rearg=Ma,Wn.reject=function(e,t){return(Ya(e)?Ot:mr)(e,La(co(t,3)))},Wn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},Wn.rest=function(e,t){if("function"!=typeof e)throw new Oe(r);return Gr(e,t=t===n?t:bl(t))},Wn.reverse=ra,Wn.sampleSize=function(e,t,r){return t=(r?xo(e,t,r):t===n)?1:bl(t),(Ya(e)?Zn:Zr)(e,t)},Wn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},Wn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:Qr(e,t,r,i)},Wn.shuffle=function(e){return(Ya(e)?Qn:ni)(e)},Wn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&xo(e,t,r)?(t=0,r=i):(t=null==t?0:bl(t),r=r===n?i:bl(r)),ri(e,t,r)):[]},Wn.sortBy=Ia,Wn.sortedUniq=function(e){return e&&e.length?li(e):[]},Wn.sortedUniqBy=function(e,t){return e&&e.length?li(e,co(t,2)):[]},Wn.split=function(e,t,r){return r&&"number"!=typeof r&&xo(e,t,r)&&(t=r=n),(r=r===n?h:r>>>0)?(e=kl(e))&&("string"==typeof t||null!=t&&!cl(t))&&!(t=si(t))&&an(e)?ki(pn(e),0,r):e.split(t,r):[]},Wn.spread=function(e,t){if("function"!=typeof e)throw new Oe(r);return t=null==t?0:yn(bl(t),0),Gr((function(n){var r=n[t],i=ki(n,0,t);return r&&St(i,r),wt(e,this,i)}))},Wn.tail=function(e){var t=null==e?0:e.length;return t?ri(e,1,t):[]},Wn.take=function(e,t,r){return e&&e.length?ri(e,0,(t=r||t===n?1:bl(t))<0?0:t):[]},Wn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ri(e,(t=i-(t=r||t===n?1:bl(t)))<0?0:t,i):[]},Wn.takeRightWhile=function(e,t){return e&&e.length?fi(e,co(t,3),!1,!0):[]},Wn.takeWhile=function(e,t){return e&&e.length?fi(e,co(t,3)):[]},Wn.tap=function(e,t){return t(e),e},Wn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Oe(r);return rl(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Sa(e,t,{leading:i,maxWait:t,trailing:o})},Wn.thru=ma,Wn.toArray=gl,Wn.toPairs=zl,Wn.toPairsIn=Ml,Wn.toPath=function(e){return Ya(e)?Nt(e,Wo):ul(e)?[e]:Di(Uo(kl(e)))},Wn.toPlainObject=xl,Wn.transform=function(e,t,n){var r=Ya(e),i=r||Ka(e)||pl(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:rl(e)&&el(o)?zn(Ye(e)):{}}return(i?At:xr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Wn.unary=function(e){return Oa(e,1)},Wn.union=ia,Wn.unionBy=oa,Wn.unionWith=aa,Wn.uniq=function(e){return e&&e.length?di(e):[]},Wn.uniqBy=function(e,t){return e&&e.length?di(e,co(t,2)):[]},Wn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?di(e,n,t):[]},Wn.unset=function(e,t){return null==e||ui(e,t)},Wn.unzip=la,Wn.unzipWith=ca,Wn.update=function(e,t,n){return null==e?e:pi(e,t,yi(n))},Wn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:pi(e,t,yi(r),i)},Wn.values=$l,Wn.valuesIn=function(e){return null==e?[]:Zt(e,Bl(e))},Wn.without=sa,Wn.words=ec,Wn.wrap=function(e,t){return Wa(yi(t),e)},Wn.xor=da,Wn.xorBy=ua,Wn.xorWith=pa,Wn.zip=fa,Wn.zipObject=function(e,t){return mi(e||[],t||[],tr)},Wn.zipObjectDeep=function(e,t){return mi(e||[],t||[],Qr)},Wn.zipWith=ha,Wn.entries=zl,Wn.entriesIn=Ml,Wn.extend=Cl,Wn.extendWith=Tl,dc(Wn,Wn),Wn.add=kc,Wn.attempt=tc,Wn.camelCase=ql,Wn.capitalize=Vl,Wn.ceil=jc,Wn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=vl(r))==r?r:0),t!==n&&(t=(t=vl(t))==t?t:0),lr(vl(e),t,r)},Wn.clone=function(e){return cr(e,4)},Wn.cloneDeep=function(e){return cr(e,5)},Wn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},Wn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},Wn.conformsTo=function(e,t){return null==t||sr(e,t,Sl(t))},Wn.deburr=Xl,Wn.defaultTo=function(e,t){return null==e||e!=e?t:e},Wn.divide=Cc,Wn.endsWith=function(e,t,r){e=kl(e),t=si(t);var i=e.length,o=r=r===n?i:lr(bl(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},Wn.eq=$a,Wn.escape=function(e){return(e=kl(e))&&H.test(e)?e.replace(Y,rn):e},Wn.escapeRegExp=function(e){return(e=kl(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Wn.every=function(e,t,r){var i=Ya(e)?Dt:hr;return r&&xo(e,t,r)&&(t=n),i(e,co(t,3))},Wn.find=va,Wn.findIndex=Xo,Wn.findKey=function(e,t){return Ut(e,co(t,3),xr)},Wn.findLast=xa,Wn.findLastIndex=Yo,Wn.findLastKey=function(e,t){return Ut(e,co(t,3),kr)},Wn.floor=Tc,Wn.forEach=ka,Wn.forEachRight=ja,Wn.forIn=function(e,t){return null==e?e:yr(e,co(t,3),Bl)},Wn.forInRight=function(e,t){return null==e?e:vr(e,co(t,3),Bl)},Wn.forOwn=function(e,t){return e&&xr(e,co(t,3))},Wn.forOwnRight=function(e,t){return e&&kr(e,co(t,3))},Wn.get=Dl,Wn.gt=qa,Wn.gte=Va,Wn.has=function(e,t){return null!=e&&mo(e,t,Ar)},Wn.hasIn=Ol,Wn.head=Ho,Wn.identity=ac,Wn.includes=function(e,t,n,r){e=Ha(e)?e:$l(e),n=n&&!r?bl(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),dl(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},Wn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:bl(n);return i<0&&(i=yn(r+i,0)),zt(e,t,i)},Wn.inRange=function(e,t,r){return t=ml(t),r===n?(r=t,t=0):r=ml(r),function(e,t,n){return e>=vn(t,n)&&e<yn(t,n)}(e=vl(e),t,r)},Wn.invoke=Nl,Wn.isArguments=Xa,Wn.isArray=Ya,Wn.isArrayBuffer=Ja,Wn.isArrayLike=Ha,Wn.isArrayLikeObject=Ga,Wn.isBoolean=function(e){return!0===e||!1===e||il(e)&&wr(e)==y},Wn.isBuffer=Ka,Wn.isDate=Za,Wn.isElement=function(e){return il(e)&&1===e.nodeType&&!ll(e)},Wn.isEmpty=function(e){if(null==e)return!0;if(Ha(e)&&(Ya(e)||"string"==typeof e||"function"==typeof e.splice||Ka(e)||pl(e)||Xa(e)))return!e.length;var t=go(e);if(t==C||t==I)return!e.size;if(To(e))return!Fr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},Wn.isEqual=function(e,t){return Er(e,t)},Wn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?Er(e,t,n,r):!!i},Wn.isError=Qa,Wn.isFinite=function(e){return"number"==typeof e&&Xt(e)},Wn.isFunction=el,Wn.isInteger=tl,Wn.isLength=nl,Wn.isMap=ol,Wn.isMatch=function(e,t){return e===t||Nr(e,t,uo(t))},Wn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Nr(e,t,uo(t),r)},Wn.isNaN=function(e){return al(e)&&e!=+e},Wn.isNative=function(e){if(Co(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sr(e)},Wn.isNil=function(e){return null==e},Wn.isNull=function(e){return null===e},Wn.isNumber=al,Wn.isObject=rl,Wn.isObjectLike=il,Wn.isPlainObject=ll,Wn.isRegExp=cl,Wn.isSafeInteger=function(e){return tl(e)&&e>=-9007199254740991&&e<=p},Wn.isSet=sl,Wn.isString=dl,Wn.isSymbol=ul,Wn.isTypedArray=pl,Wn.isUndefined=function(e){return e===n},Wn.isWeakMap=function(e){return il(e)&&go(e)==R},Wn.isWeakSet=function(e){return il(e)&&"[object WeakSet]"==wr(e)},Wn.join=function(e,t){return null==e?"":mn.call(e,t)},Wn.kebabCase=Yl,Wn.last=Qo,Wn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=bl(r))<0?yn(i+o,0):vn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Wt(e,$t,o,!0)},Wn.lowerCase=Jl,Wn.lowerFirst=Hl,Wn.lt=fl,Wn.lte=hl,Wn.max=function(e){return e&&e.length?gr(e,ac,_r):n},Wn.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),_r):n},Wn.mean=function(e){return qt(e,ac)},Wn.meanBy=function(e,t){return qt(e,co(t,2))},Wn.min=function(e){return e&&e.length?gr(e,ac,Lr):n},Wn.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),Lr):n},Wn.stubArray=yc,Wn.stubFalse=vc,Wn.stubObject=function(){return{}},Wn.stubString=function(){return""},Wn.stubTrue=function(){return!0},Wn.multiply=wc,Wn.nth=function(e,t){return e&&e.length?$r(e,bl(t)):n},Wn.noConflict=function(){return ft._===this&&(ft._=ze),this},Wn.noop=uc,Wn.now=Da,Wn.pad=function(e,t,n){e=kl(e);var r=(t=bl(t))?un(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return qi(bt(i),n)+e+qi(gt(i),n)},Wn.padEnd=function(e,t,n){e=kl(e);var r=(t=bl(t))?un(e):0;return t&&r<t?e+qi(t-r,n):e},Wn.padStart=function(e,t,n){e=kl(e);var r=(t=bl(t))?un(e):0;return t&&r<t?qi(t-r,n)+e:e},Wn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(kl(e).replace(ie,""),t||0)},Wn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&xo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ml(e),t===n?(t=e,e=0):t=ml(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=jn();return vn(e+o*(t-e+st("1e-"+((o+"").length-1))),t)}return Jr(e,t)},Wn.reduce=function(e,t,n){var r=Ya(e)?Bt:Yt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Wn.reduceRight=function(e,t,n){var r=Ya(e)?Ft:Yt,i=arguments.length<3;return r(e,co(t,4),n,i,fr)},Wn.repeat=function(e,t,r){return t=(r?xo(e,t,r):t===n)?1:bl(t),Hr(kl(e),t)},Wn.replace=function(){var e=arguments,t=kl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Wn.result=function(e,t,r){var i=-1,o=(t=vi(t,e)).length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[Wo(t[i])];a===n&&(i=o,a=r),e=el(a)?a.call(e):a}return e},Wn.round=_c,Wn.runInContext=e,Wn.sample=function(e){return(Ya(e)?Kn:Kr)(e)},Wn.size=function(e){if(null==e)return 0;if(Ha(e))return dl(e)?un(e):e.length;var t=go(e);return t==C||t==I?e.size:Fr(e).length},Wn.snakeCase=Gl,Wn.some=function(e,t,r){var i=Ya(e)?Pt:ii;return r&&xo(e,t,r)&&(t=n),i(e,co(t,3))},Wn.sortedIndex=function(e,t){return oi(e,t)},Wn.sortedIndexBy=function(e,t,n){return ai(e,t,co(n,2))},Wn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=oi(e,t);if(r<n&&$a(e[r],t))return r}return-1},Wn.sortedLastIndex=function(e,t){return oi(e,t,!0)},Wn.sortedLastIndexBy=function(e,t,n){return ai(e,t,co(n,2),!0)},Wn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=oi(e,t,!0)-1;if($a(e[n],t))return n}return-1},Wn.startCase=Kl,Wn.startsWith=function(e,t,n){return e=kl(e),n=null==n?0:lr(bl(n),0,e.length),t=si(t),e.slice(n,n+t.length)==t},Wn.subtract=Ac,Wn.sum=function(e){return e&&e.length?Jt(e,ac):0},Wn.sumBy=function(e,t){return e&&e.length?Jt(e,co(t,2)):0},Wn.template=function(e,t,r){var i=Wn.templateSettings;r&&xo(e,t,r)&&(t=n),e=kl(e),t=Tl({},t,i,Zi);var o,a,l=Tl({},t.imports,i.imports,Zi),c=Sl(l),s=Zt(l,c),d=0,u=t.interpolate||xe,p="__p += '",f=Ie((t.escape||xe).source+"|"+u.source+"|"+(u===Z?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),h="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(f,(function(t,n,r,i,l,c){return r||(r=i),p+=e.slice(d,c).replace(ke,on),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),l&&(a=!0,p+="';\n"+l+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),d=c+t.length,t})),p+="';\n";var g=Fe.call(t,"variable")&&t.variable;if(g){if(de.test(g))throw new Te("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace($,""):p).replace(q,"$1").replace(V,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=tc((function(){return we(c,h+"return "+p).apply(n,s)}));if(m.source=p,Qa(m))throw m;return m},Wn.times=function(e,t){if((e=bl(e))<1||e>p)return[];var n=h,r=vn(e,h);t=co(t),e-=h;for(var i=Ht(r,t);++n<e;)t(n);return i},Wn.toFinite=ml,Wn.toInteger=bl,Wn.toLength=yl,Wn.toLower=function(e){return kl(e).toLowerCase()},Wn.toNumber=vl,Wn.toSafeInteger=function(e){return e?lr(bl(e),-9007199254740991,p):0===e?e:0},Wn.toString=kl,Wn.toUpper=function(e){return kl(e).toUpperCase()},Wn.trim=function(e,t,r){if((e=kl(e))&&(r||t===n))return Gt(e);if(!e||!(t=si(t)))return e;var i=pn(e),o=pn(t);return ki(i,en(i,o),tn(i,o)+1).join("")},Wn.trimEnd=function(e,t,r){if((e=kl(e))&&(r||t===n))return e.slice(0,fn(e)+1);if(!e||!(t=si(t)))return e;var i=pn(e);return ki(i,0,tn(i,pn(t))+1).join("")},Wn.trimStart=function(e,t,r){if((e=kl(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=si(t)))return e;var i=pn(e);return ki(i,en(i,pn(t))).join("")},Wn.truncate=function(e,t){var r=30,i="...";if(rl(t)){var o="separator"in t?t.separator:o;r="length"in t?bl(t.length):r,i="omission"in t?si(t.omission):i}var a=(e=kl(e)).length;if(an(e)){var l=pn(e);a=l.length}if(r>=a)return e;var c=r-un(i);if(c<1)return i;var s=l?ki(l,0,c).join(""):e.slice(0,c);if(o===n)return s+i;if(l&&(c+=s.length-c),cl(o)){if(e.slice(c).search(o)){var d,u=s;for(o.global||(o=Ie(o.source,kl(fe.exec(o))+"g")),o.lastIndex=0;d=o.exec(u);)var p=d.index;s=s.slice(0,p===n?c:p)}}else if(e.indexOf(si(o),c)!=c){var f=s.lastIndexOf(o);f>-1&&(s=s.slice(0,f))}return s+i},Wn.unescape=function(e){return(e=kl(e))&&J.test(e)?e.replace(X,hn):e},Wn.uniqueId=function(e){var t=++Pe;return kl(e)+t},Wn.upperCase=Zl,Wn.upperFirst=Ql,Wn.each=ka,Wn.eachRight=ja,Wn.first=Ho,dc(Wn,(xc={},xr(Wn,(function(e,t){Fe.call(Wn.prototype,t)||(xc[t]=e)})),xc),{chain:!1}),Wn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Wn[e].placeholder=Wn})),At(["drop","take"],(function(e,t){qn.prototype[e]=function(r){r=r===n?1:yn(bl(r),0);var i=this.__filtered__&&!t?new qn(this):this.clone();return i.__filtered__?i.__takeCount__=vn(r,i.__takeCount__):i.__views__.push({size:vn(r,h),type:e+(i.__dir__<0?"Right":"")}),i},qn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;qn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");qn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");qn.prototype[e]=function(){return this.__filtered__?new qn(this):this[n](1)}})),qn.prototype.compact=function(){return this.filter(ac)},qn.prototype.find=function(e){return this.filter(e).head()},qn.prototype.findLast=function(e){return this.reverse().find(e)},qn.prototype.invokeMap=Gr((function(e,t){return"function"==typeof e?new qn(this):this.map((function(n){return Or(n,e,t)}))})),qn.prototype.reject=function(e){return this.filter(La(co(e)))},qn.prototype.slice=function(e,t){e=bl(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=bl(t))<0?r.dropRight(-t):r.take(t-e)),r)},qn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qn.prototype.toArray=function(){return this.take(h)},xr(qn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Wn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(Wn.prototype[t]=function(){var t=this.__wrapped__,l=i?[1]:arguments,c=t instanceof qn,s=l[0],d=c||Ya(t),u=function(e){var t=o.apply(Wn,St([e],l));return i&&p?t[0]:t};d&&r&&"function"==typeof s&&1!=s.length&&(c=d=!1);var p=this.__chain__,f=!!this.__actions__.length,h=a&&!p,g=c&&!f;if(!a&&d){t=g?t:new qn(this);var m=e.apply(t,l);return m.__actions__.push({func:ma,args:[u],thisArg:n}),new $n(m,p)}return h&&g?e.apply(this,l):(m=this.thru(u),h?i?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Re[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Wn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ya(i)?i:[],e)}return this[n]((function(n){return t.apply(Ya(n)?n:[],e)}))}})),xr(qn.prototype,(function(e,t){var n=Wn[t];if(n){var r=n.name+"";Fe.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Wi(n,2).name]=[{name:"wrapper",func:n}],qn.prototype.clone=function(){var e=new qn(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e},qn.prototype.reverse=function(){if(this.__filtered__){var e=new qn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ya(e),r=t<0,i=n?e.length:0,o=function(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,l=o.end,c=l-a,s=r?l:a-1,d=this.__iteratees__,u=d.length,p=0,f=vn(c,this.__takeCount__);if(!n||!r&&i==c&&f==c)return hi(e,this.__actions__);var h=[];e:for(;c--&&p<f;){for(var g=-1,m=e[s+=t];++g<u;){var b=d[g],y=b.iteratee,v=b.type,x=y(m);if(2==v)m=x;else if(!x){if(1==v)continue e;break e}}h[p++]=m}return h},Wn.prototype.at=ba,Wn.prototype.chain=function(){return ga(this)},Wn.prototype.commit=function(){return new $n(this.value(),this.__chain__)},Wn.prototype.next=function(){this.__values__===n&&(this.__values__=gl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Wn.prototype.plant=function(e){for(var t,r=this;r instanceof Mn;){var i=Mo(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},Wn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qn){var t=e;return this.__actions__.length&&(t=new qn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ra],thisArg:n}),new $n(t,this.__chain__)}return this.thru(ra)},Wn.prototype.toJSON=Wn.prototype.valueOf=Wn.prototype.value=function(){return hi(this.__wrapped__,this.__actions__)},Wn.prototype.first=Wn.prototype.head,et&&(Wn.prototype[et]=function(){return this}),Wn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ft._=gn,define((function(){return gn}))):gt?((gt.exports=gn)._=gn,ht._=gn):ft._=gn}).call(e)}},function(){return dt||(0,st[jn(st)[0]])((dt={exports:{}}).exports,dt),dt.exports}),Nn=(0,f.P)((0,p.Ay)("div",{shouldForwardProp:e=>!["minified","selected","color","focused","bounded"].includes(e)})({minWidth:150,display:"block"},(({minified:e,selected:t,color:n,focused:r,theme:i,bounded:o})=>({padding:e?0:"4px",backgroundColor:(0,c.X4)(r?(0,c.a)(n||"white",.1):n||"white",.8),backdropFilter:"blur(5px)",borderRadius:i.shape.borderRadius,WebkitBackdropFilter:"blur(5px)",width:o?"inherit":"max-content",flex:o?1:void 0,"&:hover":{backgroundColor:(0,c.X4)(r?(0,c.a)(n||"white",.1):n||"white",.95)},boxShadow:t&&r?`0pt 0pt 0pt 3pt ${(0,c.a)(i.palette.primary.main,.5)}`:t?`0pt 0pt 0pt 3pt ${i.palette.primary.main}`:r?`0pt 0pt 0pt 3pt ${(0,c.a)(n||"white",.5)}}`:void 0})))),Sn=(0,f.P)((0,p.Ay)(s.A,{shouldForwardProp:e=>!["bounded"].includes(e)})({minWidth:150,flex:1,flexDireaction:"row"},(({theme:e,bounded:t,focused:n})=>({borderRadius:e.shape.borderRadius,backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",width:t?"inherit":"max-content","&:hover":{backgroundColor:(0,c.X4)(e.palette.background.paper,.75)},boxShadow:n?`0pt 0pt 0pt 2pt ${(0,c.X4)(e.palette.primary.main,.5)}`:void 0})))),Bn=((0,p.Ay)("span")({all:"unset",flex:1,padding:3},(({theme:e})=>({color:(0,c.X4)(e.palette.text.primary,.8)}))),(0,p.Ay)("div")({padding:4},(({theme:e})=>({backgroundColor:(0,c.X4)(e.palette.background.paper,.7),borderTopLeftRadius:e.shape.borderRadius,borderBottomLeftRadius:e.shape.borderRadius,color:e.palette.text.disabled}))),(0,f.P)((0,p.Ay)(d.A)({boxShadow:"0 0 0 1px #dddddd55",color:"white",height:35,width:35,position:"relative"}))),Fn=(0,p.Ay)(u.A)({backgroundColor:"#00000055",marginBottom:"5px",marginLeft:"3px",marginRight:"3px",paddingLeft:"5px",paddingRight:"5px"}),Pn=(0,p.Ay)(u.A)({backgroundColor:"#ffffff20",marginBottom:"3px"}),Ln=(0,p.Ay)(s.A)({width:"100%"}),Un=((0,p.Ay)(s.A)({height:"100%"}),(0,r.forwardRef)((({data:e,bounded:t=!1,limitedRender:n,regionInfo:o,copyFn:a=(()=>{}),cutFn:l=(()=>{}),style:c},s)=>{const d=(0,i.cA)((e=>e.deleteBlock)),u=(0,i.cA)((e=>e.updateCommentText)),p=(0,i.cA)((0,r.useCallback)((t=>{var n,r;return(null==(r=null==(n=t.clipboard)?void 0:n.block)?void 0:r.id)===e.id&&"COPY"===t.clipboard.action}),[e.id])),f=(0,i.cA)((e=>e.updateItemEditing)),h=(0,i.cA)((e=>e.onVPEClick));return e?(0,m.jsx)(ct,{data:e,inner:[{label:"Copy",left:"ContentCopyRounded",type:"ENTRY",onClick:()=>{a()}},{label:"Cut",left:"ContentCutRounded",type:"ENTRY",onClick:()=>{l()}},{label:"Delete",left:"DeleteOutlineRounded",type:"ENTRY",onClick:()=>{d(e,o.parentId,o.fieldInfo)}}],children:(0,m.jsx)(Sn,{ref:s,direction:"row","aria-labelledby":`comment: ${e.text}`,onClick:t=>{h(e),t.stopPropagation()},bounded:t,focused:p,style:c,children:(0,m.jsx)(Se,{value:e.text,label:"#",extra:!n&&(0,m.jsx)(Ze,{data:e,inner:[{label:"Copy",left:"ContentCopyRounded",type:"ENTRY",onClick:()=>{a()}},{label:"Cut",left:"ContentCutRounded",type:"ENTRY",onClick:()=>{}},{label:"Delete",left:"DeleteOutlineRounded",type:"ENTRY",onClick:()=>{d(e,o.parentId,o.fieldInfo)}}]}),readonly:!e.editing,disableDrag:e.editing,onFocus:()=>f(e.id,!0),onBlur:()=>f(e.id,!1),onChange:t=>u(e.id,t.target.value)})})}):null}))),Wn=(0,r.memo)((({id:e,staticData:t,regionInfo:n,dragDisabled:o=!1,bounded:c=!1,after:s,context:d=[],interactionDisabled:u=!1,limitedRender:p=!1})=>{const[f,h,g,b]=(0,i.cA)((n=>(0,i.jA)(n.programData,n.executionData,n.programSpec.objectTypes,t||e||""))),y=(0,i.cA)((e=>{var t;return(null==(t=e.clipboard.block)?void 0:t.id)===(null==f?void 0:f.id)&&"CUT"===e.clipboard.action})),v=(0,i.cA)((e=>e.copy)),x=(0,i.cA)((e=>e.cut)),k=(null==f?void 0:f.metaType)===i.UB.FunctionDeclaration?f.arguments:[],j=[...d,...k],[C,T,w]=(0,a.i)((()=>({type:(null==f?void 0:f.type)?f.type:"null",item:()=>(console.log("Dragging"),{data:f,typeSpec:h,regionInfo:n,context:j}),canDrag:!o&&!(null==f?void 0:f.editing),collect:e=>({isDragging:e.isDragging()})})),[f,h,n,o]);if((0,r.useEffect)((()=>{w((0,l.n)(),{captureDraggingState:!1})}),[w]),!f)return null;const _=()=>v({data:f,regionInfo:n,context:d}),A=()=>{console.log("cutting",f),x({data:f,regionInfo:n,context:d}),console.log("did cut")},I=![i.lJ].includes(n.parentId)&&C.isDragging||y||!1;return f.metaType===i.UB.Comment?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{hidden:I,style:{flex:1,display:I?"none":"flex"},onContextMenu:e=>e.stopPropagation(),children:(0,m.jsx)(Un,{ref:T,data:f,bounded:!0,regionInfo:n,copyFn:_,cutFn:A})}),(0,m.jsx)("div",{hidden:I,style:{display:I?"none":"flex"},children:s})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{hidden:I,style:{flex:1,display:I?"none":"flex"},onContextMenu:e=>e.stopPropagation(),children:(0,m.jsx)(Er,{data:f,refData:b||void 0,ref:T,typeSpec:h,bounded:c,context:j,interactionDisabled:u,regionInfo:n,progress:g,limitedRender:p,copyFn:_,cutFn:A})}),(0,m.jsx)("div",{hidden:I,style:{display:I?"none":"flex"},children:s})]})})),zn=Rn(En()),Mn={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}},$n=Rn(En());function qn(e,t,n){if(e&&e.primitiveType===i.WR.Object){if(n&&n===i.UB.ObjectInstance)return e.instanceBlock[t];if(n&&n===i.UB.ObjectReference)return e.referenceBlock[t];if(!n)return e.instanceBlock[t]||e.referenceBlock[t]}else if(e&&e.primitiveType===i.WR.Function){if(n&&n===i.UB.FunctionDeclaration)return e.functionBlock[t];if(n&&n===i.UB.FunctionCall)return e.callBlock[t];if(!n)return e.functionBlock[t]||e.callBlock[t]}return null}function Vn(e){let t=[i.dW.CopyButton,i.dW.CutButton,i.dW.Divider];return null==e||e.forEach((e=>{e.type===i.dW.Dropdown?(t[t.length-1]!==i.dW.Divider&&t.push(i.dW.Divider),e.label&&t.push({label:e.label,type:i.dW.Indicator,icon:"ArrowRightRounded"}),e.contents.forEach((e=>{e===i.dW.Divider?t[t.length-1]!==i.dW.Divider&&t.push(i.dW.Divider):t.push(e)})),t[t.length-1]!==i.dW.Divider&&t.push(i.dW.Divider)):e===i.dW.Divider?t[t.length-1]!==i.dW.Divider&&t.push(i.dW.Divider):t.push(e)})),t[t.length-1]===i.dW.Divider&&t.pop(),t.length>0&&t[0]===i.dW.Divider&&t.shift(),0===t.length&&t.push({label:"No Actions",type:i.dW.Indicator,icon:"ArrowRightRounded"}),t}var Xn="#DDA0DD",Yn="#8FBC8F",Jn="#6495ED",Hn="#ADD8E6",Gn="#FF6347",Kn="#F5DEB3",Zn="#00CED1",Qn=["BOOLEAN","NUMBER","STRING","OPTIONS","VECTOR3"],er=(0,p.Ay)(Yt.A)((({theme:e})=>{const t="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[800];return{backgroundColor:t,height:e.spacing(3),color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:(0,c.tL)(t,.06)},"&:active":{boxShadow:e.shadows[1],backgroundColor:(0,c.tL)(t,.12)}}}));var tr=(0,p.Ay)("button")((({theme:e})=>{const t="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[800];return{display:"inline-block",backgroundColor:t,paddingLeft:6,paddingRight:4,borderRadius:100,fontSize:14,border:"unset",height:e.spacing(3),alignItems:"center",alignContent:"center",color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:(0,c.tL)(t,.06)}}})),nr=({parent:e,field:t,typeInfo:n,handleLinkClick:r,container:o})=>{var a,l,c;const p=null==(l=null==(a=n[e])?void 0:a.properties)?void 0:l[t],f=(0,ln.A)(),h=p.type===i.Ut.Block&&(null==p?void 0:p.accepts)?p.accepts.map((e=>n[e]?[e]:Object.keys((0,$n.pickBy)(n,(t=>t.specificType===e))))).reduce(((e,t)=>[...e,...t]),[]):[];return"na"===(p.type===i.Ut.Block&&(null==p?void 0:p.accepts)?"block":Qn.includes(null==p?void 0:p.type)?"simple":"na")?null:(0,m.jsxs)(u.A,{sx:{padding:2},children:[(0,m.jsx)(Jt.A,{variant:"h5",color:"text.primary",title:"string"==typeof p.name?p.name:p.name.name,sx:{padding:0},action:p.type===i.Ut.Block&&p.accepts?(0,m.jsxs)(s.A,{direction:"row",gap:.5,children:[p.isList&&(0,m.jsx)(me,{title:"This property accepts a set of entries as a list",parent:o,children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:Jn},children:(0,m.jsx)(ve,{name:"ListRounded"})})},"is-list"),p.fullWidth&&(0,m.jsx)(me,{title:"This property spans the width of the block",parent:o,children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:Hn},children:(0,m.jsx)(ve,{name:"WidthFullRounded"})})},"full-width"),p.isRequired&&(0,m.jsx)(me,{title:"This property is required",parent:o,children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:Gn},children:(0,m.jsx)(ve,{name:"StarRounded"})})},"required"),p.isFunctionArgument&&(0,m.jsx)(me,{title:"This is an argument to the function",parent:o,children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:Kn},children:(0,m.jsx)(ve,{name:"AssignmentReturnedRounded"})})},"is-function-argument"),p.isFunctionBlockField&&(0,m.jsx)(me,{title:"This is a property of this function block",parent:o,children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:Zn},children:(0,m.jsx)(ve,{name:"CropSquareRounded"})})},"is-function-block-field")]}):(0,m.jsx)(Xt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:p.type})}),p.type===i.Ut.Block&&(null==p?void 0:p.accepts)&&(0,m.jsx)(Ht.A,{sx:{backgroundColor:"dark"===f.palette.mode?"#252525":"#ccc",borderRadius:1,padding:.5,display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:null==h?void 0:h.map(((e,t)=>{var i;return(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsx)(ir,{label:(null==(i=n[e])?void 0:i.name)||"Unrecognized",color:qn(n[e],"color"),onClick:t=>{t.preventDefault(),n[e]&&r(e)}},e)},`${e}-${t}`)}))}),p.type===i.Ut.Options&&(0,m.jsx)(Xt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:null==(c=p.options)?void 0:c.map((e=>e.label)).join(", ")})]})},rr=({side:e,connectionInfo:t,typeInfo:n,handleLinkClick:r})=>{var o;const a=(0,ln.A)();return(0,m.jsx)(u.A,{sx:{padding:2},children:(0,m.jsxs)(Gt.Ay,{container:!0,spacing:1,children:[(0,m.jsx)(Gt.Ay,{item:!0,xs:4,children:(0,m.jsx)(Xt.A,{variant:"h5",color:"text.primary",style:{textTransform:"capitalize"},children:e})},e),(0,m.jsx)(Gt.Ay,{item:!0,xs:8,children:(0,m.jsx)(Xt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:"Accepts"})},`${e}-accepts`),t.allowed&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Gt.Ay,{item:!0,xs:4,children:(0,m.jsx)(me,{title:t.direction===i.ok.Outbound?"This connection is outbound":"This connection is inbound",children:(0,m.jsx)(d.A,{sx:{width:30,height:30,backgroundColor:t.direction===i.ok.Outbound?Yn:Xn},children:t.direction===i.ok.Outbound?(0,m.jsx)(ve,{name:"LogoutRounded"}):(0,m.jsx)(ve,{name:"LoginRounded"})})})},`${e}-direction`),(0,m.jsx)(Gt.Ay,{item:!0,xs:8,sx:{backgroundColor:"dark"===a.palette.mode?"#252525":"#ccc",borderRadius:1,padding:3,lineHeight:1.75},children:null==(o=t.allowed)?void 0:o.map((e=>{var t;return(0,m.jsx)(ir,{label:(null==(t=n[e])?void 0:t.name)||"Unknown",color:qn(n[e],"color"),onClick:t=>{t.preventDefault(),n[e]&&r(e)}})}))},`${e}-bin`)]})]},`${e}-container`)})},ir=({label:e,color:t,onClick:n})=>(0,m.jsxs)(tr,{onClick:n,children:[e," ",(0,m.jsx)(ve,{name:"Circle",size:10,style:{position:"relative",alignSelf:"center",height:15,width:15,top:2.5,fill:t}}),(0,m.jsx)("span",{style:{height:15,width:15,borderRadius:100,backgroundColor:t,border:1,borderColor:"white"},children:" "})]}),or=({type:e})=>{const t=(0,i.cA)((0,r.useCallback)((t=>t.programSpec.objectTypes[e]),[e]));return(0,m.jsx)(ir,{label:(null==t?void 0:t.name)||"Unknown Block",color:qn(t,"color")})},ar=({data:e,typeSpec:t})=>{var n,o,a,l,d,u,p,f,h,g,b,y,v;const x=(0,ln.A)(),k=(null==e?void 0:e.metaType)===i.UB.FunctionDeclaration?e.id:e.metaType===i.UB.FunctionCall?e.ref:e.type,[j,C]=(0,r.useState)([k]),T=j[j.length-1],w=(0,i.cA)((e=>(0,i.kc)(e.programSpec.objectTypes,e.programData))),_=(0,r.useRef)(null),A="dark"===x.palette.mode?(0,c.e$)(qn(w[T],"color"),.5):(0,c.a)(qn(w[T],"color"),.5),I=(0,i.cA)((e=>e.setActiveDoc)),D=(0,i.cA)((t=>"string"==typeof t.featuredDocs[e.id]?t.featuredDocs[e.id]:[i.UB.FunctionCall,i.UB.ObjectReference].includes(e.metaType)&&"string"==typeof t.featuredDocs[e.ref]?t.featuredDocs[e.ref]:null)),O=D?["featured","description","usage"]:["description","usage"],[R,E]=(0,r.useState)(O[0]),N=function(e,t){var n;const r=(null==(n=e[t])?void 0:n.specificType)||t;let o=[];return Object.keys(e).forEach((t=>{let n={parent:t,fields:[]};e[t].properties&&Object.keys(e[t].properties).forEach((o=>{var a;let l=e[t].properties[o];l.type===i.Ut.Block&&(null==(a=l.accepts)?void 0:a.includes(r))&&n.fields.push(o)})),n.fields.length>0&&o.push(n)})),o}(w,T),B=e=>{if(j.includes(e)){let t=!1;const n=j.filter((n=>n===e?(t=!0,!0):(n===e||!t)&&(n!==e||void 0)));C(n)}else C([...j,e])},F={h1:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"h3"},r),{color:"text.primary"}))},h2:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"h4"},r),{color:"text.primary"}))},h3:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"h5"},r),{color:"text.primary"}))},h4:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"h6"},r),{color:"text.primary"}))},h5:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},h6:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},p:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(Xt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},a:e=>{var t=e,{node:n}=t,r=On(t,["node"]);return(0,m.jsx)(ir,{label:r.children[0],color:qn(w[r.href],"color"),onClick:e=>{e.preventDefault(),w[r.href]&&(B(r.href),"featured"===R&&r.href!==k&&E("description"))}})},code:e=>{var t=e,{node:n,inline:r,className:i,children:o}=t,a=On(t,["node","inline","className","children"]);const l=/language-(\w+)/.exec(i||"");return!r&&l?(0,m.jsx)(sn.A,In({children:String(o).replace(/\n$/,""),style:Mn,language:l[1]},a)):(0,m.jsx)(S.A,{style:{backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",borderRadius:4,padding:5},children:(0,m.jsx)("code",Dn(In({className:i},a),{children:o}))})},ol:e=>{var t=e,{node:n,ordered:r}=t,i=On(t,["node","ordered"]);return(0,m.jsx)("ol",Dn(In({},i),{style:{fontFamily:"helvetica",backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",color:x.palette.text.primary,borderRadius:4,paddingTop:5,paddingBottom:5}}))},ul:e=>{var t=e,{node:n,ordered:r}=t,i=On(t,["node","ordered"]);return(0,m.jsx)("ul",Dn(In({},i),{style:{fontFamily:"helvetica",backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",color:x.palette.text.primary,borderRadius:4,paddingTop:5,paddingBottom:5}}))},blockquote:e=>{var t=e,{node:n}=t,r=On(t,["node"]);let i="info",o="info",a=[];return r.children.forEach((e=>{var t;"object"==typeof e&&(null==(t=e.props)?void 0:t.children)&&e.props.children.forEach(((t,n)=>{"string"==typeof t&&t.includes("[info]")&&(i="info",o="info",e.props.children[n]=t.replace("[info]","")),"string"==typeof t&&t.includes("[primary]")?(i="info",o="info",e.props.children[n]=t.replace("[primary]","")):"string"==typeof t&&t.includes("[success]")?(i="success",o="success",e.props.children[n]=t.replace("[success]","")):"string"==typeof t&&t.includes("[warn]")?(i="warning",o="warning",e.props.children[n]=t.replace("[warn]","")):"string"==typeof t&&t.includes("[error]")&&(i="error",o="error",e.props.children[n]=t.replace("[error]",""))})),a.push(e)})),(0,m.jsx)(Kt.A,{variant:"filled",severity:i,color:o,children:(0,m.jsx)("span",{children:a})})}};let P=[],L=[];const U=w[T];return U&&U.primitiveType===i.WR.Object&&(null==(n=null==U?void 0:U.instanceBlock)?void 0:n.onCanvas)&&(null==(o=null==U?void 0:U.instanceBlock)?void 0:o.connections)&&(P.push("instanceBlock"),L.push(U.instanceBlock.connections)),U&&U.primitiveType===i.WR.Object&&(null==(a=null==U?void 0:U.referenceBlock)?void 0:a.onCanvas)&&(null==(l=null==U?void 0:U.referenceBlock)?void 0:l.connections)&&(P.push("referenceBlock"),L.push(U.referenceBlock.connections)),U&&U.primitiveType===i.WR.Function&&(null==(d=null==U?void 0:U.functionBlock)?void 0:d.onCanvas)&&(null==(u=null==U?void 0:U.functionBlock)?void 0:u.connections)&&(P.push("functionBlock"),L.push(U.functionBlock.connections)),U&&U.primitiveType===i.WR.Function&&(null==(p=null==U?void 0:U.callBlock)?void 0:p.onCanvas)&&(null==(f=null==U?void 0:U.callBlock)?void 0:f.connections)&&(P.push("callBlock"),L.push(U.callBlock.connections)),(0,m.jsxs)("div",{ref:_,className:"nodrag nowheel",style:{zIndex:100,transformOrigin:"left",minWidth:200,maxWidth:350},children:[(0,m.jsx)("div",{style:{backgroundColor:A,borderTopLeftRadius:x.shape.borderRadius,borderTopRightRadius:x.shape.borderRadius},children:(0,m.jsx)(Zt.A,{value:R,onChange:(e,t)=>E(t),indicatorColor:"primary",textColor:"inherit","aria-label":"full width tabs example",sx:{},children:O.map((e=>(0,m.jsx)(Qt.A,{label:e,value:e},e)))},"tabs")}),("description"===R||"usage"===R)&&(0,m.jsx)(S.A,{style:{padding:2,backgroundColor:"dark"===x.palette.mode?"#252525":"#cccccccc"},children:(0,m.jsx)(en.A,{children:j.map((e=>{var t;return(0,m.jsx)(er,{label:(null==(t=w[e])?void 0:t.name)||"Unrecognized",onClick:t=>{t.preventDefault(),B(e)},onDelete:t=>{t.preventDefault(),B(e)},deleteIcon:(0,m.jsx)(ve,{name:"Circle",style:{height:15,width:15,marginRight:5,fill:qn(w[e],"color")}})},e)}))})},R),(0,m.jsx)(yt,{width:350,height:"50vh",children:(0,m.jsxs)("div",{style:{padding:10},children:["featured"===R&&(0,m.jsx)(cn.Nc,{rehypeReactOptions:{components:F},children:D}),"description"===R&&(0,m.jsx)(cn.Nc,{rehypeReactOptions:{components:F},children:(null==(h=w[T])?void 0:h.description)||"No Description"}),"usage"===R&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsxs)(Xt.A,{children:[(0,m.jsx)("b",{children:(0,m.jsx)("i",{children:(null==(g=w[T])?void 0:g.name)||"Unrecognized"})})," ","Fields"]})}),(0,m.jsxs)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:[0===Object.keys((null==(b=w[T])?void 0:b.properties)||{}).length&&(0,m.jsx)(Xt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block has no fields"}),(0,m.jsx)(s.A,{spacing:1,children:Object.keys((null==(y=w[T])?void 0:y.properties)||{}).map(((e,t)=>(0,m.jsx)(nr,{parent:T,field:e,typeInfo:w,handleLinkClick:B,container:_.current||void 0},`${e}-${t}`)))})]})]},"fields"),(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsxs)(Xt.A,{children:[(0,m.jsx)("b",{children:(0,m.jsx)("i",{children:(null==(v=w[T])?void 0:v.name)||"Unrecognized"})})," ","as a Field"]})}),(0,m.jsx)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:(0,m.jsxs)(s.A,{spacing:1,children:[0===N.length&&(0,m.jsx)(Xt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block is not used anywhere"}),N.map((e=>{var t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(on.A,{children:(0,m.jsx)(ir,{label:null==(t=w[e.parent])?void 0:t.name,color:qn(w[e.parent],"color"),onClick:t=>{t.preventDefault(),w[e.parent]&&B(e.parent)}})}),e.fields.map((t=>(0,m.jsx)(nr,{parent:e.parent,field:t,typeInfo:w,handleLinkClick:B},`${e.parent}-${t}`)))]})}))]})})]},"as-field"),(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsx)(Xt.A,{children:"Connections"})}),(0,m.jsx)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:P.length>0?P.map(((e,t)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(on.A,{children:(0,m.jsx)("span",{style:{fontFamily:"Helvetica",textTransform:"capitalize"},children:e.replace("Block","")})}),Object.entries(L[t]).map((([e,t])=>(0,m.jsx)(rr,{side:e,connectionInfo:t,typeInfo:w,handleLinkClick:B})))]}))):(0,m.jsx)(Xt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block has no connections"})})]},"connections")]})]})},"content"),(0,m.jsx)(an.A,{children:(0,m.jsx)(De,{size:"small",title:"Close",onClick:()=>I(e.id,!1),children:"Close"})})]})},lr={backgroundColor:"#88888800",boxShadow:"none"},cr={height:8},sr={height:30},dr={height:"auto"},ur={disabledPeripheralEmpty:In(In({},sr),cr),disabledNonPeripheralEmpty:In({},sr),validDropPeripheralEmpty:In(In({},sr),cr),validDropNonPeripheralEmpty:In({},sr),defaultPeripheralEmpty:In(In({},sr),cr),defaultNonPeripheralEmpty:In({},sr),disabledPeripheralFilled:In(In(In({},sr),cr),dr),disabledNonPeripheralFilled:In(In({},sr),dr),validDropPeripheralFilled:In(In(In({},sr),cr),dr),validDropNonPeripheralFilled:In(In({},sr),dr),defaultPeripheralFilled:In(In(In({},sr),cr),dr),defaultNonPeripheralFilled:In(In({},sr),dr)},pr=e=>{const t={backgroundColor:(0,c.X4)(e||"white",.7),borderStyle:"solid",borderColor:(0,c.a)(e||"white",.2),borderWidth:4};return{disabledPeripheralEmpty:In(In(In({},sr),cr),lr),disabledNonPeripheralEmpty:In(In({},sr),lr),validDropPeripheralEmpty:In(In(In({},sr),cr),t),validDropNonPeripheralEmpty:In(In({},sr),t),defaultPeripheralEmpty:In(In({},sr),cr),defaultNonPeripheralEmpty:In({},sr),disabledPeripheralFilled:In(In(In(In({},sr),cr),lr),dr),disabledNonPeripheralFilled:In(In(In({},sr),lr),dr),validDropPeripheralFilled:In(In(In(In({},sr),cr),t),dr),validDropNonPeripheralFilled:In(In(In({},sr),t),dr),defaultPeripheralFilled:In(In(In({},sr),cr),dr),defaultNonPeripheralFilled:In(In({},sr),dr)}},fr=e=>e.transferBlock,hr=(0,r.memo)((({id:e,regionInfo:t,peripheral:n=!1,hideText:a=!1,disabled:l=!1,context:c=[],limitedRender:s=!1,commentsEnabled:d=!1})=>{var u,p,h,g,b,y;const v=(0,i.cA)(fr),x=(0,ln.A)(),k=t.fieldInfo,j=(0,i.cA)((0,r.useCallback)((t=>e?t.programData[e]:null),[e])),C=(0,i.cA)((0,r.useCallback)((e=>{var t;return k.accepts.includes((null==(t=e.clipboard.block)?void 0:t.type)||"")&&!e.clipboard.onCanvas&&(0,zn.isEqual)((0,zn.intersection)(c,e.clipboard.context),e.clipboard.context)}),[t.parentId])),T=(0,i.cA)((e=>e.clipboard.action)),w=(0,i.cA)((e=>e.paste)),_=t.fieldInfo.type===i.Ut.Block&&t.fieldInfo.isList?[...k.accepts,i.UB.Comment]:k.accepts,[A,I]=(0,o.H)((()=>({accept:_,drop:(e,n)=>{console.log("DROP",e),v(e.data,e.regionInfo,t)},canDrop:t=>!l&&!e&&(t.data.metaType===i.UB.Comment||t.regionInfo.parentId!==i.j$&&(0,zn.isEqual)((0,zn.intersection)(c,t.context),t.context)),collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[k,t,c,l]),D=!l&&!e&&_.includes(null==(p=null==(u=A.item)?void 0:u.data)?void 0:p.type)&&(null==(h=A.item)?void 0:h.regionInfo.parentId)!==i.j$&&(0,zn.isEqual)((0,zn.intersection)(c,A.item.context),A.item.context),O=j||(A.item&&D&&!l&&A.isOver?A.item.data:null),R=O&&O!==j,E=T===i.zy.Copy||T===i.zy.Paste||T===i.zy.Cut,[N,S]=(0,r.useState)("open"),B=O||!a,F=D||C&&E,P=B&&l&&n?"disabledPeripheralFilled":B&&l&&!n?"disabledNonPeripheralFilled":B&&F&&n?"validDropPeripheralFilled":B&&F&&!n?"validDropNonPeripheralFilled":B&&n?"defaultPeripheralFilled":B?"defaultNonPeripheralFilled":!B&&l&&n?"disabledPeripheralEmpty":B||!l||n?!B&&F&&n?"validDropPeripheralEmpty":B||!F||n?!B&&n?"defaultPeripheralEmpty":"defaultNonPeripheralEmpty":"validDropNonPeripheralEmpty":"disabledNonPeripheralEmpty",L="expanded"===N?k.accepts:k.accepts?k.accepts.slice(0,2):[];return(0,m.jsx)(ct,{data:{},inner:[{disabled:l||!C,left:"ContentPasteRounded",type:"ENTRY",label:"Paste",onClick:(e,n)=>{w({context:c,regionInfo:t}),n.stopPropagation()}},{disabled:l||!d,left:"TagRounded",type:"ENTRY",label:"Add Comment",onClick:(e,n)=>{v({id:(0,i.$C)("comment"),type:i.UB.Comment,metaType:i.UB.Comment},{fieldInfo:{type:i.Ut.Block,accepts:[]},parentId:i.lJ},t),n.stopPropagation()}}],children:(0,m.jsx)(me,{title:(0,m.jsxs)("ul",{style:{display:"flex",maxWidth:200,justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:.5,margin:0},onClick:e=>{S("open"===N?"expanded":"open"),e.stopPropagation()},children:[L.map((e=>(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsx)(or,{type:e})},e))),"open"===N&&(null==(g=k.accepts)?void 0:g.length)-L.length>0&&(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsxs)(tr,{sx:{borderRadius:2,backgroundColor:"#00000022",color:"#00000088",padding:"1pt 5pt"},onClick:e=>{S("open"===N?"expanded":"open"),e.stopPropagation()},children:["+ ",k.accepts.length-L.length]})},"show-more")]}),placement:"right",children:(0,m.jsx)("div",{ref:I,style:ur[P],children:(0,m.jsx)(f.P.div,{className:"nodrag",style:{borderRadius:4,minWidth:100,display:"flex",flex:1},animate:P,variants:pr(null==(y=null==(b=null==x?void 0:x.palette)?void 0:b.primary)?void 0:y.main),children:O&&!R?(0,m.jsx)(f.P.div,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1,minHeight:n?8:30,paddingTop:4,paddingBottom:4},children:(0,m.jsx)(Wn,{staticData:O,regionInfo:t,bounded:!0,context:c,limitedRender:s})},"not-preview-rendered-data"):O?(0,m.jsx)(f.P.div,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1,paddingBottom:4,paddingTop:4},children:(0,m.jsx)(Nr,{id:O.id,staticData:O,context:c,bounded:!0})},"preview-rendered-data"):a?null:(0,m.jsx)(f.P.span,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1},children:(0,m.jsx)(Xt.A,{children:"string"==typeof k.name?k.name:k.name.name})},"field-empty")})})})})})),gr=({id:e,regionInfo:t,interactionDisabled:n,context:r,limitedRender:i,hideText:o})=>(0,m.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:"max-content",margin:4,flex:1},children:(0,m.jsx)(hr,{id:e,regionInfo:t,peripheral:!1,disabled:n||!1,context:r,limitedRender:i||!1,hideText:o||!1})}),mr=(0,r.memo)((({ids:e=[],regionInfo:t,interactionDisabled:n,context:r,limitedRender:i})=>0===e.length?(0,m.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:100,margin:4,flex:1},children:(0,m.jsx)(hr,{regionInfo:t,peripheral:!1,disabled:n,hideText:!0,context:r,limitedRender:i,commentsEnabled:!0},"initial")}):(0,m.jsxs)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:100,margin:4,flex:1,display:"flex",flexDirection:"column"},children:[(0,m.jsx)(hr,{regionInfo:Dn(In({},t),{idx:0}),peripheral:!0,disabled:n,hideText:!0,context:r,limitedRender:i,commentsEnabled:!0},"initial"),e.map(((e,o)=>(0,m.jsx)(Wn,{id:e,regionInfo:Dn(In({},t),{idx:o}),bounded:!0,context:r,limitedRender:i,after:(0,m.jsx)(hr,{regionInfo:Dn(In({},t),{idx:o+1}),peripheral:!0,disabled:n,hideText:!0,context:r,limitedRender:i,commentsEnabled:!0},`dropzone-${o}`)},e)))]}))),br=({interactionDisabled:e,data:t})=>(0,m.jsx)(Vt,{data:Dn(In({},t),{interactionDisabled:e}),enclose:!0}),yr=Rn(En()),vr=(0,p.Ay)(dn.h7,{shouldForwardProp:e=>!["focused"].includes(e)})((({theme:e,focused:t})=>({boxShadow:t?`0pt 0pt 0pt 2pt ${e.palette.primary.main}`:void 0,backgroundColor:t?e.palette.primary.main:"grey",opacity:t?1:.5}))),xr=(e,t,n,r,o)=>{if(!e)return!1;if(e.handleType&&n===("target"===e.handleType?i.ok.Inbound:i.ok.Outbound))return!1;const a="target"===e.handleType,l=a?e.nodeId:t.id||"",c=a?e.handleId:r||dn.yX.Top;return o(a?t.id:e.nodeId||"",a?r:e.handleId||dn.yX.Top,l,c)},kr=({nodeData:e,position:t=dn.yX.Top,direction:n=i.ok.Inbound,blockSpec:r})=>{const o=(0,i.cA)((e=>e.validateEdge)),a=(0,i.cA)((e=>{var t,n,o;if((null==(t=e.connectionInfo)?void 0:t.nodeId)&&(null==(n=e.connectionInfo)?void 0:n.handleId)){const t=e.programData[e.connectionInfo.nodeId].type;return Dn(In({},e.connectionInfo),{nodeType:t,connectionSpec:(null==(o=null==r?void 0:r.connections)?void 0:o[e.connectionInfo.handleId])||{direction:i.ok.Inbound,allowed:[]},existing:Object.values(e.programData).filter((e=>e.metaType===i.UB.Connection))})}return null})),l=xr(a,e,n,t,o);return(0,m.jsx)(vr,{isConnectable:!a||l,id:t,position:t,type:n===i.ok.Inbound?"target":"source",focused:l})},jr=({children:e,progress:t})=>{const n=(0,ln.A)(),r=(0,fn.z)(0,{damping:10}),o=(0,hn.d)(0),a=(0,i.cA)((e=>e.clock)),l=(0,c.X4)(n.palette.primary.main,.6),s=(0,gn.G)((()=>{const e=360*o.get(),t=360*r.get();return`repeating-conic-gradient(from ${e}deg, ${l} 0deg ${t}deg, #22222222 ${t}deg 360deg)`}));return(0,mn.N)((()=>{a.update();const e=1e3*a.getElapsed(),n="function"==typeof t?t(e):t||0,i="indeterminite"===n?.3:n,l="indeterminite"===n?e%360/360-.05:0;r.set(i),o.set(l)})),(0,m.jsx)(Bn,{variant:"rounded",style:{background:s},children:e})},Cr=(0,r.memo)((({id:e,progress:t,color:n,limitedRender:r,nameId:o,name:a,icon:l,editing:s,setIsEditing:d})=>{const u=(0,i.cA)((e=>e.updateItemName)),p=(0,ln.A)();return(0,m.jsx)(me,{title:a||"",placement:"top",bgOverride:"light"===p.palette.mode?(0,c.a)(n,.5):(0,c.e$)(n,.5),children:(0,m.jsxs)(Ln,{alignContent:"center",direction:"row",spacing:1,style:{cursor:"move",userSelect:"none"},children:[r?(0,m.jsx)(pn.A,{variant:"rectangular",height:35,width:35,sx:{borderRadius:1,bgcolor:"#22222299"}}):(0,m.jsx)(jr,{progress:t,children:(0,m.jsx)(ve,{name:l,size:22})}),r?(0,m.jsx)(pn.A,{variant:"rectangular",height:35,width:"100%",sx:{borderRadius:1,bgcolor:"#22222299"}}):(0,m.jsx)(le,{hideLabelPrefix:!0,value:a||"",onChange:e=>{u(o,e.target.value)},readonly:!s,onBlur:()=>d(!1),onFocus:()=>d(!0),onDoubleClick:e=>{d(!s),e.stopPropagation()},disableDrag:s},`${e}-title`)]})},`${e}-title`)})),Tr=({id:e,interactionDisabled:t,simpleProperties:n,properties:o})=>{const a=(0,i.cA)((e=>e.updateItemSimpleProperty)),[l,c]=(0,r.useState)(!0);return(0,m.jsxs)(Fn,{children:[(0,m.jsx)(Jt.A,{title:(0,m.jsx)(Xt.A,{color:"#eee",children:"Settings"}),onClick:t?e=>{e.stopPropagation()}:e=>{c(!l),e.stopPropagation()},action:(0,m.jsx)(Te,{title:l?"Expand":"Collapse",onClick:t?e=>{e.stopPropagation()}:e=>{c(!l),e.stopPropagation()},icon:l?"KeyboardArrowRightRounded":"KeyboardArrowDownRounded"})}),(0,m.jsx)(un.A,{in:!l,orientation:"vertical",children:(0,m.jsx)(s.A,{direction:"column",justifyContent:"flex",gap:1,style:{paddingTop:4,paddingBottom:4},children:!l&&Object.entries(n).map((([n,r])=>r.type===i.Ut.Boolean?(0,m.jsx)(Rt,{label:r.name,value:o[n],defaultValue:!1,onChange:t=>a(e,n,t),disabled:t},n):r.type===i.Ut.Number?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(ce,{label:r.name,min:r.min,max:r.max,step:r.step,suffix:r.units,value:o[n],disabled:t,onChange:t=>{console.log(t),a(e,n,t)}})},n):r.type===i.Ut.String?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(le,{label:r.name,value:o[n]?o[n]:"",disabled:t,onChange:t=>a(e,n,t.target.value)})},n):r.type===i.Ut.Options?(0,m.jsx)(xt,{label:r.name,disabled:t,value:o[n]?o[n]:"",onChange:t=>a(e,n,t),options:r.options},n):r.type===i.Ut.Vector3?(0,m.jsx)(S.A,{sx:{maxWidth:200,padding:"3px"},children:(0,m.jsx)(se,{disabled:t,value:o[n]?o[n]:[0,0,0],onChange:t=>a(e,n,t)},n)},n):void 0))})})]})},wr=Rn(En()),_r=(0,r.memo)((({data:e,blockSpec:t,inDrawer:n=!1,copyFn:r,cutFn:o,deleteFn:a,interactionDisabled:l=!1,isCollapsed:c=!1,setIsCollapsed:d,isSelected:u=!1,setIsSelected:p,docActive:f=!1,setDocActive:h,isDebugging:g=!1,setIsDebugging:b})=>{const y=(0,i.cA)((e=>(0,wr.pickBy)(e,(e=>"function"==typeof e)))),v=(0,i.cA)((e=>e.programSpec.objectTypes));if(0===t.extras.length)return null;const x=Ar(n&&t.extras.length>1?[{label:"Actions",type:i.dW.Dropdown,icon:"MoreHorizRounded",contents:t.extras}]:t.extras,r,o,a,b,p,h,d,((e,t)=>{y.addArgument&&y.addArgument(e,t)}),y,v,l);let k=Dn(In({},e),{blockSpec:t,isCollapsed:c,isSelected:u,docActive:f,isDebugging:g});return(0,m.jsx)(s.A,{direction:"row",gap:1,children:x.map(((e,t)=>"ENTRY"===e.type&&e.inner?(0,m.jsx)(Ze,{data:k,inner:e.inner},t):"ENTRY"===e.type?(0,m.jsx)(Te,{title:"function"==typeof e.label?e.label(k):e.label,onClick:t=>e.onClick?e.onClick(k,t):()=>{},icon:"function"==typeof e.left?e.left(k):"string"==typeof e.left?e.left:"CheckBoxRounded"},t):(0,m.jsx)(on.A,{},t)))})}));function Ar(e,t,n,r,o,a,l,c,s,d,u,p){return e.map((e=>{var f;if(e===i.dW.Divider)return{type:"DIVIDER"};if(e===i.dW.DeleteButton)return{type:"ENTRY",label:"Delete",left:"DeleteRounded",onClick:r,disabled:p};if(e===i.dW.CopyButton)return{type:"ENTRY",label:"Copy",left:"ContentCopyRounded",onClick:t,disabled:p};if(e===i.dW.CutButton)return{type:"ENTRY",label:"Cut",left:"ContentCutRounded",onClick:n,disabled:p};if(e===i.dW.DebugToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isDebugging?"Stop Debugging":"Debug",left:e=>e.isDebugging?"RemoveCircleOutlineRounded":"BugReportRounded",onClick:e=>{o(!e.isDebugging)}};if(e===i.dW.SelectionToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isSelected?"Deselect":"Select",left:e=>e.isSelected?"StarOutlineRounded":"StarRounded",onClick:e=>{a(!e.isSelected)}};if(e===i.dW.DocToggle)return{type:"ENTRY",label:e=>e.docActive?"Close Doc":"Open Doc",left:e=>e.docActive?"RemoveCircleOutlineRounded":"ImportContactsRounded",onClick:e=>{l(!e.docActive)}};if(e===i.dW.CollapseToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isCollapsed?"Expand":"Collapse",left:e=>e.isCollapsed?"FullscreenExitRounded":"FullscreenRounded",onClick:e=>{c(!e.isCollapsed)}};if(e.type===i.dW.Indicator)return{type:"ENTRY",label:e.label,left:e.icon,disabled:!0};if(e.type===i.dW.FunctionButton){const t="function"==typeof e.onClick?e.onClick:d[e.onClick]?d[e.onClick]:e=>{};return{type:"ENTRY",label:e.label,left:e.icon,onClick:t,disabled:p}}return e.type===i.dW.Dropdown?{type:"ENTRY",label:e.label,left:e.icon||"MoreHorizRounded",inner:Ar(e.contents,t,n,r,o,a,l,c,s,d,u,p)}:e.type===i.dW.AddArgument?{type:"ENTRY",label:e.label,left:e.icon,onClick:t=>{s(t.id,e.argumentType)},disabled:p}:e.type===i.dW.AddArgumentGroup?{type:"ENTRY",label:"Add Arguments",left:e.icon,inner:(null==(f=e.allowed)?void 0:f.map((e=>({type:"ENTRY",label:`Add ${u[e].name}`,left:Ir(u[e]),onClick:t=>{s(t.id,e)},disabled:p}))))||[]}:{type:"ENTRY",label:"None",left:"CheckBoxRounded",disabled:!0}}))}var Ir=e=>{if(e.primitiveType===i.WR.Object){if(e.instanceBlock.icon)return e.instanceBlock.icon;if(e.referenceBlock.icon)return e.referenceBlock.icon}else if(e.primitiveType===i.WR.Function){if(e.functionBlock.icon)return e.functionBlock.icon;if(e.callBlock.icon)return e.callBlock.icon}return"BoxIcon"},Dr=(0,r.memo)((({id:e,blockName:t,propertyInfo:n,properties:r,interactionDisabled:o,context:a,limitedRender:l,progress:c,icon:d,inDrawer:u})=>{var p;const f=(0,i.cA)((e=>e.updateItemSimpleProperty)),h=Object.keys(n).length;return(0,m.jsxs)(Ln,{direction:u?"row":h>1?"column":"row",spacing:.5,alignItems:"stretch",justifyContent:"flex-start",style:{paddingTop:4},children:[(0,m.jsx)(jr,{progress:c,children:(0,m.jsx)(ve,{name:d,size:22})}),u?(0,m.jsx)(le,{value:t,readonly:!0}):null==(p=Object.entries(n))?void 0:p.map((([t,n])=>(0,m.jsx)(s.A,{direction:"column",justifyContent:"center",children:l&&Object.keys(i.Ut).includes(n.type)?(0,m.jsx)(pn.A,{variant:"rectangular",height:"39px",width:"100px",sx:{borderRadius:1,bgcolor:"#aaa",margin:"3px"}}):n.type===i.Ut.Options?(0,m.jsx)(xt,{disabled:o,value:r[t]?r[t]:"",onChange:n=>f(e,t,n),options:n.options},t):n.type===i.Ut.Boolean?(0,m.jsx)(Rt,{label:n.name,value:r[t],defaultValue:!1,onChange:n=>f(e,t,n),disabled:o},t):n.type===i.Ut.String?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(le,{value:r[t]?r[t]:"",disabled:o,onChange:n=>f(e,t,n.target.value)})},t):n.type===i.Ut.Number?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(ce,{label:n.name,min:void 0!==n.min?n.min:0,max:void 0!==n.max?n.max:10,step:n.step,suffix:n.units,value:r[t],disabled:o,onChange:n=>{console.log(n),f(e,t,n)}})},t):n.type===i.Ut.Vector3?(0,m.jsx)(S.A,{sx:{maxWidth:200,padding:"3px"},children:(0,m.jsx)(se,{disabled:o,value:r[t]?r[t]:[0,0,0],onChange:n=>f(e,t,n)},t)},t):n.type===i.Ut.Block?(0,m.jsx)(Pn,{children:(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between"},children:[l||o?!n.fullWidth&&(0,m.jsx)(pn.A,{variant:"rectangular",animation:!1,height:"32px",width:"32px",sx:{borderRadius:1,bgcolor:"#44444444",marginLeft:.5}}):"string"==typeof n.name?!n.fullWidth&&(0,m.jsx)(Xt.A,{color:"#eee",style:{margin:"2px 2px 2px 5px"},children:"string"==typeof n.name&&n.name}):(0,m.jsx)(S.A,{style:{paddingLeft:5},children:(0,m.jsx)(xt,{label:"",disabled:o,value:r[n.name.id]?r[n.name.id]:"",onChange:t=>f(e,n.name.id,t),options:n.name.options},n.name.name)}),n.isList?(0,m.jsx)(mr,{ids:r[t],regionInfo:{parentId:e,fieldInfo:n},interactionDisabled:o||!1,context:a||[],limitedRender:l||!1},t):(0,m.jsx)(gr,{id:r[t],regionInfo:{parentId:e,fieldInfo:n},interactionDisabled:o,context:a,limitedRender:l},t)]},t)},t):null},t)))]})})),Or=["IGNORED","METADATA"],Rr=["BOOLEAN","NUMBER","STRING","OPTIONS","IGNORED","METADATA","VECTOR3"],Er=(0,r.forwardRef)((({data:e,refData:t,typeSpec:n,interactionDisabled:o=!1,bounded:a=!1,context:l,regionInfo:c,progress:d,limitedRender:u,copyFn:p=(()=>{}),cutFn:f=(()=>{}),style:h},g)=>{var b;const y=c.parentId===i.j$,v=c.parentId===i.lJ,x=e.metaType===i.UB.ObjectInstance?n.instanceBlock:e.metaType===i.UB.ObjectReference?n.referenceBlock:e.metaType===i.UB.FunctionDeclaration?n.functionBlock:e.metaType===i.UB.FunctionCall?n.callBlock:e.metaType===i.UB.Argument?n.referenceBlock:void 0;if(!x)throw new Error(`Missing BlockSpec for Visual Block ${e.type}, ${e.metaType}`);const[k,j]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),w=(0,i.cA)((e=>e.updateItemEditing)),_=(0,i.cA)((e=>e.updateItemSelected)),A=(0,i.cA)((e=>e.programSpec.objectTypes)),I=(0,i.cA)((t=>t.activeDoc===e.id)),D=(0,i.cA)((e=>e.setActiveDoc)),O=(0,i.cA)((e=>e.deleteBlock)),R=(0,i.cA)((0,r.useCallback)((t=>{var n,r;return(null==(r=null==(n=t.clipboard)?void 0:n.block)?void 0:r.id)===e.id&&"COPY"===t.clipboard.action}),[e.id])),E=(0,i.cA)((e=>e.onVPEClick)),N=(0,i.cA)((e=>e.updateItemSimpleProperty)),B=x.minified&&e.metaType===i.UB.ObjectInstance,F=n&&n.properties?(0,yr.pickBy)(n.properties,(e=>Object.values(Rr).includes(e.type)&&!Or.includes(e.type))):{},P=n&&n.properties?(0,yr.pickBy)(n.properties,(t=>((e,t)=>t.type===i.Ut.Block&&(!(e.metaType!==i.UB.FunctionCall||!t.isFunctionArgument)||e.metaType===i.UB.FunctionDeclaration&&!t.isFunctionArgument||e.metaType===i.UB.ObjectInstance))(e,t))):{},L=(null==t?void 0:t.name)||e.name||"",U=e&&e.editing||e&&(null==t?void 0:t.editing),W=e&&e.selected||e&&(null==t?void 0:t.selected),z=y&&x.onCanvas&&!U;if(!e||!x)return null;const M=Dn(In({},e),{blockSpec:x,isCollapsed:k,isSelected:e.selected,docActive:I,isDebugging:C});return(0,m.jsx)(ct,{data:M,inner:Ar(Vn(x.extras),p,f,(()=>O(e,c.parentId,c.fieldInfo)),T,e.metaType===i.UB.ObjectReference||e.metaType===i.UB.FunctionCall?t=>{_(e.ref,t)}:t=>{_(e.id,t)},(t=>D(e.id,t)),j,((e,t)=>{}),{},A,o)||[],children:(0,m.jsxs)(Nn,{ref:g,"aria-labelledby":`${L} (${e.metaType})`,onClick:t=>{E(e),t.stopPropagation()},onDoubleClick:t=>{"OBJECT-REFERENCE"===e.metaType||"FUNCTION-CALL"===e.metaType?_(e.ref,!W):_(e.id,!W),t.stopPropagation()},className:z?void 0:"nodrag",bounded:a,minified:B,selected:W,focused:R,color:x.color,style:h,children:[(0,m.jsxs)(s.A,{justifyContent:"space-between",className:z?void 0:"nodrag",alignItems:"center",spacing:1,direction:"row",sx:{display:"flex",margin:"4px"},children:[!B&&(0,m.jsx)(Cr,{id:e.id,progress:d,color:x.color,limitedRender:u,nameId:t?t.id:e.id,name:L,icon:x.icon?x.icon:"CheckBoxRounded",editing:e.editing,setIsEditing:e.metaType===i.UB.ObjectReference||e.metaType===i.UB.FunctionCall?t=>w(e.ref,t):t=>w(e.id,t)}),B&&(0,m.jsx)(Dr,{id:e.id,blockName:n.name,propertyInfo:n.properties,properties:e.properties,interactionDisabled:o,context:l,limitedRender:u,icon:x.icon?x.icon:"CheckBoxRounded",progress:d,inDrawer:v}),x.extras&&!u&&(0,m.jsx)(_r,{data:e,inDrawer:v,copyFn:p,cutFn:f,deleteFn:()=>O(e,c.parentId,c.fieldInfo),interactionDisabled:o,blockSpec:x,isCollapsed:k,setIsCollapsed:j,isSelected:W,setIsSelected:e.metaType===i.UB.ObjectReference||e.metaType===i.UB.FunctionCall?t=>{_(e.ref,t)}:t=>{_(e.id,t)},docActive:I,setDocActive:t=>D(e.id,t),isDebugging:C,setIsDebugging:T})]}),y&&(0,m.jsx)(m.Fragment,{children:[dn.yX.Top,dn.yX.Bottom,dn.yX.Left,dn.yX.Right].filter((e=>{var t;return null==(t=x.connections)?void 0:t[e]})).map((t=>{var n,r;return(0,m.jsx)(kr,{nodeData:e,position:t,blockSpec:x,direction:(null==(r=null==(n=x.connections)?void 0:n[t])?void 0:r.direction)||i.ok.Inbound},t)}))}),(0,m.jsx)(Wt,{isOpen:I&&!u||!1,onStateChange:t=>D(e.id,t),showOverlay:!1,draggable:!0,clickableOverlay:!1,children:(0,m.jsx)(ar,{data:e,typeSpec:n})}),(0,m.jsx)(un.A,{in:!k&&!B,orientation:"vertical",children:(0,m.jsxs)(S.A,{children:[e.metaType===i.UB.FunctionDeclaration&&Object.keys(e.arguments).length>0&&(0,m.jsx)(s.A,{spacing:.5,direction:"column",style:{borderRadius:4,display:"flex",margin:4,padding:5,backgroundColor:"rgba(0,0,0,0.2)"},children:e.arguments.map(((e,t)=>(0,m.jsx)(Wn,{id:e,regionInfo:{parentId:i.lJ,fieldInfo:{id:e,name:e,accepts:[],default:null,isList:!1,fullWidth:!1,type:i.Ut.Block}},bounded:!0,context:l||[]},t)))}),!u&&Object.keys(F).length>0&&e.metaType===i.UB.ObjectInstance&&(0,m.jsx)(Tr,{id:e.id,interactionDisabled:o,simpleProperties:F,properties:e.properties}),(e.metaType===i.UB.ObjectInstance||e.metaType===i.UB.FunctionCall||e.metaType===i.UB.FunctionDeclaration)&&(null==(b=Object.entries(P))?void 0:b.map((([t,n])=>{const r=n.fullWidth?"":n.name;return(0,m.jsx)(Pn,{children:(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between"},children:["string"==typeof r?!n.fullWidth&&(0,m.jsx)(Xt.A,{color:"#eee",style:{margin:"2px 2px 2px 5px"},children:"string"==typeof r&&r}):(0,m.jsx)(S.A,{style:{paddingLeft:5},children:(0,m.jsx)(xt,{label:"",disabled:o,value:e.properties[r.id]?e.properties[r.id]:"",onChange:t=>N(e.id,r.id,t),options:r.options},r.name)}),n.isList?(0,m.jsx)(mr,{ids:e.properties[t],regionInfo:{parentId:e.id,fieldInfo:n},interactionDisabled:o,context:l||[],limitedRender:u||!1}):(0,m.jsx)(gr,{id:e.properties[t],regionInfo:{parentId:e.id,fieldInfo:n},hideText:!n.fullWidth,interactionDisabled:o||v,context:l||[],limitedRender:u||!1})]},t)},t)})))]})}),(0,m.jsx)(un.A,{in:C,orientation:"vertical",children:C&&(0,m.jsx)(br,{interactionDisabled:o,data:{data:e,typeSpec:n}})})]})})})),Nr=(0,r.memo)((({id:e,staticData:t,bounded:n,context:r,style:o})=>{const[a,l,c,s]=(0,i.cA)((n=>(0,i.jA)(n.programData,n.executionData,n.programSpec.objectTypes,t||e||""))),d=[...r,...(null==a?void 0:a.metaType)===i.UB.FunctionDeclaration?a.arguments:[]],u={parentId:i.ov,fieldInfo:{id:"PREVIEW",name:"PREVIEW",accepts:[a?a.type:"null"],default:null,isList:!1,fullWidth:!1,type:i.Ut.Block}};return console.log(a),a?a.metaType===i.UB.Comment?(0,m.jsx)(Un,{data:a,bounded:!0,regionInfo:u}):(0,m.jsx)(Er,{data:a,regionInfo:u,typeSpec:l,interactionDisabled:!0,bounded:n,context:d,style:o,limitedRender:!0}):null})),Sr=n(90326),Br=n(2360),Fr=n(38334),Pr=n(72611),Lr=n(5664),Ur=n(51090),Wr=n(2094),zr=n(52964),Mr=n(89661),$r=n(66576),qr=n(95910),Vr=(n(27852),n(92095)),Xr=n(84873),Yr=n(89751),Jr=n(95039),Hr=n(73477),Gr=Object.defineProperty,Kr=Object.defineProperties,Zr=Object.getOwnPropertyDescriptors,Qr=Object.getOwnPropertySymbols,ei=Object.prototype.hasOwnProperty,ti=Object.prototype.propertyIsEnumerable,ni=(e,t,n)=>t in e?Gr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ri=(e,t)=>{for(var n in t||(t={}))ei.call(t,n)&&ni(e,n,t[n]);if(Qr)for(var n of Qr(t))ti.call(t,n)&&ni(e,n,t[n]);return e},ii=(e,t)=>Kr(e,Zr(t)),oi=(0,p.Ay)("div")({width:"100%",display:"grid",height:"45px",alignItems:"center",gridTemplateColumns:"auto 46px"},(({theme:e})=>({backgroundColor:"dark"===e.palette.mode?(0,c.a)(e.palette.background.default,.1):(0,c.e$)(e.palette.background.default,.1)}))),ai=({})=>{var e;const t=(0,i.cA)((e=>e.tabs.filter((e=>e.visible)))),n=(0,i.cA)((e=>e.tabs.filter((e=>!e.visible)))),o=(0,i.cA)((e=>e.setTabs)),a=(0,i.cA)((e=>e.activeTab)),l=(0,i.cA)((e=>e.setActiveTab)),c=(0,i.cA)((e=>e.removeTab)),s=(0,i.cA)((e=>e.addTab)),d=(0,i.cA)((e=>e.setTabVisibility)),[u,p]=(0,r.useState)(null);return(0,m.jsxs)(oi,{children:[(0,m.jsx)(Sr._.Group,{as:"ul",axis:"x",values:t,onReorder:o,style:{listStyle:"none",display:"flex",flexWrap:"nowrap",padding:5,margin:0},children:(0,m.jsx)(Br.N,{initial:!1,children:t.map((e=>(0,m.jsx)(li,{item:e,onSelect:()=>{l(e)},isSelected:a===e.id,onRemove:()=>{return n=e.id,void t.some((e=>{if(e.id===n)return p(e),!0}));var n},removable:t.length>1,peerCount:t.length-1},e.id)))})}),(0,m.jsx)("div",{style:{width:34,height:34,display:"flex"},children:(0,m.jsx)(Ze,{data:{},label:"Edit Tabs",icon:"AddRounded",inner:[{type:"HEADER",label:"Tab Actions"},{type:"DIVIDER"},{type:"ENTRY",label:"Add Tab",left:"AddRounded",onClick:s,preventCloseOnClick:!0},{type:"ENTRY",label:"Open Existing...",right:"FolderOpenRounded",inner:n.length>=0?[{type:"HEADER",label:"Open Existing Tab"},...n.map((e=>({type:"ENTRY",onClick:()=>d(e.id,!0),label:e.title,left:"InsertDriveFileRounded"})))]:[{type:"ENTRY",label:"No Hidden Tabs"}]}]})}),(0,m.jsxs)(Wt,{isOpen:null!==u,onStateChange:()=>p(null),children:[(0,m.jsxs)(Fr.A,{children:['Delete "',null==u?void 0:u.title,'"?']}),(0,m.jsx)(Pr.A,{children:(0,m.jsxs)(Lr.A,{noWrap:!1,children:["Are you sure you want to delete this tab?"," ",(null==(e=null==u?void 0:u.blocks)?void 0:e.length)?`Deleting this tab will remove  ${u.blocks.length}+ blocks.`:"This tab has no contents."]})}),(0,m.jsxs)(Ur.A,{children:[(0,m.jsx)(De,{title:"Delete",color:"error",onClick:()=>{(null==u?void 0:u.id)&&(c(u.id),p(null))},children:"Delete"},"confirm-delete"),(0,m.jsx)(De,{title:"Cancel",onClick:()=>p(null),children:"Cancel"},"confirm-cancel")]})]})]})},li=({item:e,onRemove:t,isSelected:n,peerCount:o=2,onSelect:a})=>{const[l,c]=(0,r.useState)(!1),s=(0,i.cA)((e=>e.renameTab)),d=(0,i.cA)((e=>e.setTabVisibility)),u={inactive:{flex:1,boxShadow:"0px 0px 0px 0px transparent",transition:{type:"tween",duration:.4}},active:{boxShadow:`0px 0px 0px 2px ${(0,ln.A)().palette.primary.main}`,flex:o+1,transition:{type:"tween",duration:.4}},initial:{flex:1,boxShadow:"0px 0px 0px 0px transparent",transition:{type:"tween",duration:.4}}};return(0,r.useEffect)((()=>{c(n)}),[n]),(0,m.jsx)(Wr.x,{onClickAway:()=>c(!1),children:(0,m.jsx)(Sr._.Item,{value:e,id:e.id,dragListener:!l,onClick:a,onDoubleClick:()=>c(!0),style:{borderRadius:5,marginRight:5,backgroundColor:"transparent"},animate:n?"active":"inactive",initial:"initial",variants:u,exit:{opacity:0,y:0,transition:{duration:.3}},whileDrag:"active",className:n?"selected":"",children:(0,m.jsx)(le,{value:e.title,hideLabelPrefix:!0,onFocus:()=>{a(),c(!0)},onBlur:()=>c(!1),onChange:t=>s(e.id,t.target.value),extra:(0,m.jsx)(Ze,{data:{},label:"Edit Tab",size:"small",icon:"CloseRounded",inner:[{type:"HEADER",label:"Tab Actions"},{type:"ENTRY",label:"Hide Tab",left:"VisibilityOffRounded",onClick:()=>{d(e.id,!1)}},{type:"ENTRY",label:"Delete Tab",left:"DeleteRounded",onClick:()=>{t()}}]})})})})},ci={highlighted:{strokeWidth:30,stroke:"#777"},default:{strokeWidth:20,stroke:"#333"}},si=({fromX:e,fromY:t,fromPosition:n,toX:r,toY:i,toPosition:o})=>{const[a]=(0,dn.oN)({sourceX:e,sourceY:t,sourcePosition:n,targetX:r,targetY:i,targetPosition:o}),l=(0,ln.A)();return(0,m.jsxs)("g",{children:[(0,m.jsx)("path",{fill:"none",stroke:"dark"===l.palette.mode?"#ffffff99":"#00000099",strokeWidth:1.5,d:a}),(0,m.jsx)("circle",{cx:r,cy:i,fill:"dark"===l.palette.mode?"#fff":"#000",r:3,stroke:"#222",strokeWidth:1.5})]})},di=({id:e,sourceX:t,sourceY:n,targetX:o,targetY:a,sourcePosition:l,targetPosition:c,style:d={},markerEnd:u})=>{const p=(0,i.cA)((e=>e.updateEdgeValue)),h=(0,i.cA)((e=>e.deleteEdge)),g=(0,i.cA)((e=>e.toggleEdgeMode)),b=((0,i.cA)((e=>e.onVPEClick)),(0,i.cA)((0,r.useCallback)((t=>t.programData[e]),[e]))),[y,v]=(0,r.useState)(!1),[x,k,j]=(0,dn.oN)({sourceX:t,sourceY:n,sourcePosition:l,targetX:o,targetY:a,targetPosition:c});return b&&(0,m.jsxs)("g",{style:{zIndex:y?100:1,userSelect:"none"},onClick:()=>{console.log("click"),v(!y)},children:[(0,m.jsx)(f.P.path,{id:e,style:ii(ri({},d),{strokeWidth:3.5,fill:"transparent",userSelect:"none"}),stroke:y?"#ccc":"#aaa",d:x,markerEnd:u,strokeDasharray:"10 6",initial:{strokeDashoffset:16},animate:{strokeDashoffset:0},transition:{duration:.5,repeat:1/0,ease:!1}}),(0,m.jsx)(f.P.path,{id:`inner-${e}`,style:ii(ri({},d),{fill:"transparent",userSelect:"none"}),opacity:.5,d:x,markerEnd:u,strokeLinecap:"round",variants:ci,animate:y?"highlighted":"default"}),(0,m.jsx)(dn.rV,{children:(0,m.jsx)($r.A,{in:y,children:(0,m.jsx)(s.A,{className:"nodrag nopan",direction:"row",alignItems:"center",onClick:e=>e.stopPropagation(),gap:1,style:{position:"absolute",transform:`translate(-50%, -50%) translate(${k}px,${j}px)`,borderRadius:5,flexDirection:"row",userSelect:"none",pointerEvents:"all"},children:b.type===i.Xt.Number?(0,m.jsx)(ce,{label:"Edge",value:Number(b.value),onChange:e=>p(b.id,e),extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,children:[(0,m.jsx)(Te,{title:"Toggle Edge Type",size:"small",onClick:e=>{g(b.id),e.stopPropagation()},icon:"TagRounded"}),(0,m.jsx)(Te,{title:"Delete edge",size:"small",onClick:e=>{h(b.id),e.stopPropagation()},icon:"DeleteRounded"})]})}):(0,m.jsx)(le,{label:"Edge",value:b.value,onChange:e=>p(b.id,e.target.value),extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,children:[(0,m.jsx)(Te,{title:"Toggle Edge Type",size:"small",onClick:e=>{g(b.id),e.stopPropagation()},icon:"TextFieldsRounded"}),(0,m.jsx)(Te,{title:"Delete edge",size:"small",onClick:e=>{h(b.id),e.stopPropagation()},icon:"DeleteRounded"})]})})})})})]})},ui=(0,p.Ay)(s.A)({WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)",borderRadius:5,padding:5},(({theme:e})=>({backgroundColor:"dark"===e.palette.mode?"rgba(200,200,200,0.05)":"rgba(100,100,100,0.05)"})));function pi(){const{zoom:e,x:t,y:n}=(0,dn.kW)(),{fitView:r,zoomIn:i,zoomOut:o,setViewport:a}=(0,dn.VH)();return(0,m.jsx)(dn.Zk,{position:"bottom-left",children:(0,m.jsxs)(ui,{direction:"column",gap:1,alignItems:"center",children:[(0,m.jsx)(Te,{title:"Zoom In",disabled:e>=1,onClick:()=>i({duration:300}),placement:"right",icon:"AddRounded"}),(0,m.jsx)(vt,{value:e,sx:{height:100},min:.25,max:1,step:.05,onChange:(e,r)=>a({zoom:"number"==typeof r?r:r[0],x:t,y:n},{duration:200})}),(0,m.jsx)(Te,{title:"Zoom Out",disabled:e<=.25,onClick:()=>o({duration:300}),placement:"right",icon:"RemoveRounded"}),(0,m.jsx)(Te,{title:"Fit View",onClick:()=>r({duration:300}),placement:"right",icon:"FullscreenRounded"})]})})}var fi=(0,r.memo)((({id:e})=>(0,m.jsx)(Wn,{id:e,regionInfo:{parentId:i.j$,fieldInfo:{id:i.j$,name:i.j$,accepts:[],default:null,type:i.Ut.Block}},dragDisabled:!0,context:[]})));function hi({snapToGrid:e=!0,drawerWidth:t,bounds:n,reactflowProOptions:a}){const l=(0,ln.A)(),c=(0,i.cA)((e=>e.setTabViewport)),s=(0,i.cA)((e=>e.setClipboardBlock)),d=(0,i.cA)((e=>e.updateItemSelected)),u=(0,i.cA)((e=>e.setSelections)),p=(0,i.cA)((e=>null!==e.activeDrawer)),f=(0,i.cA)((e=>{let t=null;return e.tabs.some((n=>n.id===e.activeTab&&(t=n,!0))),t})),h=(0,i.cA)((e=>e.createEdge)),g=(0,i.cA)((e=>e.paste)),y=(0,i.cA)((e=>{var t,n;return(null==(n=null==(t=e.clipboard)?void 0:t.regionInfo)?void 0:n.parentId)===i.j$&&[i.zy.Paste,i.zy.Copy,i.zy.Cut].includes(e.clipboard.action||i.zy.Select)})),v=(0,i.cA)((e=>e.validateEdge)),x=(0,i.cA)((e=>e.onOffVPEClick)),k=(0,i.cA)((e=>e.setConnectionInfo)),j=(0,i.cA)((e=>e.getTabViewport)),C=(0,i.cA)((0,r.useCallback)((e=>{var t,n;return(null==(n=null==(t=null==f?void 0:f.blocks)?void 0:t.map((t=>{const n=e.programData[t];return n?n.metaType===i.UB.Argument?null:{id:n.id,position:n.position,type:"canvasNode",data:{typeSpec:e.programSpec.objectTypes[n.type]},selected:n.selected}:null})))?void 0:n.filter((e=>null!==e)))||[]}),[f])),T=(0,i.cA)((e=>Object.values(e.programData).filter((e=>e.metaType===i.UB.Connection)).map((e=>({id:e.id,source:e.parent.id,target:e.child.id,sourceHandle:e.parent.handle,targetHandle:e.child.handle,type:"canvasEdge"}))))),w=(0,i.cA)((e=>Object.entries(e.programSpec.objectTypes).filter((([e,t])=>t.primitiveType===i.WR.Object&&(t.instanceBlock.onCanvas||t.referenceBlock.onCanvas)||t.primitiveType===i.WR.Function&&(t.functionBlock.onCanvas||t.callBlock.onCanvas))).map((([e])=>e)))),_={parentId:i.j$,fieldInfo:{id:i.j$,name:i.j$,accepts:w,default:null,type:i.Ut.Block}},A=(0,i.cA)((e=>e.moveBlocks)),I=(0,i.cA)((e=>e.createPlacedBlock)),{screenToFlowPosition:D,fitView:O,setViewport:R}=(0,dn.VH)(),E=(0,o.H)({accept:w,canDrop:e=>{var t,n,r;return e&&((null==(t=null==e?void 0:e.regionInfo)?void 0:t.parentId)===i.j$||(null==(n=null==e?void 0:e.regionInfo)?void 0:n.parentId)===i.lJ&&(null==e?void 0:e.typeSpec)&&qn(null==e?void 0:e.typeSpec,"onCanvas",null==(r=null==e?void 0:e.data)?void 0:r.metaType))},drop:(e,t)=>{const n=t.getClientOffset();if(!n)return;const r=D(n);(null==e?void 0:e.data)&&I(e.data,r.x,r.y)}},[t,w,t,n,p])[1];(0,r.useEffect)((()=>{const e=j((null==f?void 0:f.id)||"");return e?R(e):O(),()=>{}}),[null==f?void 0:f.id]);const N=e=>{A(e),e.forEach((e=>{"select"===e.type&&(console.log(e),d(e.id,e.selected))}))};return(0,m.jsx)(gi,{pastable:y,children:(0,m.jsx)(qr.A,{children:({width:t,height:n})=>(0,m.jsx)(ct,{data:{},inner:[{type:"ENTRY",label:"Paste",left:"ContentCopyRounded",disabled:!y,onClick:(e,t)=>{const n=j((null==f?void 0:f.id)||""),r=(null==n?void 0:n.zoom)||1,{x:i,y:o}=D({x:t.clientX,y:t.clientY}),a={coordinates:{x:i-100/r,y:o-100/r},tab:null==f?void 0:f.id,regionInfo:_};g(a),t.stopPropagation()}}],children:(0,m.jsxs)(dn.Gc,{ref:E,maxZoom:1,style:{height:n,width:t},minZoom:.25,nodesConnectable:!0,elevateNodesOnSelect:!0,onDoubleClick:e=>{s(),u([])},onClick:e=>{x(null),s(),e.stopPropagation()},onMove:(0,b.debounce)(((e,t)=>{f&&c(f.id,t)}),3e3),elementsSelectable:!0,nodeTypes:(0,r.useMemo)((()=>({canvasNode:fi})),[]),edgeTypes:(0,r.useMemo)((()=>({canvasEdge:di})),[]),nodes:C,edges:T,connectionLineComponent:si,onConnect:e=>{v(e.source||"",e.sourceHandle,e.target||"",e.targetHandle)&&h(e.source||"",e.sourceHandle,e.target||"",e.targetHandle)},onConnectStart:(e,t)=>{k(t)},onConnectEnd:e=>{k(null)},onNodesChange:N,fitView:!0,snapToGrid:e,snapGrid:[30,30],proOptions:a,children:[(0,m.jsx)(zr.o,{style:{backgroundColor:"transparent",WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",borderRadius:5,overflow:"hidden",padding:0,height:100},maskColor:"dark"===l.palette.mode?"#d0d0d070":"#20202070",nodeStrokeColor:"transparent",nodeColor:e=>qn(e.data.typeSpec,"color",e.data.metaType)||"#fff",nodeBorderRadius:10,pannable:!0,zoomable:!0}),(0,m.jsx)(pi,{}),(0,m.jsx)(Mr.V,{variant:Mr._.Dots,color:"#555",gap:30,size:2})]})})})})}var gi=(0,p.Ay)("div")({alignItems:"center",justifyContent:"center",display:"flex",flex:1,flexDirection:"row",height:"100%"},(({theme:e,pastable:t})=>({backgroundColor:t?(0,c.a)(e.palette.background.default,.3):e.palette.background.default,"& .react-flow__selection":{background:(0,c.X4)((0,c.e$)(e.palette.primary.main,.5),.3),border:`1px dotted ${(0,c.X4)(e.palette.primary.main,.8)}`,borderRadius:3,outline:"none"},"& .react-flow__nodesselection-rect":{background:(0,c.X4)((0,c.e$)(e.palette.primary.main,.5),.3),border:`1px dotted ${(0,c.X4)(e.palette.primary.main,.8)}`,borderRadius:3,outline:"none",zIndex:1},"& .react-flow__nodesselection":{background:"transparent"}}))),mi=({setSearchTerm:e,setActiveDrawer:t})=>{const n=(0,i.cA)((e=>e.programSpec.drawers)),r=(0,i.cA)((e=>e.activeDrawer));return(0,m.jsxs)(s.A,{direction:"column",sx:{padding:"5px",userSelect:"none"},spacing:1,children:[0===n.length&&(0,m.jsx)(Te,{title:"Default",placement:"right",canToggle:!0,toggled:!1,onClick:()=>{},icon:"AddBox"},"default-drawer-tt"),n.map(((n,i)=>(0,m.jsx)(Te,{title:n.title,placement:"right",canToggle:!0,toggled:r===i,onClick:()=>{e(""),t(r===i?null:i)},icon:n.icon},`${n.title}-${i}-drawer-tt`)))]})},bi=({searchTerm:e,setSearchTerm:t,drawerWidth:n})=>{const r=(0,i.cA)((e=>e.programSpec.drawers)),o=(0,i.cA)((e=>e.activeDrawer)),a=(0,i.cA)((e=>e.addInstance)),[l,d,u,p,f]=(0,i.cA)((e=>{if(null!==o){const t=e.programSpec.drawers[o];if(t.type===i._g.Multiple){return[{},(0,b.pick)(e.programSpec.objectTypes,t.objectTypes),i._g.Multiple,null,null]}if(t.type===i._g.Singular){return[(0,b.pickBy)(e.programData,(e=>e.type===t.objectType&&(e.metaType===i.UB.ObjectInstance||e.metaType===i.UB.FunctionDeclaration))),{},i._g.Singular,t.objectType,e.programSpec.objectTypes[t.objectType]]}}return[{},{},null,null,null]})),h=u===i._g.Multiple?Object.keys(d).map((e=>(0,i.JF)(e,d[e],!1))):u===i._g.Singular&&p&&f?Object.keys(l).map((e=>(0,i.x1)(p,l[e],f))):[],[g,y]=(0,N.A)(),[v,x]=(0,N.A)(),k=(0,ln.A)();return(0,m.jsxs)(s.A,{ref:g,direction:"column",sx:{userSelect:"none",width:n,backgroundColor:"light"===k.palette.mode?(0,c.e$)(k.palette.background.paper,.1):(0,c.a)(k.palette.background.paper,.1),height:"100%"},children:[(0,m.jsxs)(s.A,{ref:v,sx:{backgroundColor:"light"===k.palette.mode?(0,c.e$)(k.palette.background.paper,.15):(0,c.a)(k.palette.background.paper,.15),padding:"10px"},direction:"column",spacing:1,children:[(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between",width:"100%"},justifyContent:"space-between",children:[(0,m.jsx)(Xt.A,{style:{color:k.palette.text.secondary},children:null!==o&&r[o].title}),null!==o&&r[o].type===i._g.Singular&&(null==f?void 0:f.primitiveType)===i.WR.Object&&!f.instanceBlock.onCanvas&&(0,m.jsx)(Te,{size:"small",placement:"bottom",title:`Add ${f.name}`,onClick:()=>a(r[o].objectType),icon:"AddRounded"})]}),(0,m.jsx)("div",{children:(0,m.jsx)(le,{label:"Search",value:e,onChange:e=>t(e.target.value)})})]}),(0,m.jsx)(S.A,{sx:{flex:1,width:n},children:(0,m.jsx)(yt,{height:y.height-x.height,width:n,vertical:!0,children:(0,m.jsx)(s.A,{direction:"column",gap:.5,sx:{padding:"4px"},children:h.filter((t=>""===e||t.name.toLowerCase().includes(e.toLowerCase()))).map((e=>(0,m.jsx)(Wn,{staticData:e,bounded:!0,context:[],interactionDisabled:!0,regionInfo:{fieldInfo:{id:"",name:"",accepts:[e.type],default:null,type:i.Ut.Block},parentId:i.lJ}},e.id)))})})})]})},yi=({drawerWidth:e=235,snapToGrid:t=!0,animateDrawer:n=!0,bounds:o,reactflowProOptions:a})=>{const[l,s]=(0,r.useState)(""),d=(0,i.cA)((e=>e.activeDrawer)),p=(0,i.cA)((e=>e.setActiveDrawer)),f=(0,i.cA)((e=>e.activeTab)),h=(0,i.cA)((e=>e.addTab)),g=(0,ln.A)();return(0,m.jsxs)(S.A,{sx:{overflow:"hidden",display:"flex",flexDirection:"row",height:"100%",flex:1,padding:0,backgroundColor:"light"===g.palette.mode?(0,c.e$)(g.palette.background.paper,.2):(0,c.a)(g.palette.background.paper,.2)},children:[(0,m.jsx)(mi,{setActiveDrawer:p,setSearchTerm:s}),n?(0,m.jsx)(un.A,{in:n&&null!==d,orientation:"horizontal",children:null!==d&&(0,m.jsx)(bi,{searchTerm:l,drawerWidth:e,setSearchTerm:s})}):null!==d?(0,m.jsx)(bi,{searchTerm:l,drawerWidth:e,setSearchTerm:s}):null,(0,m.jsxs)(S.A,{sx:{display:"flex",flexDirection:"column",height:"100%",flex:1,padding:0},children:[(0,m.jsx)(ai,{}),f?(0,m.jsx)(hi,{drawerWidth:e,snapToGrid:t,bounds:o,reactflowProOptions:a}):(0,m.jsx)(gi,{sx:{backgroundColor:"dark"===g.palette.mode?(0,c.a)(g.palette.background.default,.05):(0,c.e$)(g.palette.background.default,.05)},children:(0,m.jsxs)(u.A,{children:[(0,m.jsxs)(Ht.A,{children:[(0,m.jsx)(Xt.A,{gutterBottom:!0,variant:"h5",component:"div",children:"No Tab Selected"}),"Create or open a tab to begin"]}),(0,m.jsx)(an.A,{children:(0,m.jsx)(De,{title:"Create Tab",startIcon:"AddRounded",onClick:()=>h(),children:"Create Tab"})})]})})]})]})},vi=({bounds:e})=>{const{isDragging:t,item:n,currentOffset:r}=(0,Vr.V)((e=>({item:e.getItem(),currentOffset:e.getClientOffset(),isDragging:e.isDragging()})));return t&&n?(0,m.jsxs)("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:0,height:0,opacity:.5,WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:[n.data&&n.data.metaType===i.UB.Comment&&(0,m.jsx)("div",{style:{transform:`translate(${r?r.x:0}px, ${r?r.y:0}px)`},children:(0,m.jsx)(Un,{data:n.data,regionInfo:n.regionInfo,interactionDisabled:!0,limitedRender:!0})}),n.data&&n.data.metaType!==i.UB.Comment&&(0,m.jsx)("div",{style:{transform:`translate(${r?r.x:0}px, ${r?r.y:0}px)`},children:(0,m.jsx)(Er,{data:n.data,regionInfo:n.regionInfo,typeSpec:n.typeSpec,context:n.context,interactionDisabled:!0,limitedRender:!0})})]}):null};function xi({store:e,muiTheme:t,drawerWidth:n=235,snapToGrid:r=!1,animateDrawer:o=!0,initial:a,reactflowProOptions:l}){const[c,s]=(0,N.A)(),d=()=>(0,m.jsx)(Jr.Q,{backend:Yr.U2,options:Xr.P,children:(0,m.jsxs)(dn.Ln,{children:[(0,m.jsx)("div",{ref:c,style:{userSelect:"none",padding:0,margin:0,display:"flex",height:"inherit",width:"inherit"},children:(0,m.jsx)(yi,{drawerWidth:n,snapToGrid:r,animateDrawer:o,bounds:s,reactflowProOptions:l})}),(0,m.jsx)(vi,{bounds:s})]})});return t?(0,m.jsx)(i.JT,{store:e,initial:a,children:(0,m.jsx)(Hr.A,{theme:t,children:d()})}):(0,m.jsx)(i.JT,{store:e,initial:a,children:d()})}var ki=e=>{const[t,n,o]=(0,i.cA)((0,r.useCallback)((t=>(0,i.jA)(t.programData,t.executionData,t.programSpec.objectTypes,e.data)),[e.data])),a={x:0,z:0,scale:1,onCanvas:!1,interactionDisabled:!0,bounded:!0,fieldInfo:i.ov,parentId:i.ov},l={parentId:i.ov,fieldInfo:{id:"PREVIEW",name:"PREVIEW",accepts:[(null==t?void 0:t.type)||""],default:null,isList:!1,fullWidth:!1,type:i.Ut.Block}};if(!n)throw new Error(`Missing typeSpec entry for ${e.data.type}`);return(0,m.jsx)(Er,ii(ri(ri({},e),a),{regionInfo:l,data:t,typeSpec:n,context:e.context,progress:o||void 0}))},ji=({store:e,muiTheme:t,data:n,style:r={},initial:o,context:a})=>{const l=()=>(0,m.jsx)(Jr.Q,{backend:Yr.U2,options:Xr.P,children:(0,m.jsx)(ki,{data:n,style:r,context:a})});return t?(0,m.jsx)(i.JT,{store:e,initial:o,children:(0,m.jsx)(Hr.A,{theme:t,children:l()})}):(0,m.jsx)(i.JT,{store:e,initial:o,children:l()})}}}]);