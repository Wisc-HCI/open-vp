"use strict";(self.webpackChunk_people_and_robots_open_vp_docs=self.webpackChunk_people_and_robots_open_vp_docs||[]).push([[5384],{36719:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>u});var r=n(31085),o=n(71184),i=n(44609);const a={sidebar_position:7},l="Drawers",c={id:"tutorial/drawers",title:"Drawers",description:"To start dragging in blocks into the canvas, we will need a place to drag them from. That is where the drawer comes in. The drawer is located on the left-hand side of the environment, and organizes blocks based on a specification you provide. Let's use the previous blocks we created, and create some drawers for them.",source:"@site/docs/tutorial/drawers.mdx",sourceDirName:"tutorial",slug:"/tutorial/drawers",permalink:"/open-vp/docs/tutorial/drawers",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Second Block",permalink:"/open-vp/docs/tutorial/second-block"}},s={},u=[{value:"DrawerSpec",id:"drawerspec",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"drawers",children:"Drawers"}),"\n",(0,r.jsx)(t.p,{children:"To start dragging in blocks into the canvas, we will need a place to drag them from. That is where the drawer comes in. The drawer is located on the left-hand side of the environment, and organizes blocks based on a specification you provide. Let's use the previous blocks we created, and create some drawers for them."}),"\n",(0,r.jsx)(t.h2,{id:"drawerspec",children:"DrawerSpec"}),"\n",(0,r.jsxs)(t.p,{children:["The drawer is customized with a set of ",(0,r.jsx)(t.a,{href:"/docs/api/drawer-spec",children:"DrawerSpec"})," entries. The ",(0,r.jsx)(t.code,{children:"DrawerSpec"})," comes in two variants, the ",(0,r.jsx)(t.code,{children:"ObjectDrawerSpec"})," and the ",(0,r.jsx)(t.code,{children:"ReferenceDrawerSpec"}),". The ",(0,r.jsx)(t.code,{children:"ObjectDrawerSpec"})," is used to specify a drawer that contains multiple different types of block instances, while the ",(0,r.jsx)(t.code,{children:"ReferenceDrawerSpec"})," is used to provide draggable references to existing instances (or calls to existing functions) defined in the program."]}),"\n",(0,r.jsxs)(t.p,{children:["For our purposes here, we will only be using the ",(0,r.jsx)(t.code,{children:"ObjectDrawerSpec"}),". First, let's create a single drawer that includes both blocks we created in the previous section."]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",children:'const drawers = [\n  {\n    title: "Blocks",\n    type: DrawerType.Multiple,\n    metaType: MetaType.ObjectInstance,\n    objectTypes: ["simpleType", "textType"],\n    icon: "SquareRounded",\n  },\n];\n'})}),"\n",(0,r.jsx)(t.p,{children:"And here is the result of that configuration, rendered in the environment:"}),"\n",(0,r.jsx)("div",{style:{height:400,width:"100%"},children:(0,r.jsx)(i.A,{initial:{programSpec:{drawers:[{title:"Blocks",type:"MULTIPLE",metaType:"OBJECT-INSTANCE",objectTypes:["simpleType","textType"],icon:"SquareRounded"}],objectTypes:{simpleType:{name:"Simple Block",primitiveType:"OBJECT",description:"# Markdown-Flavored Description String",instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:"SquareRounded",extras:[]},referenceBlock:{onCanvas:!0,color:"#3f3f3f",icon:"SquareRounded",extras:[]},properties:{myProperty:{id:"myProperty",type:"BLOCK",name:"My Property",accepts:["textType"],default:null,isList:!1,fullWidth:!1},myNumericalProperty:{id:"myNumericalProperty",type:"NUMBER",name:"My Number",default:10,min:0,max:100,step:1,units:"m/s"}}},textType:{name:"Text Block",primitiveType:"OBJECT",description:"# Markdown-Flavored Description String",instanceBlock:{onCanvas:!1,color:"#629e6c",icon:"SquareRounded",extras:[],minified:!0},referenceBlock:{onCanvas:!1,color:"#629e6c",icon:"SquareRounded",extras:[],minified:!0},properties:{text:{id:"text",type:"STRING",name:"Text",default:"Hello World!"}}}}}}})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},44609:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(29437),o=n(6704),i=n(31085);function a(e){return(0,i.jsx)(o.A,{fallback:(0,i.jsx)("div",{children:" Loading..."}),children:()=>(0,i.jsx)(r.O,{...e})})}},19934:(e,t,n)=>{n.d(t,{$C:()=>B,JF:()=>R,JT:()=>q,UB:()=>C,Ut:()=>A,WR:()=>j,Xt:()=>_,_g:()=>I,cA:()=>K,dW:()=>D,j$:()=>x,jA:()=>N,kc:()=>S,lJ:()=>v,ok:()=>T,ov:()=>k,x1:()=>O,zy:()=>w});var r=n(45250),o=n(3375),i=n(14041),a=n(38089),l=n(98267),c=n(83813),s=n(31085),u=Object.defineProperty,d=Object.defineProperties,p=Object.getOwnPropertyDescriptors,f=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable,m=(e,t,n)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,b=(e,t)=>{for(var n in t||(t={}))h.call(t,n)&&m(e,n,t[n]);if(f)for(var n of f(t))g.call(t,n)&&m(e,n,t[n]);return e},y=(e,t)=>d(e,p(t)),v="SPAWNER",x="CANVAS",k="OUTSIDE",j=(e=>(e.Object="OBJECT",e.Function="FUNCTION",e))(j||{}),C=(e=>(e.ObjectInstance="OBJECT-INSTANCE",e.ObjectReference="OBJECT-REFERENCE",e.FunctionDeclaration="FUNCTION-DECLARATION",e.FunctionCall="FUNCTION-CALL",e.Argument="ARGUMENT",e.Connection="CONNECTION",e.Comment="COMMENT",e))(C||{}),T=(e=>(e.Inbound="INBOUND",e.Outbound="OUTBOUND",e))(T||{}),w=(e=>(e.Copy="COPY",e.Cut="CUT",e.Paste="PASTE",e.Select="SELECT",e))(w||{}),_=(e=>(e.Number="NUMBER",e.String="STRING",e))(_||{}),A=(e=>(e.Boolean="BOOLEAN",e.Number="NUMBER",e.String="STRING",e.Options="OPTIONS",e.Metadata="METADATA",e.Vector3="VECTOR3",e.Custom="CUSTOM",e.Block="BLOCK",e))(A||{}),I=(e=>(e.Singular="SINGULAR",e.Multiple="MULTIPLE",e))(I||{}),D=(e=>(e.SelectionToggle="SELECTION_TOGGLE",e.DocToggle="DOC_TOGGLE",e.CollapseToggle="COLLAPSE_TOGGLE",e.FunctionButton="FUNCTION_BUTTON",e.Dropdown="DROPDOWN",e.DeleteButton="DELETE_BUTTON",e.CopyButton="COPY_BUTTON",e.CutButton="CUT_BUTTON",e.AddArgument="ADD_ARGUMENT",e.AddArgumentGroup="ADD_ARGUMENT_GROUP",e.DebugToggle="DEBUG_TOGGLE",e.Indicator="INDICATOR",e.Divider="DIVIDER",e))(D||{});function R(e,t,n){var r,o,i,a;let l,c="OBJECT"===t.primitiveType?null==(r=t.instanceBlock)?void 0:r.hideNewPrefix:"FUNCTION"===t.primitiveType&&(null==(o=t.functionBlock)?void 0:o.hideNewPrefix);if(n)l={id:e,name:`${c?"":"New "}${t.name} Argument`,metaType:"ARGUMENT",type:e,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else if("FUNCTION"===t.primitiveType)l={id:e,name:`${c?"":"New "}${t.name}${n?" Argument":""}`,metaType:"FUNCTION-DECLARATION",type:e,properties:{},position:t.functionBlock.onCanvas?{x:0,y:0}:void 0,arguments:[],canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else{if("OBJECT"!==t.primitiveType)throw new Error(`Unknown type being generated: Cannot create instance of ${e}`);l={id:e,name:`${c?"":"New "}${t.name}`,metaType:"OBJECT-INSTANCE",type:e,properties:{},position:t.instanceBlock.onCanvas?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1}}return"ARGUMENT"!==l.metaType&&Object.entries(t.properties).forEach((([e,t])=>{l.properties[e]=t.default,"string"!=typeof t.name&&(console.log("label feature",l,t.name),l.properties[t.name.id]=t.name.default)})),("OBJECT"===t.primitiveType&&(null==(i=t.instanceBlock)?void 0:i.onCanvas)||"FUNCTION"===t.primitiveType&&(null==(a=t.functionBlock)?void 0:a.onCanvas))&&(l.position={x:0,y:0}),l}function O(e,t,n){var r,o;let i;if("FUNCTION"===n.primitiveType)i={id:`new-${e}-${t.id}`,metaType:"FUNCTION-CALL",type:e,ref:t.id,name:t.name,properties:{},position:(null==(r=n.callBlock)?void 0:r.onCanvas)?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1};else{if("OBJECT"!==n.primitiveType)throw new Error(`Unknown type being generated: Cannot create reference of ${e}`);i={id:`new-${e}-${t.id}`,metaType:"OBJECT-REFERENCE",type:e,ref:t.id,name:t.name,position:(null==(o=n.referenceBlock)?void 0:o.onCanvas)?{x:0,y:0}:void 0,canDelete:!0,canEdit:!0,editing:!1,selected:!1,docActive:!1}}return i}function E(e,t,n){var o;const i=y(b({},e),{name:t.name,specificType:t.type});let a={};return null==(o=t.arguments)||o.forEach((e=>{const t=n[e];a[e]={id:t.id,name:t.name,type:"BLOCK",accepts:[t.type],default:null,isFunctionArgument:!0}})),y(b({},i),{properties:b(b({},(0,r.mapValues)(i.properties,(e=>y(b({},e),{isFunctionBlockField:!0})))),a)})}function N(e,t,n,r){const o="string"==typeof r?e[r]:r;if(!o)return[null,null,null,null];if("CONNECTION"===o.metaType)return[o,null,null,null];if("COMMENT"===o.metaType)return[o,null,null,null];const i=t[o.id],a=n[o.type],l="FUNCTION-DECLARATION"===o.metaType?E(a,o,e):"FUNCTION-CALL"===o.metaType?E(a,e[o.ref],e):a;let c;c="FUNCTION-CALL"===o.metaType||"OBJECT-REFERENCE"===o.metaType?e[o.ref]:null;const s=(null==o?void 0:o.selected)||(null==c?void 0:c.selected)||!1,u=(null==o?void 0:o.editing)||(null==c?void 0:c.editing)||!1;return[y(b({},o),{selected:s,editing:u}),l,i,c||null]}var S=(e,t)=>{let n=b({},e);return Object.values(t).filter((e=>"FUNCTION-DECLARATION"===e.metaType)).forEach((r=>{n[r.id]=E(e[r.type],r,t)})),n},B=e=>`${e}-${(0,o.A)()}`;function F(e,t){return e.programData=(0,r.omitBy)(e.programData,(e=>"CONNECTION"===e.metaType&&(e.parent.id===t||e.child.id===t))),e}function L(e,t,n){var r,o;if(n&&"FUNCTION-CALL"===n.metaType){null==(r=Object.keys(n.properties))||r.forEach((r=>{t.includes(e.programData[n.properties[r]].ref)&&(delete e.programData[n.properties[r]],e.programData[n.id].properties[r]=null,e=F(e,n.properties[r]))}));for(let r=0;r<t.length;r++)delete e.programData[n.id].properties[t[r]]}else(n&&"OBJECT-INSTANCE"===n.metaType||"FUNCTION-DECLARATION"===n.metaType)&&(null==(o=e.programSpec.objectTypes[n.type])?void 0:o.properties)&&Object.keys(e.programSpec.objectTypes[n.type].properties).forEach((r=>{if(r){const o=e.programSpec.objectTypes[n.type].properties[r];o&&"BLOCK"!==o.type||(o&&o.isList?(n.properties[r].forEach((n=>{e=L(e,t,e.programData[n])})),t.forEach((t=>{const o=e.programData[n.id].properties[r].filter((n=>("OBJECT-REFERENCE"===e.programData[n].metaType||"FUNCTION-CALL"===e.programData[n].metaType)&&e.programData[n].ref!==t));e.programData[n.id].properties[r]=o}))):(o&&n.properties[r]&&"OBJECT-REFERENCE"===e.programData[n.properties[r]].metaType||"FUNCTION-CALL"===e.programData[n.properties[r]].metaType&&t.includes(e.programData[n.properties[r]].ref))&&(delete e.programData[n.properties[r]],e.programData[n.id].properties[r]=null,e=F(e,n.properties[r])))}}));return e}function P(e,t){const n=(0,r.pickBy)(e.programData,(e=>"OBJECT-INSTANCE"===e.metaType||"FUNCTION-DECLARATION"===e.metaType));return Object.keys(n).forEach((n=>{e.programData[n]&&(e=L(e,t,e.programData[n]))})),e}function U(e,t,n,o,i){if("FUNCTION-DECLARATION"===t.metaType){const i=(0,r.pickBy)(e.programData,(e=>"FUNCTION-CALL"===e.metaType&&e.ref===t.id));Object.values(i).forEach((t=>{e=z(e,t,n,o)})),t.arguments.forEach((t=>{delete e.programData[t],e=F(e,t)})),Object.keys(e.programData).forEach((t=>{var n;const o=e.programData[t];o&&"CONNECTION"!==o.metaType&&(null==(n=e.programSpec.objectTypes[o.type])?void 0:n.properties)&&Object.keys(e.programSpec.objectTypes[o.type].properties).forEach((t=>{if(t){const n=e.programSpec.objectTypes[o.type].properties[t];!n||n&&"BLOCK"!==n.type||(n.isList?Object.values(i).forEach((e=>{var n;"OBJECT-INSTANCE"!==o.metaType&&"FUNCTION-CALL"!==o.metaType&&"FUNCTION-DECLARATION"!==o.metaType||!(null==(n=o.properties[t])?void 0:n.includes(e.id))||(0,r.remove)(o.properties[t],(t=>t===e.id))})):"OBJECT-INSTANCE"!==o.metaType&&"FUNCTION-DECLARATION"!==o.metaType&&"FUNCTION-CALL"!==o.metaType||!o.properties[t]||Object.values(i).includes(o.properties[t])&&(o.properties[t]=null,o.properties[t]=null))}}))}))}else i&&(n===v?"OBJECT-INSTANCE"===t.metaType?(delete(e=P(e,[t.id])).programData[t.id],e=F(e,t.id)):"FUNCTION-CALL"!==t.metaType&&"OBJECT-REFERENCE"!==t.metaType||(delete(e=P(e,[t.ref])).programData[t.ref],e=F(e,t.ref)):n&&"FUNCTION-DECLARATION"===(e=L(e,[t.ref],e.programData[n])).programData[n].metaType&&(0,r.remove)(e.programData[n].arguments,(e=>e===t.ref)));return delete e.programData[t.id],e=F(e,t.id)}function z(e,t,n,r){var o;if(!t||"COMMENT"===t.metaType)return e;if(t&&"FUNCTION-CALL"===t.metaType){let i=e.programData[t.ref];null==(o=null==i?void 0:i.arguments)||o.forEach((o=>{t.properties[o]&&e.programData[t.properties[o]]&&(e=U(e,e.programData[t.properties[o]],n,r))}))}else"OBJECT-INSTANCE"!==t.metaType&&"FUNCTION-DECLARATION"!==t.metaType||n===v||Object.keys(e.programSpec.objectTypes[t.type].properties).forEach((o=>{if(o){const i=e.programSpec.objectTypes[t.type].properties[o];i&&"BLOCK"!==i.type||(i&&i.isList?t.properties[o]&&t.properties[o].forEach((t=>{e=U(e=z(e,e.programData[t],n,r),e.programData[t],n,r)})):i&&t.properties[o]&&(e=U(e=z(e,e.programData[t.properties[o]],n,r),e.programData[t.properties[o]],n,r)))}}));return e}function W(e,t,n,r,o,i){var a,l,c,s,u,d;if("OBJECT-REFERENCE"!==e.metaType&&"FUNCTION-CALL"!==e.metaType&&"ARGUMENT"!==e.metaType||!(null==(l=null==(a=t[e.type])?void 0:a.namePolicy)?void 0:l[n])){if(("OBJECT-INSTANCE"===e.metaType||"FUNCTION-DECLARATION"===e.metaType)&&(null==(s=null==(c=t[e.type])?void 0:c.parsers)?void 0:s[n])&&(null==(d=null==(u=t[e.type])?void 0:u.namePolicy)?void 0:d[n])){const a=t[e.type].namePolicy;let l="";a&&(l=a[n](e));const c=t[e.type].parsers;return c?c[n]({block:e,name:l,depth:r,context:o,storeParser:i}):""}return console.warn(`Block "${e.id}" of type "${e.type}" does not have a valid parser or name policy for language "${n}". Ignoring.`),""}{const r=t[e.type].namePolicy;return r?r[n](e):""}}function $(e,t,n){let o={};const i=e[n];if("CONNECTION"===i.metaType)return[o,""];const a=t[i.type],l=B(i.type);let c=y(b({},i),{id:l});return"OBJECT-REFERENCE"!==i.metaType&&"ARGUMENT"!==i.metaType&&"COMMENT"!==i.metaType&&(c.properties=(0,r.mapValues)(i.properties,((n,r)=>{const i=a.properties[r];if("BLOCK"===i.type&&i.isList){let r=[];return n.forEach((n=>{const[i,a]=$(e,t,n);o=b(b({},i),o),r.push(a)})),r}if("BLOCK"===i.type){if(n){const[r,i]=$(e,t,n);return o=b(b({},r),o),i}return null}return n}))),"FUNCTION-DECLARATION"===i.metaType&&(c.arguments=i.arguments.map((n=>{const[r,i]=$(e,t,n);return o=b(b({},r),o),i}))),o=y(b({},o),{[l]:c}),[o,l]}var M=class e{constructor(e,t,n){this._previousTime=0,this._currentTime=0,this._delta=0,this._elapsed=0,this._timescale=n||1,this._useFixedDelta=e||!1,this._fixedDelta=t||16.67}disableFixedDelta(){return this._useFixedDelta=!1,this}enableFixedDelta(){return this._useFixedDelta=!0,this}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getFixedDelta(){return this._fixedDelta/1e3}getTimescale(){return this._timescale}reset(){return this._currentTime=this._now(),this}setFixedDelta(e){return this._fixedDelta=1e3*e,this}setTimescale(e){return this._timescale=e,this}update(){return this._useFixedDelta?this._delta=this._fixedDelta:(this._previousTime=this._currentTime,this._currentTime=this._now(),this._delta=this._currentTime-this._previousTime),this._delta*=this._timescale,this._elapsed+=this._delta,this}_now(){return("undefined"==typeof performance?Date:performance).now()}toJSON(){return{timescale:this._timescale}}fromJson({timescale:t=1}){return new e(void 0,void 0,t)}},V=()=>Math.floor(256*Math.random()),X={drawers:[],objectTypes:{}},Y=B("tab"),J=(0,l.eh)(((e,t)=>({onVPEClick:e=>console.log("Clicked Entry:",e),onOffVPEClick:()=>console.log("Missed VPE Click:"),activeDrawer:null,connectionInfo:null,setConnectionInfo:t=>{e({connectionInfo:t})},setActiveDrawer:t=>{e({activeDrawer:t})},programSpec:X,programData:{},executionData:{},featuredDocs:{},activeDoc:null,setActiveDoc:(t,n)=>{e({activeDoc:n?t:null})},tabs:[{title:"Main",id:Y,visible:!0,blocks:[]}],setTabs:t=>{e({tabs:t})},activeTab:Y,parse:(e,n,r,o)=>{let i="";const a=t().programSpec.objectTypes,l=t().programData,c=t().parse,s=t().tabs;if(n){const t=l[n];i+=W(t,a,e,r||0,"FUNCTION-CALL"===t.metaType||"OBJECT-REFERENCE"===t.metaType?y(b({},o),{[t.ref]:l[t.ref]}):o||{},c)}else s.forEach((t=>{t.blocks.map((e=>l[e])).forEach((t=>{i+=W(t,a,e,r||0,"FUNCTION-CALL"===t.metaType||"OBJECT-REFERENCE"===t.metaType?y(b({},o),{[t.ref]:l[t.ref]}):o||{},c)}))}));return i},transferBlock:(t,n,r)=>{e((0,c.jM)((e=>{!function(e,t,n,r){console.log("applyTransfer",t,n,r);let o=!1,i=t.id;e.programData[t.id]||(i=B(t.type),e.programData[i]=y(b({},t),{id:i}),o=!0);const a="BLOCK"===n.fieldInfo.type&&n.fieldInfo.isList,l="BLOCK"===r.fieldInfo.type&&r.fieldInfo.isList;l&&a&&n.parentId===r.parentId?e.programData[r.parentId].properties[r.fieldInfo.id]=function(e,t,n){const r=e[t],o=e.length,i=t-n;if(i>0)return[...e.slice(0,n),r,...e.slice(n,t),...e.slice(t+1,o)];if(i<0){const i=n;return[...e.slice(0,t),...e.slice(t+1,i),r,...e.slice(i,o)]}return e}(e.programData[r.parentId].properties[r.fieldInfo.id],n.idx||0,r.idx||0):(l?e.programData[r.parentId].properties[r.fieldInfo.id].splice(r.idx,0,i):(console.log("Placing value...?"),e.programData[r.parentId].properties[r.fieldInfo.id]=i),(o||n.parentId!==r.parentId||n.fieldInfo!==r.fieldInfo)&&(!o&&a?e.programData[n.parentId].properties[r.fieldInfo.id].splice(n.idx,1):o||a||n.parentId===v||(console.log("removing from previous by setting to null"),e.programData[n.parentId].properties[n.fieldInfo.id]=null))),console.log(e.programData)}(e,t,n,r)})))},moveBlocks:t=>{e((0,c.jM)((e=>{t.forEach((t=>{if("position"===t.type&&e.programData[t.id]&&t.position){let n=e.programData[t.id];n.position=t.position,e.programData[t.id]=n}}))})))},deleteBlock:(t,n,o)=>{e((0,c.jM)((e=>{if(console.warn("deleteBlock",t.id,t,n,o),e.tabs=e.tabs.map((e=>y(b({},e),{blocks:e.blocks.filter((e=>e!==t.id))}))),e=U(e=z(e,t,n,o),t,n,o),n!==v&&n!==x)if(n&&"BLOCK"===o.type&&!o.isList){let t=e.programData[n];t.properties[o.id]=null,e.programData[n]=t}else if(n&&"BLOCK"===o.type&&o.isList){let i=e.programData[n];(0,r.remove)(i.properties[o.id],(e=>e===t.id))}})))},createPlacedBlock:(t,n,r)=>{e((0,c.jM)((e=>{let o=t.id,i=e.programData[o]||y(b({},t),{id:B(t.type)});o=i.id,i.position={x:n,y:r},e.programData[o]=i,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,o]}):t))})))},addInstance:t=>{e((0,c.jM)((e=>{const n=B(t),r=y(b({},R(t,e.programSpec.objectTypes[t],!1)),{id:n});e.programData[n]=r})))},addArgument:(t,n)=>{e((0,c.jM)((e=>{const r=B(n),o=y(b({},R(n,e.programSpec.objectTypes[n],!0)),{id:r});e.programData[r]=o;let i=e.programData[t];i.arguments.push(r),e.programData[t]=i})))},updateItemName:(t,n)=>{e((0,c.jM)((e=>{const r=e.programData[t],o="FUNCTION-CALL"===r.metaType||"OBJECT-REFERENCE"===r.metaType?r.ref:t;"CONNECTION"!==r.metaType&&(e.programData[o].name=n)})))},updateItemSelected:(t,n)=>{e((0,c.jM)((e=>{const r=e.programData[t];if(!r)return;const o="FUNCTION-CALL"===r.metaType||"OBJECT-REFERENCE"===r.metaType?r.ref:t;let i=e.programData[o];i&&(i.selected=n,e.programData[o]=i)})))},setSelections:t=>{e((0,c.jM)((e=>{e.programData=(0,r.mapValues)(e.programData,(e=>"CONNECTION"===e.metaType?e:y(b({},e),{selected:t.includes(e.id)})))})))},updateItemEditing:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r&&(r.editing=n,e.programData[t]=r)})))},updateItemSimpleProperty:(t,n,r)=>{e((0,c.jM)((e=>{e.programData[t].properties[n]=r})))},updateEdgeValue:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r.value=n,e.programData[t]=r})))},updateCommentText:(t,n)=>{e((0,c.jM)((e=>{let r=e.programData[t];r.text=n,e.programData[t]=r})))},deleteEdge:t=>{e((0,c.jM)((e=>{delete e.programData[t]})))},createEdge:(t,n,r,o)=>{e((0,c.jM)((e=>{const i=Object.values(e.programData).filter((e=>"CONNECTION"===e.metaType)).length,a={id:B("edge"),value:`Connection ${i+1}`,metaType:"CONNECTION",parent:{id:t,handle:n},child:{id:r,handle:o},type:"STRING"};e.programData[a.id]=a})))},validateEdge:(e,n,r,o)=>{var i,a,l,c,s,u,d,p;if(e===r)return!1;const f=Object.values(t().programData).filter((e=>"CONNECTION"===e.metaType)),h=t().programData[e],g=t().programSpec.objectTypes[h.type];let m;if("FUNCTION"===g.primitiveType&&"FUNCTION-DECLARATION"===h.metaType&&(null==(i=g.functionBlock.connections)?void 0:i[n]))m=g.functionBlock.connections[n];else if("FUNCTION"===g.primitiveType&&"FUNCTION-CALL"===h.metaType&&(null==(a=g.callBlock.connections)?void 0:a[n]))m=g.callBlock.connections[n];else if("OBJECT"===g.primitiveType&&"OBJECT-REFERENCE"===h.metaType&&(null==(l=g.referenceBlock.connections)?void 0:l[n]))m=g.referenceBlock.connections[n];else{if("OBJECT"!==g.primitiveType||"OBJECT-INSTANCE"!==h.metaType||!(null==(c=g.instanceBlock.connections)?void 0:c[n]))return!1;m=g.instanceBlock.connections[n]}const b=t().programData[r],y=t().programSpec.objectTypes[b.type];let v;if("FUNCTION"===y.primitiveType&&"FUNCTION-DECLARATION"===b.metaType&&(null==(s=y.functionBlock.connections)?void 0:s[o]))v=y.functionBlock.connections[o];else if("FUNCTION"===y.primitiveType&&"FUNCTION-CALL"===b.metaType&&(null==(u=y.callBlock.connections)?void 0:u[o]))v=y.callBlock.connections[o];else if("OBJECT"===y.primitiveType&&"OBJECT-REFERENCE"===b.metaType&&(null==(d=y.referenceBlock.connections)?void 0:d[o]))v=y.referenceBlock.connections[o];else{if("OBJECT"!==y.primitiveType||"OBJECT-INSTANCE"!==b.metaType||!(null==(p=y.instanceBlock.connections)?void 0:p[o]))return!1;v=y.instanceBlock.connections[o]}return m.direction!==v.direction&&(!!m.allowed.includes(b.type)&&(!!v.allowed.includes(h.type)&&!f.some((t=>t.parent.id===e&&t.child.id===r))))},toggleEdgeMode:t=>{e((0,c.jM)((e=>{if("STRING"===e.programData[t].type)e.programData[t].type="NUMBER",e.programData[t].value=0;else{const n=Object.values(e.programData).filter((e=>"CONNECTION"===e.metaType)).length;e.programData[t].type="STRING",e.programData[t].value=`Connection ${n+1}`}})))},updateItemBlockColors:t=>{e((0,c.jM)((e=>{const n=`rgb(${V()},${V()},${V()})`,r=e.programSpec.objectTypes[t.type];"FUNCTION"===r.primitiveType?(r.callBlock.color=n,r.functionBlock.color=n):(r.instanceBlock.color=n,r.referenceBlock.color=n),e.programSpec.objectTypes[t.type]=r})))},clock:new M(void 0,void 0,void 0),pause:()=>{t().clock.setTimescale(0)},play:e=>{t().clock.setTimescale(e||1)},reset:e=>{t().clock._elapsed=e?1e3*e:0},setActiveTab:t=>e({activeTab:t.id}),removeTab:t=>{e((0,c.jM)((e=>{let n=[],r=null,o=!1;e.tabs.forEach((i=>{var a;i.id===t?(o=!0,null==(a=i.blocks)||a.forEach((t=>{e=U(e=z(e,e.programData[t]),e.programData[t])}))):(n.push(i),o||(r=i.id))})),t===e.activeTab&&(e.activeTab=r),e.tabs=n})))},addTab:()=>{e((0,c.jM)((e=>{const t=B("tab");return{tabs:[...e.tabs,{title:"New Tab",id:t,visible:!0,blocks:[]}],activeTab:t}})))},renameTab:(t,n)=>{e((0,c.jM)((e=>({tabs:e.tabs.map((e=>e.id===t?y(b({},e),{title:n}):e))}))))},setTabViewport:(t,n)=>{e((0,c.jM)((e=>({tabs:e.tabs.map((e=>e.id===t?y(b({},e),{viewport:n}):e))}))))},getTabViewport:e=>{var n;return null==(n=t().tabs.filter((t=>t.id===e))[0])?void 0:n.viewport},setTabVisibility:(t,n)=>{e((0,c.jM)((e=>{if(n)e.tabs=e.tabs.map((e=>e.id===t?y(b({},e),{visible:n}):e)),e.activeTab=t;else{let n=[],r=null,o=!1;e.tabs.forEach((e=>{e.id===t?(o=!0,n.push(y(b({},e),{visible:!1}))):(n.push(e),o||(r=e.id))})),t===e.activeTab&&(e.activeTab=r),e.tabs=n}})))},clipboard:{},copy:t=>{e((0,c.jM)((e=>{console.log("handling copy..."),e.clipboard.block=t.data,e.clipboard.regionInfo=t.regionInfo,e.clipboard.context=t.context,e.clipboard.action="COPY"})))},cut:t=>{e((0,c.jM)((e=>{var n,r,o,i;if(console.log("handling cut..."),!t.data)return;console.log("something to cut");const a=e.programData[t.data.id];null!==a&&a.id&&"CUT"===e.clipboard.action&&(e.tabs=e.tabs.map((e=>y(b({},e),{blocks:e.blocks.filter((e=>e!==a.id))}))),e=U(e=z(e,a,(null==(n=e.clipboard.regionInfo)?void 0:n.parentId)||void 0,(null==(r=e.clipboard.regionInfo)?void 0:r.fieldInfo)||void 0),a,(null==(o=e.clipboard.regionInfo)?void 0:o.parentId)||void 0,(null==(i=e.clipboard.regionInfo)?void 0:i.fieldInfo)||void 0)),e.clipboard.block=t.data,e.clipboard.regionInfo=t.regionInfo,e.clipboard.context=t.context,e.clipboard.action="CUT"})))},paste:t=>{e((0,c.jM)((e=>{var n,r,o,i,a;if(!(null==(n=e.clipboard.block)?void 0:n.id)||!e.clipboard.action)return void alert("nothing to paste");console.log("handling paste...",e.clipboard);const l=e.clipboard.block;if(console.log("handling paste...",l),"COPY"===e.clipboard.action||"PASTE"===e.clipboard.action){console.log("Pasting the last that was copied or pasted");const[n,i]=$(e.programData,e.programSpec.objectTypes,l.id);if((null==(r=t.regionInfo)?void 0:r.parentId)===x)console.log("New block is on the canvas"),n[i].position=t.coordinates,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,i]}):t));else if(null==(o=t.regionInfo)?void 0:o.parentId){console.log("New block is not on the canvas");let n=e.programData[t.regionInfo.parentId];"BLOCK"===t.regionInfo.fieldInfo.type&&t.regionInfo.fieldInfo.isList?n.properties[t.regionInfo.fieldInfo.id].splice(t.regionInfo.idx,0,i):n.properties[t.regionInfo.fieldInfo.id]=i}else alert("No parent block to paste into");e.programData=b(b({},e.programData),n)}else if("CUT"===e.clipboard.action&&e.clipboard.regionInfo&&t.regionInfo){if(e.clipboard.regionInfo.parentId===x)e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:t.blocks.filter((t=>{var n;return t!==(null==(n=e.clipboard.block)?void 0:n.id)}))}):t));else{let t=e.programData[e.clipboard.regionInfo.parentId];"FUNCTION-DECLARATION"!==t.metaType&&"OBJECT-INSTANCE"!==t.metaType&&"FUNCTION-CALL"!==t.metaType||("BLOCK"===e.clipboard.regionInfo.fieldInfo.type&&e.clipboard.regionInfo.fieldInfo.isList?t.properties[e.clipboard.regionInfo.fieldInfo.id].splice(e.clipboard.regionInfo.idx,1):"BLOCK"===e.clipboard.regionInfo.fieldInfo.type&&(t.properties[e.clipboard.regionInfo.fieldInfo.id]=null),e.programData[t.id]=t)}if(t.regionInfo.parentId===x)e.clipboard.block.position=t.coordinates,e.tabs=e.tabs.map((t=>t.id===e.activeTab?y(b({},t),{blocks:[...t.blocks,l.id]}):t));else{let n=e.programData[t.regionInfo.parentId];"FUNCTION-DECLARATION"!==n.metaType&&"OBJECT-INSTANCE"!==n.metaType&&"FUNCTION-CALL"!==n.metaType||("BLOCK"===t.regionInfo.fieldInfo.type&&t.regionInfo.fieldInfo.isList?n.properties[t.regionInfo.fieldInfo.id].splice(t.regionInfo.idx,0,null==(i=e.clipboard.block)?void 0:i.id):"BLOCK"===t.regionInfo.fieldInfo.type&&(n.properties[t.regionInfo.fieldInfo.id]=null==(a=e.clipboard.block)?void 0:a.id),e.programData[n.id]=n)}}e.clipboard.action="PASTE"})))},setClipboardBlock:t=>{e((0,c.jM)((e=>{e.clipboard.block=t,e.clipboard.action="SELECT",e.clipboard.regionInfo=void 0})))}}))),H=e=>(0,a.vt)()((0,l.eh)(((t,n,r)=>b(b({},J(t,n,r)),e)))),G=(H({}),(0,i.createContext)(null));function K(e){const t=(0,i.useContext)(G);if(!t)throw new Error("Missing ProgrammingProvider in the tree");return(0,a.Pj)(t,e)}function q({store:e,initial:t,children:n}){return(0,s.jsx)(G.Provider,{value:e||H(t||{}),children:(0,s.jsx)(Z,{initial:t,children:n})})}function Z({initial:e,children:t}){const n=(0,i.useContext)(G);return(0,i.useEffect)((()=>{null==n||n.setState(e||{})}),[e,n]),(0,s.jsx)(s.Fragment,{children:t})}},29437:(e,t,n)=>{n.d(t,{O:()=>ko,H:()=>Co});var r=n(14041),o=n(19934),i=n(37590),a=n(99873),l=n(24480),c=n(80012),s=n(60824),u=n(67670),d=n(46343),p=n(59193),f=n(65330),h=n(76670),g=n(32602),m=n(31085),b=n(45250),y=n(49723),v=n(70524),x=n(72532),k=n(15428),j=n(40178),C=n(33359),T=n(22855),w=n(92323),_=n(56260),A=n(66272),I=n(45982),D=n(78761),R=n(18205),O=n(67549),E=n(23157),N=n(76665),S=n(22990),B=n(93921),F=n(51956),L=n(83486),P=Object.defineProperty,U=Object.defineProperties,z=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,$=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable,V=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,X=(e,t)=>{for(var n in t||(t={}))$.call(t,n)&&V(e,n,t[n]);if(W)for(var n of W(t))M.call(t,n)&&V(e,n,t[n]);return e},Y=(e,t)=>U(e,z(t)),J=(e,t)=>{var n={};for(var r in e)$.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&W)for(var r of W(e))t.indexOf(r)<0&&M.call(e,r)&&(n[r]=e[r]);return n},H=h.A.button({all:"unset",display:"flex",flexDirection:"column",paddingLeft:"0px",paddingTop:"2px",paddingRight:"0px",paddingBottom:"2px",margin:"0px",alignItems:"center",justifyContent:"center",borderRadius:"4px",lineHeight:1,height:"10px",background:"#22222299","&:focus":{background:"#222222",color:"#bbb"},"&:hover":{background:"#222222",color:"#bbb"}},(({disabled:e})=>({opacity:e?.5:1}))),G=({onClickUp:e=(e=>{}),onClickDown:t=(e=>{}),disabled:n=!1,above:r=!1,below:o=!1,style:i={}})=>(0,m.jsxs)("div",{style:X({marginLeft:3,display:"inline-flex",flexDirection:"column",borderRadius:3,justifyContent:"center",alignItems:"center"},i),role:"button",children:[(0,m.jsx)(H,{disabled:n||r,onClick:e,style:{borderBottomLeftRadius:0,borderBottomRightRadius:0},children:(0,m.jsx)(g.Mtm,{})}),(0,m.jsx)(H,{disabled:n||o,onClick:t,style:{borderTopLeftRadius:0,borderTopRightRadius:0},children:(0,m.jsx)(g.D3D,{})})]}),K=["0","1","2","3","4","5","6","7","8","9",".","-"],q="BELOW",Z="LOWER",Q="WITHIN",ee="UPPER",te="ABOVE",ne="INVALID",re=[Z,Q,ee],oe=(0,p.Ay)("label",{shouldForwardProp:e=>!["wrapped","focused"].includes(e)})({height:35,fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",display:"flex",flexDirecion:"column",flex:1,alignItems:"center"},(({theme:e,wrapped:t,disabled:n,focused:r})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.1:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.1:.75),borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary,boxShadow:r?`0 0 0 1px ${e.palette.primary.main}`:void 0,cursor:n?"not-allowed":"arrow","&:hover":r?{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`}:null,"&:focus-visible":{userSelect:"none",outline:0}}))),ie=(0,p.Ay)("span")({fontSize:"0.857rem",lineHeight:1.5,paddingRight:5,paddingLeft:5,height:35,alignItems:"center",display:"flex",whiteSpace:"nowrap"},(({theme:e,wrapped:t,side:n})=>({background:(0,c.X4)(e.palette.background.paper,"left"===n?.2:.1),borderTopRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderTopLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary}))),ae=(0,p.Ay)("input")({all:"unset",width:"100%",fontSize:"0.857rem",lineHeight:1.5,padding:12},(({theme:e,disabled:t})=>({color:t?e.palette.text.secondary:e.palette.text.primary,cursor:t?"not-allowed":"arrow",caretColor:e.palette.primary.main,"::selection":{color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main},"&:hover":{color:t?e.palette.text.secondary:e.palette.text.primary},"&:focus":{color:t?e.palette.text.secondary:e.palette.text.primary},"&:focus-visible":{userSelect:"none",outline:0}}))),le=e=>{var t=e,{disabled:n,value:o,defaultValue:i,readonly:a,hideLabelPrefix:l=!1,label:c,wrapped:s,extra:u,suffix:d,style:p={},disableDrag:f=!1,onBlur:h,onFocus:g}=t,b=J(t,["disabled","value","defaultValue","readonly","hideLabelPrefix","label","wrapped","extra","suffix","style","disableDrag","onBlur","onFocus"]);const[y,v]=(0,r.useState)(!1),x=l||void 0===c||""===c;return(0,m.jsxs)(oe,{className:f?"nodrag":void 0,onDoubleClick:b.onDoubleClick,disabled:n,focused:y,wrapped:s,style:p,children:[!x&&(0,m.jsx)(ie,{side:"left",wrapped:s,children:c}),(0,m.jsx)(ae,{readOnly:a,value:o,defaultValue:i,disabled:n,onFocus:e=>{v(!0),g&&g(e)},onBlur:e=>{v(!1),h&&h(e)},onChange:b.onChange}),d&&(0,m.jsx)(ie,{side:u?void 0:"right",wrapped:s,children:d}),u&&(0,m.jsx)(ie,{side:"right",wrapped:s,children:u})]})},ce=(0,r.memo)((e=>{var t=e,{disabled:n,readonly:o,label:i,onChange:a=(e=>{}),onDoubleClick:l,onBlur:c,onFocus:u,step:d,value:p=0,suffix:f="",min:h=Number.NEGATIVE_INFINITY,max:g=Number.POSITIVE_INFINITY,style:v={}}=t,x=J(t,["disabled","readonly","label","onChange","onDoubleClick","onBlur","onFocus","step","value","suffix","min","max","style"]);const{textValue:k,status:j,onChange:C,onStepUp:T,onStepDown:w}=(({initial:e=0,stepSize:t=1,min:n=Number.NEGATIVE_INFINITY,max:o=Number.POSITIVE_INFINITY,onValidChange:i=(e=>{})})=>{const a=e=>e<o&&e>n?Q:e>o?te:e===o?ee:e===n?Z:e<n?q:ne,l=e=>{if("number"==typeof e)return{numeric:e,status:a(e),textValue:e.toString()};if("string"==typeof e){const t=Number(e);if("-"===e)return{numeric:0,status:a(0),textValue:e};if((0,b.isNumber)(t)&&!(0,b.isNaN)(t))return{numeric:t,status:a(t),textValue:e}}return console.warn("failed with ",e,typeof e),{numeric:0,status:ne,textValue:e}},[c,s]=(0,r.useState)(l(e));return{textValue:c.textValue,status:c.status,onChange:e=>{var t,r;if((null==(t=null==e?void 0:e.nativeEvent)?void 0:t.data)&&!K.includes(e.nativeEvent.data))return void s((e=>({numeric:e.numeric,status:e.status,textValue:e.textValue})));if("-"===(null==(r=e.target)?void 0:r.value))return console.log("dash input"),void s({numeric:0,status:a(0),textValue:e.target.value});if(""===e.target.value)return console.log("empty input"),void s({numeric:0,status:a(0),textValue:e.target.value});const c=l(e.target.value);if(c)return re.includes(c.status)?(s(c),void i(c.numeric)):c.status===q?(s(c),void i(n)):c.status===te?(s(c),void i(o)):void console.log("not handled",e.target.value);s((t=>({numeric:t.numeric,status:ne,textValue:e.target.value})))},onStepUp:()=>{const e=l((0,y.bB)(c.numeric+t));s(e),re.includes(e.status)&&i(e.numeric)},onStepDown:()=>{const e=l((0,y.bB)(c.numeric-t));s(e),re.includes(e.status)&&i(e.numeric)}}})({initial:p,stepSize:d,min:h,max:g,onValidChange:a});return(0,m.jsx)(le,{disabled:n,readonly:o,value:k,label:i,suffix:f,onChange:C,onDoubleClick:l,onBlur:c,onFocus:u,extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,alignItems:"center",children:[(0,m.jsx)(G,{disabled:n,above:p>=g,below:p<=h,onClickDown:w,onClickUp:T}),x.extra]}),style:v})})),se=({disabled:e=!1,label:t="Vector",onChange:n=(e=>{}),value:r=[0,0,0],min:o=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],max:i=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],step:a=.1,onBlur:l=(e=>{}),onFocus:c=(e=>{})})=>(0,m.jsxs)("div",{children:[(0,m.jsx)(ce,{label:"X",value:r[0],step:a,min:o[0],max:i[0],onChange:e=>{if(e){let t=[...r];return t[0]=e,t}},style:{marginBottom:2}}),(0,m.jsx)(ce,{label:"Y",value:r[1],min:o[1],max:i[1],onChange:e=>{if(e){let t=[...r];return t[1]=e,t}},style:{marginBottom:2}}),(0,m.jsx)(ce,{label:"Z",value:r[2],min:o[2],max:i[2],onChange:e=>{if(e){let t=[...r];return t[2]=e,t}}})]}),ue=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),de=(0,k.i7)({from:{transform:"translateY(-4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),pe=(0,k.i7)({from:{transform:"translateX(-4px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),fe=(0,k.i7)({from:{transform:"translateX(4px)",opacity:0},to:{transform:"translateX(0)",opacity:1}}),he=(0,p.Ay)(x.UC,{shouldForwardProp:e=>!["bgOverride"].includes(e)})({padding:"5px 10px",fontSize:12,lineHeight:"1.5",userSelect:"none",willChange:"transform, opacity",boxShadow:"#00000050 0px 10px 38px -10px, #00000050 0px 10px 20px -15px",zIndex:1e3},(({theme:e,bgOverride:t})=>({"&[data-state='delayed-open'][data-side='top']":{animation:`${ue} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='right']":{animation:`${pe} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='bottom']":{animation:`${de} 500ms ${e.transitions.easing.easeInOut}`},"&[data-state='delayed-open'][data-side='left']":{animation:`${fe} 500ms ${e.transitions.easing.easeInOut}`},borderRadius:e.shape.borderRadius,backgroundColor:t||("light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.3),.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.3),.75)),backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)"}))),ge=(0,p.Ay)(x.i3,{shouldForwardProp:e=>!["bgOverride"].includes(e)})({},(({theme:e,bgOverride:t})=>({fill:t||("light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.3),.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.3),.75))}))),me=({title:e,children:t,placement:n,parent:r,bgOverride:o})=>(0,m.jsx)(x.Kq,{children:(0,m.jsxs)(x.bL,{children:[(0,m.jsx)(x.l9,{asChild:!0,children:t}),(0,m.jsx)(x.ZL,{container:r,children:(0,m.jsxs)(he,{sideOffset:5,side:n,bgOverride:o,children:[e,(0,m.jsx)(ge,{bgOverride:o})]})})]})}),be=(0,r.createContext)({});var ye=j.A,ve=({name:e,size:t=16,style:n={}})=>{const o=(0,r.useContext)(be)||{};if(o[e]){const n=o[e];return(0,m.jsx)(n,{width:t,height:t})}const i=C[e];return i?(0,m.jsx)(i,{width:t,height:t,style:n}):(console.warn("Icon not found, used ",e),(0,m.jsx)(ye,{width:t,height:t,color:"error"}))},xe={small:20,medium:32,large:48},ke={small:"0.9rem",medium:"1.4rem",large:"2rem"},je=(0,p.Ay)(v.A,{shouldForwardProp:e=>!["canToggle","toggled"].includes(e)})((({theme:e,toggled:t,size:n="medium",canToggle:r,color:o="primary"})=>({backgroundColor:r&&t?(0,c.X4)(e.palette[o].main,.6):r&&!t?"transparent":"rgba(100,100,100,0.5)",color:r&&t?(0,c.X4)(e.palette.getContrastText(e.palette[o].main),.8):e.palette.text.primary,fontSize:n?ke[n]:"1.4rem","&.Mui-disabled":{backgroundColor:"rgba(0,0,0,0.25)",color:"#ccc"},borderRadius:.66*e.shape.borderRadius,height:n?xe[n]:24,minWidth:n?xe[n]:24,"&:hover":{backgroundColor:r&&t?(0,c.X4)(e.palette[o].main,.8):r&&!t?(0,c.X4)(e.palette[o].main,.25):"rgba(0,0,0,0.7)",color:r&&t?(0,c.X4)(e.palette.getContrastText(e.palette[o].main),.8):e.palette[o].main},"&:focus-visible":{userSelect:"none",outline:0}}))),Ce=(0,p.Ay)("span")((({})=>({display:"flex"}))),Te=e=>{var t=e,{title:n="Button",onClick:r=(()=>{}),disabled:o=!1,placement:i="top",toggled:a=!1,canToggle:l=!1,icon:c="Circle",color:s="primary",size:u="medium"}=t,d=J(t,["title","onClick","disabled","placement","toggled","canToggle","icon","color","size"]);return(0,m.jsx)(me,{title:n,placement:i,children:(0,m.jsx)(Ce,{className:"no-outline",children:(0,m.jsx)(je,Y(X({className:"no-outline",disabled:o,"aria-label":n,onClick:r,toggled:a,canToggle:l,size:u,color:s},d),{children:(0,m.jsx)(ve,{name:c,size:"large"===u?36:"medium"===u?22:16})}))})})},we={small:24,medium:32,large:48},_e={small:"1rem",medium:"1.4rem",large:"2rem"},Ae=(0,p.Ay)(T.A,{shouldForwardProp:e=>!["canToggle","toggled"].includes(e)})((({theme:e,toggled:t,size:n="medium",canToggle:r,color:o="primary"})=>({backgroundColor:r&&t?(0,c.X4)(e.palette[o].main,.4):r&&!t?"transparent":"rgba(100,100,100,0.5)",color:e.palette.text.primary,fontSize:n?_e[n]:"1.4rem","&.Mui-disabled":{backgroundColor:"rgba(0,0,0,0.25)",color:"#ccc"},flex:1,borderRadius:.66*e.shape.borderRadius,height:n?we[n]:24,minWidth:n?we[n]:24,textTransform:"none","&:hover":{backgroundColor:r&&t?(0,c.X4)(e.palette[o].main,.5):r&&!t?(0,c.X4)(e.palette[o].main,.25):"rgba(0,0,0,0.7)",color:e.palette[o].main},"&:focus-visible":{userSelect:"none",outline:0}}))),Ie=(0,p.Ay)("span")((({})=>({display:"flex",flex:1}))),De=e=>{var t=e,{title:n="Button",startIcon:r,endIcon:o,onClick:i=(()=>{}),disabled:a=!1,placement:l="top",toggled:c=!1,canToggle:s=!1,children:u=null,size:d="medium",color:p="primary"}=t,f=J(t,["title","startIcon","endIcon","onClick","disabled","placement","toggled","canToggle","children","size","color"]);const h="string"==typeof r?r:"function"==typeof r?r():void 0,g="string"==typeof o?o:"function"==typeof o?o():void 0;return(0,m.jsx)(me,{title:n,placement:l,children:(0,m.jsx)(Ie,{className:"no-outline",children:(0,m.jsx)(Ae,Y(X({className:"no-outline",startIcon:h&&(0,m.jsx)(ve,{name:h,size:"large"===d?36:"medium"===d?22:16}),endIcon:g&&(0,m.jsx)(ve,{name:g,size:"large"===d?36:"medium"===d?22:16}),disabled:a,"aria-label":n,onClick:i,toggled:c,canToggle:s,size:d,color:p},f),{children:u}))})})},Re=(0,p.Ay)("label",{shouldForwardProp:e=>!["wrapped","focused"].includes(e)})({fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",display:"flex",flex:1,alignItems:"center",minHeight:35},(({theme:e,wrapped:t,disabled:n,focused:r})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.1:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.1:.75),border:"none",borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:"light"===e.palette.mode?(0,c.X4)("#eee",n?.5:1):(0,c.X4)("#111",n?.5:1),boxShadow:r?`0 0 0 1px ${e.palette.primary.main}`:void 0,cursor:n?"not-allowed":"arrow","&:hover":r?{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`}:null,"&:focus-visible":{userSelect:"none",outline:0}}))),Oe=(0,p.Ay)("span")({fontSize:"0.857rem",lineHeight:1.5,paddingRight:5,paddingLeft:5,alignItems:"center",display:"flex",whiteSpace:"nowrap",minHeight:35,height:"100%"},(({theme:e,wrapped:t,side:n})=>({background:(0,c.X4)(e.palette.background.paper,"left"===n?.2:.1),borderTopRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomRightRadius:"right"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderTopLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,borderBottomLeftRadius:"left"!==n?0:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:e.palette.text.primary}))),Ee=(0,p.Ay)(w.A)({all:"unset",flex:1,padding:5,minHeight:35},(({theme:e})=>({caretColor:e.palette.primary.main,"::selection":{color:e.palette.getContrastText(e.palette.primary.main),backgroundColor:e.palette.primary.main},color:e.palette.text.primary,textHighlight:e.palette.primary.main}))),Ne=(0,p.Ay)(s.A)({flex:1}),Se=e=>{var t=e,{disabled:n,defaultValue:o,readonly:i,hideLabelPrefix:a=!1,label:l,wrapped:c,extra:s,suffix:u,style:d={},disableDrag:p=!1,onBlur:f,onFocus:h,minRows:g=3}=t,b=J(t,["disabled","defaultValue","readonly","hideLabelPrefix","label","wrapped","extra","suffix","style","disableDrag","onBlur","onFocus","minRows"]);const[y,v]=(0,r.useState)(!1),x=a||void 0===l||""===l;return(0,m.jsx)(Ne,{direction:"row",children:(0,m.jsxs)(Re,{className:p?"nodrag":void 0,onDoubleClick:b.onDoubleClick,disabled:n,focused:y,wrapped:c,style:d,children:[!x&&(0,m.jsx)(Oe,{side:"left",wrapped:c,children:l}),(0,m.jsx)(Ee,{cacheMeasurements:!0,minRows:g,readOnly:i,defaultValue:o,disabled:n,onFocus:e=>{v(!0),h&&h(e)},onBlur:e=>{v(!1),f&&f(e)},value:b.value,onChange:b.onChange}),u&&(0,m.jsx)(Oe,{side:s?void 0:"right",wrapped:c,children:u}),s&&(0,m.jsx)(Oe,{side:"right",wrapped:c,children:s})]})})},Be=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),Fe={minWidth:"220px",padding:"5px",boxShadow:"0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)",backdropfilter:"blur(8pt)",WebkitBackdropFilter:"blur(8pt)",willChange:"transform, opacity",borderRadius:5},Le={fontSize:"0.8em",lineHeight:1,display:"flex",alignItems:"center",outline:"none","&[data-disabled]":{pointerEvents:"none"}},Pe=Y(X({},Le),{height:"25pt",padding:"0 5pt"}),Ue=({theme:e})=>({color:e.palette.primary.main,borderRadius:.66*e.shape.borderRadius,"&[data-highlighted]":{backgroundColor:e.palette.primary.main,color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}}),ze=({theme:e})=>Y(X({},Ue({theme:e})),{'&[data-state="open"]':{backgroundColor:(0,c.X4)(e.palette.primary.main,.7),color:e.palette.background.paper}}),We=(0,p.Ay)(_.l9)(Le,ze),$e=(0,p.Ay)(_.ZP)(Pe,ze),Me=(0,p.Ay)(_.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Be} 500ms cubic-bezier(0.16, 1, 0.3, 1)}`}))),Ve=(0,p.Ay)(_.G5)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Be} 500ms cubic-bezier(0.16, 1, 0.3, 1)}`}))),Xe=(0,p.Ay)(_.q7)(Pe,Ue),Ye=(0,p.Ay)(_.wv)({height:1,margin:5},(({theme:e})=>({backgroundColor:e.palette.primary.main}))),Je=(0,p.Ay)(_.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),He=(0,p.Ay)(_.i3)({},(({theme:e})=>({fill:(0,c.X4)(e.palette.background.paper,.8)}))),Ge=(0,p.Ay)("div")({marginLeft:"auto",paddingLeft:"20pt"},(({theme:e})=>({color:e.palette.primary.main,"[data-highlighted] > &":{color:e.palette.background.paper},'[data-state="open"] > &':{color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}}))),Ke=(0,p.Ay)("div")({paddingRight:"7pt"},(({theme:e})=>({color:e.palette.primary.main,"[data-highlighted] > &":{color:e.palette.background.paper},'[data-state="open"] > &':{color:e.palette.background.paper},"&[data-disabled]":{color:(0,c.X4)(e.palette.primary.main,.5)}})));function qe({data:e,inner:t}){return"DIVIDER"===t.type?(0,m.jsx)(Ye,{}):"HEADER"===t.type?(0,m.jsx)(Je,{children:"function"==typeof t.label?t.label(e):t.label?t.label:"Header"}):t.inner?(0,m.jsxs)(_.Pb,{children:[(0,m.jsxs)($e,{children:["function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right?t.right:"KeyboardArrowRightRounded"})})]}),(0,m.jsx)(_.ZL,{children:(0,m.jsx)(Ve,{sideOffset:2,alignOffset:-5,children:t.inner.map(((t,n)=>(0,m.jsx)(qe,{data:e,inner:t},n)))})})]}):(0,m.jsxs)(Xe,{disabled:t.disabled,onClick:n=>{"function"==typeof t.onClick&&(t.onClick(e,n),t.preventCloseOnClick&&n.preventDefault()),n.stopPropagation()},children:[t.left&&(0,m.jsx)(Ke,{children:(0,m.jsx)(ve,{name:"function"==typeof t.left?t.left(e):t.left})}),"function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",t.right&&(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right})})]})}function Ze(e){return(0,m.jsxs)(_.bL,{children:[(0,m.jsx)(We,{asChild:!0,children:(0,m.jsx)("span",{children:(0,m.jsx)(je,{size:e.size,style:{backgroundColor:"transparent"},children:(0,m.jsx)(ve,{name:"function"==typeof e.icon?e.icon(e.data):"string"==typeof e.icon?e.icon:e.inner?"MenuRounded":"MoreHorizRounded"})})})}),(0,m.jsx)(_.ZL,{children:(0,m.jsxs)(Me,{sideOffset:5,children:[e.inner.map(((t,n)=>(0,m.jsx)(qe,{data:e.data,inner:t},n))),(0,m.jsx)(He,{})]})})]})}var Qe=(0,k.i7)({from:{transform:"translateY(4px)",opacity:0},to:{transform:"translateY(0)",opacity:1}}),et=(0,p.Ay)(A.l9)({flex:1},(({theme:e})=>Y(X({},Ue({theme:e})),{'&[data-state="open"]':{color:e.palette.background.paper}}))),tt=(0,p.Ay)(A.ZP)(Pe,ze),nt=(0,p.Ay)(A.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Qe} 500ms cubic-bezier(0.16, 1, 0.3, 1)`}))),rt=(0,p.Ay)(A.G5)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.8),animation:`${Qe} 500ms cubic-bezier(0.16, 1, 0.3, 1)`}))),ot=(0,p.Ay)(A.q7)(Pe,Ue),it=(0,p.Ay)(A.wv)({height:1,margin:5},(({theme:e})=>({backgroundColor:e.palette.primary.main}))),at=(0,p.Ay)(A.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)})));function lt({data:e,inner:t}){return"DIVIDER"===t.type?(0,m.jsx)(it,{}):"HEADER"===t.type?(0,m.jsx)(at,{children:"function"==typeof t.label?t.label(e):t.label?t.label:"Header"}):t.inner?(0,m.jsxs)(A.Pb,{children:[(0,m.jsxs)(tt,{children:["function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right?t.right:"KeyboardArrowRightRounded"})})]}),(0,m.jsx)(A.ZL,{children:(0,m.jsx)(rt,{sideOffset:2,alignOffset:-5,children:t.inner.map(((t,n)=>(0,m.jsx)(lt,{data:e,inner:t},n)))})})]}):(0,m.jsxs)(ot,{disabled:t.disabled,onClick:n=>{"function"==typeof t.onClick&&(t.onClick(e,n),t.preventCloseOnClick&&n.preventDefault()),n.stopPropagation()},children:[t.left&&(0,m.jsx)(Ke,{children:(0,m.jsx)(ve,{name:"function"==typeof t.left?t.left(e):t.left})}),"function"==typeof t.label?t.label(e):t.label?t.label:"Menu Item",t.right&&(0,m.jsx)(Ge,{children:(0,m.jsx)(ve,{name:"function"==typeof t.right?t.right(e):t.right})})]})}function ct(e){return(0,m.jsxs)(A.bL,{children:[(0,m.jsx)(et,{children:e.children}),(0,m.jsx)(A.ZL,{children:(0,m.jsx)(nt,{children:e.inner.map(((t,n)=>(0,m.jsx)(lt,{data:e.data,inner:t},n)))})})]})}var st,ut,dt=(e=>(e[e.small=8]="small",e[e.sm=8]="sm",e[e.medium=12]="medium",e[e.md=12]="md",e[e.large=16]="large",e[e.lg=16]="lg",e))(dt||{}),pt=(0,h.A)(I.bL)({overflow:"hidden"},(e=>({height:e.height,width:e.width}))),ft=(0,h.A)(I.LM)({width:"100%",height:"100%",borderRadius:"inherit"}),ht=(0,h.A)(I.Ze)({display:"flex",userSelect:"none",touchAction:"none",padding:"2px",background:"#55555525",transition:"background 160ms ease","&:hover":{background:"#45454540"}}),gt=(0,h.A)(ht,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({},(({scrollbarSize:e})=>({width:dt[e]}))),mt=(0,h.A)(ht,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({flexDirection:"column"},(({scrollbarSize:e})=>({height:dt[e]}))),bt=(0,h.A)(I.zi,{shouldForwardProp:e=>!["scrollbarSize"].includes(e)})({flex:1,background:"#eeeeee66"},(({scrollbarSize:e})=>({borderRadius:dt[e]}))),yt=({children:e,horizontal:t=!1,vertical:n=!0,height:r="100%",width:o="100%",scrollbarSize:i="medium"})=>(0,m.jsxs)(pt,{height:r,width:o,onDrag:e=>e.stopPropagation(),children:[(0,m.jsx)(ft,{children:e}),t&&(0,m.jsx)(mt,{orientation:"horizontal",scrollbarSize:i,children:(0,m.jsx)(bt,{scrollbarSize:i})}),n&&(0,m.jsx)(gt,{orientation:"vertical",scrollbarSize:i,children:(0,m.jsx)(bt,{scrollbarSize:i})}),(0,m.jsx)(I.OK,{})]}),vt=(0,p.Ay)((e=>(0,m.jsx)(D.Ay,Y(X({},e),{orientation:"vertical"}))))({width:8,marginTop:7,marginBottom:7,'& input[type="range"]':{WebkitAppearance:"slider-vertical"},"& .MuiSlider-track":{border:"none",backgroundColor:"#dddddd"},"& .MuiSlider-rail":{backgroundColor:"#222"},"& .MuiSlider-thumb":{height:14,width:14,backgroundColor:"#90909050",WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)","&:focus, &:hover, &.Mui-active, &.Mui-focusVisible":{boxShadow:"inherit"},"&:before":{display:"none"},"&:hover, &.Mui-active":{height:20,width:20}},"& .MuiSlider-valueLabel":{lineHeight:1.2,fontSize:12,background:"unset",padding:0,width:32,height:32,borderRadius:"50% 50% 50% 0",backgroundColor:"#70707050",WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)",transformOrigin:"center right",transform:"translate(200%, -50%) rotate(45deg) scale(0)","&:before":{display:"none"},"&.MuiSlider-valueLabelOpen":{transform:"translate(200%, -50%) rotate(45deg) scale(1)"},"& > *":{transform:"rotate(-45deg)"}}}),xt=({options:e=[],label:t,value:n,onChange:r,wrapped:o=!1,disabled:i=!1})=>{var a;return(0,m.jsxs)(R.bL,{children:[(0,m.jsxs)(Rt,{"aria-label":t,wrapped:o,disabled:i,children:[t?(0,m.jsx)(ie,{side:"left",children:t}):(0,m.jsx)("span",{children:" "}),(0,m.jsx)(jt,{placeholder:(null==(a=e.filter((e=>e.value===n))[0])?void 0:a.label)||"Unset"}),(0,m.jsx)(At,{children:(0,m.jsx)(g.D3D,{})})]}),(0,m.jsx)(R.ZL,{children:(0,m.jsxs)(kt,{position:"popper",children:[(0,m.jsx)(Dt,{children:(0,m.jsx)(g.Mtm,{})}),(0,m.jsx)(Tt,{children:(0,m.jsxs)(R.YJ,{children:[t&&(0,m.jsx)(_t,{children:t}),e.map((e=>(0,m.jsxs)(wt,{value:e.value,onClick:()=>{r(e.value)},disabled:i,children:[(0,m.jsx)(R.p4,{children:e.label}),(0,m.jsx)(Ct,{children:(0,m.jsx)(g.Srz,{})})]},e.value)))]})}),(0,m.jsx)(It,{children:(0,m.jsx)(g.D3D,{})})]})})]})},kt=(0,p.Ay)(R.UC)(Fe,(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:(0,c.X4)(e.palette.background.paper,.7)}))),jt=(0,p.Ay)(R.WT)({flex:1}),Ct=(0,p.Ay)(R.VF)({position:"absolute",left:0,width:25,display:"inline-flex",alignItems:"center",justifyContent:"center",padding:12}),Tt=(0,p.Ay)(R.LM)({padding:5}),wt=(0,p.Ay)(R.q7)(Y(X({},Pe),{display:"flex",alignItems:"center",height:25,padding:"0 35px 0 25px",position:"relative",userSelect:"none"}),Ue),_t=(0,p.Ay)(R.JU)({paddingLeft:25,fontSize:12,lineHeight:2.5},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),At=(0,p.Ay)(R.In)({fontSize:20,height:35,padding:8},(({theme:e})=>({background:(0,c.X4)(e.palette.background.paper,.1)}))),It=(0,p.Ay)(R.wn)({display:"flex",alignItems:"center",justifyContent:"center",height:25,cursor:"default"},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),Dt=(0,p.Ay)(R.PP)({display:"flex",alignItems:"center",justifyContent:"center",height:25,cursor:"default"},(({theme:e})=>({color:(0,c.X4)(e.palette.primary.main,.8)}))),Rt=(0,p.Ay)(R.l9,{shouldForwardProp:e=>!["wrapped"].includes(e)})({height:35,fontSize:"0.857rem",backdropFilter:"blur(10pt)",WebkitBackdropFilter:"blur(10pt)",alignItems:"center",display:"flex",justifyContent:"space-between",padding:0,gap:"5px"},(({theme:e,wrapped:t,disabled:n})=>({background:"light"===e.palette.mode?(0,c.X4)((0,c.e$)(e.palette.background.paper,.4),n?.5:.75):(0,c.X4)((0,c.a)(e.palette.background.paper,.4),n?.5:.75),border:"none",borderRadius:t?.66*e.shape.borderRadius:e.shape.borderRadius,color:n?e.palette.text.secondary:e.palette.text.primary,cursor:n?"not-allowed":"arrow","&:hover":{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:.8):(0,c.X4)("#000",n?.5:.8)},"&:focus":{color:"light"===e.palette.mode?(0,c.X4)("#fff",n?.5:1):(0,c.X4)("#000",n?.5:1),boxShadow:`0 0 0 1px ${e.palette.primary.main}`},"&:focus-visible":{userSelect:"none",outline:0}}))),Ot=({value:e=!1,defaultValue:t=!1,label:n,onChange:r=(e=>{}),disabled:o=!1})=>(0,m.jsxs)(oe,{disabled:o,style:{justifyContent:"space-between",paddingRight:5},onDoubleClick:e=>e.stopPropagation(),children:[(0,m.jsx)(ie,{side:"left",children:n}),(0,m.jsx)(Et,{checked:e,defaultChecked:t,onCheckedChange:r,disabled:o,children:(0,m.jsx)(Nt,{})})]}),Et=(0,p.Ay)(O.bL)({all:"unset",width:42,height:25,borderRadius:100,marginLeft:5,position:"relative",WebkitTapHighlightColor:"rgba(0,0,0,0)","&:focus":{boxShadow:"0 0 0 2px rgba(0,0,0,0.1)"}},(({theme:e})=>({borderRadius:e.shape.borderRadius,backgroundColor:"light"===e.palette.mode?(0,c.e$)(e.palette.background.paper,.1):(0,c.a)(e.palette.background.paper,.1),"&[data-state='checked']":{backgroundColor:e.palette.primary.main}}))),Nt=(0,p.Ay)(O.zi)({display:"block",width:21,height:21,boxShadow:"0 2px 2px var(--black-a7)",transition:"transform 100ms",transform:"translateX(2px)",willChange:"transform","&[data-state='checked']":{transform:"translateX(19px)"}},(({theme:e})=>({borderRadius:.66*e.shape.borderRadius,backgroundColor:"light"===e.palette.mode?"#444":"#ccc"}))),St=(0,k.i7)({from:{opacity:0},to:{opacity:1}}),Bt=(0,p.Ay)("div")({position:"fixed",width:"100vw",height:"100vh",inset:0,alignContent:"center",justifyContent:"center",userSelect:"none"},(({theme:e,show:t})=>({backgroundColor:t?"rgba(0,0,0,.25)":"transparent",backdropFilter:t?"blur(1px)":void 0,WebkitBackdropFilter:t?"blur(1px)":void 0,animation:`${St} 500ms ${e.transitions.easing.easeInOut}`}))),Ft=(0,f.P)((0,p.Ay)("div",{shouldForwardProp:e=>!["width","height"].includes(e)})({touchAction:"none",position:"fixed",backdropFilter:"blur(15px)",WebkitBackdropFilter:"blur(15px)",boxShadow:"0 10px 38px -10px rgba(0,0,0,.25), 0 10px 20px -15px rgba(0,0,0,.25)"},(({theme:e,width:t,height:n})=>({backgroundColor:"dark"===e.palette.mode?(0,c.X4)((0,c.a)(e.palette.background.paper,.1),.5):(0,c.X4)((0,c.e$)(e.palette.background.paper,.1),.5),borderRadius:e.shape.borderRadius,top:`calc(50% - ${n/2}px)`,left:`calc(50% - ${t/2}px)`})))),Lt={type:"spring",damping:50,stiffness:400},Pt={min:0,max:10,power:.05},Ut={open:{opacity:1},closed:{opacity:0,transform:"translate(-50%, -50%) scale(0.8)"},exit:{opacity:0,transform:"translate(-50%, -50%) scale(0.8)"},initial:{opacity:0}},zt=({isOpen:e=!1,onStateChange:t=(e=>{}),showOverlay:n=!0,clickableOverlay:o=!0,draggable:i=!1,children:a})=>{const l=(0,r.useRef)(null),[c,s]=(0,N.A)();return(0,m.jsx)(E.bL,{open:e,onOpenChange:t,children:(0,m.jsxs)(E.ZL,{children:[(0,m.jsx)(Bt,{onClick:o?()=>t(!1):void 0,show:n,ref:l,style:{pointerEvents:o?"auto":"none"}}),e&&(0,m.jsx)(Ft,{ref:c,drag:i,width:s.width,height:s.height,dragConstraints:l,transition:Lt,dragTransition:Pt,initial:"initial",exit:"exit",whileDrag:{scale:1.05},variants:Ut,animate:e?"open":"closed",children:a})]})})},Wt=(0,p.Ay)(F.y)((({theme:e})=>({color:e.palette.text.secondary,[`& .${L.m.content}`]:{color:e.palette.text.secondary,borderRadius:3,width:"unset",marginTop:2,paddingRight:e.spacing(1),fontWeight:e.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:e.typography.fontWeightRegular},"&:hover":{backgroundColor:e.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${e.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${L.m.label}`]:{fontWeight:"inherit",color:"inherit"}},"& .label-value":{paddingTop:3,paddingBottom:3,paddingRight:8,paddingLeft:8,borderRadius:8,backgroundColor:"#33333355"}}))),$t=(0,p.Ay)("span")((({theme:e,value:t})=>({paddingTop:3,paddingBottom:3,paddingRight:8,paddingLeft:8,borderRadius:18,color:t?e.palette.success.contrastText:e.palette.error.contrastText,backgroundColor:t?e.palette.success.main:e.palette.error.main}))),Mt=({dataKey:e,data:t})=>"object"==typeof t&&null!==t?(0,m.jsx)(Wt,{nodeId:e,label:`${e} `,disabled:0===Object.keys(t).length,children:Object.keys(t).map((e=>(0,m.jsx)(Mt,{dataKey:e,data:t[e]},e)))},e):"string"==typeof t?(0,m.jsx)(Wt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsxs)("span",{className:"label-value",children:['"',t,'"']})]})},e):"number"==typeof t?(0,m.jsx)(Wt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:t})]})},e):"boolean"==typeof t?(0,m.jsx)(Wt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,":"," ",(0,m.jsx)($t,{value:t,children:t?"true":"false"})]})},e):null===t?(0,m.jsx)(Wt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:"null"})]})},e):(0,m.jsx)(Wt,{nodeId:e,label:(0,m.jsxs)("span",{children:[e,": ",(0,m.jsx)("span",{className:"label-value",children:"UNKNOWN"})]})},e),Vt=(0,p.Ay)(S.A)({whiteSpace:"pre",fontFamily:"monospace",margin:"3px",padding:"5px",borderRadius:4},(({theme:e})=>({backgroundColor:e.palette.background.paper,color:e.palette.text.primary}))),Xt=({data:e,enclose:t})=>(0,m.jsx)(Vt,{onClick:e=>e.stopPropagation(),children:(0,m.jsx)(B.G,{sx:{flex:1},defaultCollapseIcon:(0,m.jsx)(g.D3D,{}),defaultExpandIcon:(0,m.jsx)(g.vKP,{}),children:t?(0,m.jsx)(Mt,{dataKey:"root",data:e}):"object"==typeof e?Object.entries(e).map((([e,t])=>(0,m.jsx)(Mt,{dataKey:e.toString(),data:t},e))):(0,m.jsx)(Mt,{dataKey:"root",data:e})})}),Yt=n(9e3),Jt=n(19),Ht=n(80858),Gt=n(6559),Kt=n(686),qt=n(54552),Zt=n(95623),Qt=n(37413),en=n(26952),tn=n(50616),nn=n(42770),rn=n(92766),on=n(95365),an=n(70365),ln=n(6530),cn=n(554),sn=n(35021),un=n(9424),dn=n(93922),pn=n(27270),fn=n(54643),hn=n(1186),gn=n(61629),mn=n(60470),bn=Object.create,yn=Object.defineProperty,vn=Object.defineProperties,xn=Object.getOwnPropertyDescriptor,kn=Object.getOwnPropertyDescriptors,jn=Object.getOwnPropertyNames,Cn=Object.getOwnPropertySymbols,Tn=Object.getPrototypeOf,wn=Object.prototype.hasOwnProperty,_n=Object.prototype.propertyIsEnumerable,An=(e,t,n)=>t in e?yn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,In=(e,t)=>{for(var n in t||(t={}))wn.call(t,n)&&An(e,n,t[n]);if(Cn)for(var n of Cn(t))_n.call(t,n)&&An(e,n,t[n]);return e},Dn=(e,t)=>vn(e,kn(t)),Rn=(e,t)=>{var n={};for(var r in e)wn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Cn)for(var r of Cn(e))t.indexOf(r)<0&&_n.call(e,r)&&(n[r]=e[r]);return n},On=(e,t,n)=>(n=null!=e?bn(Tn(e)):{},((e,t,n,r)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let o of jn(t))wn.call(e,o)||o===n||yn(e,o,{get:()=>t[o],enumerable:!(r=xn(t,o))||r.enumerable});return e})(!t&&e&&e.__esModule?n:yn(n,"default",{value:e,enumerable:!0}),e)),En=(st={"../../node_modules/lodash/lodash.js"(e,t){(function(){var n,r="Expected a function",o="__lodash_hash_undefined__",i="__lodash_placeholder__",a=16,l=32,c=64,s=128,u=256,d=1/0,p=9007199254740991,f=NaN,h=4294967295,g=[["ary",s],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",l],["partialRight",c],["rearg",u]],m="[object Arguments]",b="[object Array]",y="[object Boolean]",v="[object Date]",x="[object Error]",k="[object Function]",j="[object GeneratorFunction]",C="[object Map]",T="[object Number]",w="[object Object]",_="[object Promise]",A="[object RegExp]",I="[object Set]",D="[object String]",R="[object Symbol]",O="[object WeakMap]",E="[object ArrayBuffer]",N="[object DataView]",S="[object Float32Array]",B="[object Float64Array]",F="[object Int8Array]",L="[object Int16Array]",P="[object Int32Array]",U="[object Uint8Array]",z="[object Uint8ClampedArray]",W="[object Uint16Array]",$="[object Uint32Array]",M=/\b__p \+= '';/g,V=/\b(__p \+=) '' \+/g,X=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,H=RegExp(Y.source),G=RegExp(J.source),K=/<%-([\s\S]+?)%>/g,q=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,Q=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),oe=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,le=/\{\n\/\* \[wrapped with (.+)\] \*/,ce=/,? & /,se=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,fe=/\w*$/,he=/^[-+]0x[0-9a-f]+$/i,ge=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ye=/^(?:0|[1-9]\d*)$/,ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,ke=/['\n\r\u2028\u2029\\]/g,je="\\ud800-\\udfff",Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",_e="A-Z\\xc0-\\xd6\\xd8-\\xde",Ae="\\ufe0e\\ufe0f",Ie="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="['\u2019]",Re="["+je+"]",Oe="["+Ie+"]",Ee="["+Ce+"]",Ne="\\d+",Se="["+Te+"]",Be="["+we+"]",Fe="[^"+je+Ie+Ne+Te+we+_e+"]",Le="\\ud83c[\\udffb-\\udfff]",Pe="[^"+je+"]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",ze="[\\ud800-\\udbff][\\udc00-\\udfff]",We="["+_e+"]",$e="\\u200d",Me="(?:"+Be+"|"+Fe+")",Ve="(?:"+We+"|"+Fe+")",Xe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ye="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Ee+"|"+Le+")?",He="["+Ae+"]?",Ge=He+Je+"(?:"+$e+"(?:"+[Pe,Ue,ze].join("|")+")"+He+Je+")*",Ke="(?:"+[Se,Ue,ze].join("|")+")"+Ge,qe="(?:"+[Pe+Ee+"?",Ee,Ue,ze,Re].join("|")+")",Ze=RegExp(De,"g"),Qe=RegExp(Ee,"g"),et=RegExp(Le+"(?="+Le+")|"+qe+Ge,"g"),tt=RegExp([We+"?"+Be+"+"+Xe+"(?="+[Oe,We,"$"].join("|")+")",Ve+"+"+Ye+"(?="+[Oe,We+Me,"$"].join("|")+")",We+"?"+Me+"+"+Xe,We+"+"+Ye,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ke].join("|"),"g"),nt=RegExp("["+$e+je+Ce+Ae+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ot=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],it=-1,at={};at[S]=at[B]=at[F]=at[L]=at[P]=at[U]=at[z]=at[W]=at[$]=!0,at[m]=at[b]=at[E]=at[y]=at[N]=at[v]=at[x]=at[k]=at[C]=at[T]=at[w]=at[A]=at[I]=at[D]=at[O]=!1;var lt={};lt[m]=lt[b]=lt[E]=lt[N]=lt[y]=lt[v]=lt[S]=lt[B]=lt[F]=lt[L]=lt[P]=lt[C]=lt[T]=lt[w]=lt[A]=lt[I]=lt[D]=lt[R]=lt[U]=lt[z]=lt[W]=lt[$]=!0,lt[x]=lt[k]=lt[O]=!1;var ct={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,dt="object"==typeof global&&global&&global.Object===Object&&global,pt="object"==typeof self&&self&&self.Object===Object&&self,ft=dt||pt||Function("return this")(),ht="object"==typeof e&&e&&!e.nodeType&&e,gt=ht&&"object"==typeof t&&t&&!t.nodeType&&t,mt=gt&&gt.exports===ht,bt=mt&&dt.process,yt=function(){try{var e=gt&&gt.require&&gt.require("util").types;return e||bt&&bt.binding&&bt.binding("util")}catch(t){}}(),vt=yt&&yt.isArrayBuffer,xt=yt&&yt.isDate,kt=yt&&yt.isMap,jt=yt&&yt.isRegExp,Ct=yt&&yt.isSet,Tt=yt&&yt.isTypedArray;function wt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function _t(e,t,n,r){for(var o=-1,i=null==e?0:e.length;++o<i;){var a=e[o];t(r,a,n(a),e)}return r}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Dt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,o=0,i=[];++n<r;){var a=e[n];t(a,n,e)&&(i[o++]=a)}return i}function Ot(e,t){return!(null==e||!e.length)&&Wt(e,t,0)>-1}function Et(e,t,n){for(var r=-1,o=null==e?0:e.length;++r<o;)if(n(t,e[r]))return!0;return!1}function Nt(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}function St(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function Bt(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Ft(e,t,n,r){var o=null==e?0:e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Pt=Xt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,o){if(t(e,n,o))return r=n,!1})),r}function zt(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}function Wt(e,t,n){return t==t?function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}(e,t,n):zt(e,Mt,n)}function $t(e,t,n,r){for(var o=n-1,i=e.length;++o<i;)if(r(e[o],t))return o;return-1}function Mt(e){return e!=e}function Vt(e,t){var n=null==e?0:e.length;return n?Ht(e,t)/n:f}function Xt(e){return function(t){return null==t?n:t[e]}}function Yt(e){return function(t){return null==e?n:e[t]}}function Jt(e,t,n,r,o){return o(e,(function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)})),n}function Ht(e,t){for(var r,o=-1,i=e.length;++o<i;){var a=t(e[o]);a!==n&&(r=r===n?a:r+a)}return r}function Gt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Kt(e){return e?e.slice(0,fn(e)+1).replace(oe,""):e}function qt(e){return function(t){return e(t)}}function Zt(e,t){return Nt(t,(function(t){return e[t]}))}function Qt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Wt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Wt(t,e[n],0)>-1;);return n}var nn=Yt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),rn=Yt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function on(e){return"\\"+ct[e]}function an(e){return nt.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function sn(e,t){for(var n=-1,r=e.length,o=0,a=[];++n<r;){var l=e[n];l!==t&&l!==i||(e[n]=i,a[o++]=n)}return a}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function dn(e){return an(e)?function(e){for(var t=et.lastIndex=0;et.test(e);)++t;return t}(e):Pt(e)}function pn(e){return an(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function fn(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var hn=Yt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),gn=function e(t){var ie,je=(t=null==t?ft:gn.defaults(ft.Object(),t,gn.pick(ft,ot))).Array,Ce=t.Date,Te=t.Error,we=t.Function,_e=t.Math,Ae=t.Object,Ie=t.RegExp,De=t.String,Re=t.TypeError,Oe=je.prototype,Ee=we.prototype,Ne=Ae.prototype,Se=t["__core-js_shared__"],Be=Ee.toString,Fe=Ne.hasOwnProperty,Le=0,Pe=(ie=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",Ue=Ne.toString,ze=Be.call(Ae),We=ft._,$e=Ie("^"+Be.call(Fe).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Me=mt?t.Buffer:n,Ve=t.Symbol,Xe=t.Uint8Array,Ye=Me?Me.allocUnsafe:n,Je=cn(Ae.getPrototypeOf,Ae),He=Ae.create,Ge=Ne.propertyIsEnumerable,Ke=Oe.splice,qe=Ve?Ve.isConcatSpreadable:n,et=Ve?Ve.iterator:n,nt=Ve?Ve.toStringTag:n,ct=function(){try{var e=pi(Ae,"defineProperty");return e({},"",{}),e}catch(t){}}(),dt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,pt=Ce&&Ce.now!==ft.Date.now&&Ce.now,ht=t.setTimeout!==ft.setTimeout&&t.setTimeout,gt=_e.ceil,bt=_e.floor,yt=Ae.getOwnPropertySymbols,Pt=Me?Me.isBuffer:n,Yt=t.isFinite,mn=Oe.join,bn=cn(Ae.keys,Ae),yn=_e.max,vn=_e.min,xn=Ce.now,kn=t.parseInt,jn=_e.random,Cn=Oe.reverse,Tn=pi(t,"DataView"),wn=pi(t,"Map"),_n=pi(t,"Promise"),An=pi(t,"Set"),In=pi(t,"WeakMap"),Dn=pi(Ae,"create"),Rn=In&&new In,On={},En=Wi(Tn),Nn=Wi(wn),Sn=Wi(_n),Bn=Wi(An),Fn=Wi(In),Ln=Ve?Ve.prototype:n,Pn=Ln?Ln.valueOf:n,Un=Ln?Ln.toString:n;function zn(e){if(ol(e)&&!Ja(e)&&!(e instanceof Vn)){if(e instanceof Mn)return e;if(Fe.call(e,"__wrapped__"))return $i(e)}return new Mn(e)}var Wn=function(){function e(){}return function(t){if(!rl(t))return{};if(He)return He(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function $n(){}function Mn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=h,this.__views__=[]}function Xn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Jn;++t<n;)this.add(e[t])}function Gn(e){var t=this.__data__=new Yn(e);this.size=t.size}function Kn(e,t){var n=Ja(e),r=!n&&Ya(e),o=!n&&!r&&qa(e),i=!n&&!r&&!o&&pl(e),a=n||r||o||i,l=a?Gt(e.length,De):[],c=l.length;for(var s in e)!t&&!Fe.call(e,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||vi(s,c))||l.push(s);return l}function qn(e){var t=e.length;return t?e[Hr(0,t-1)]:n}function Zn(e,t){return Bi(Ro(e),lr(t,0,e.length))}function Qn(e){return Bi(Ro(e))}function er(e,t,r){(r!==n&&!Ma(e[t],r)||r===n&&!(t in e))&&ir(e,t,r)}function tr(e,t,r){var o=e[t];Fe.call(e,t)&&Ma(o,r)&&(r!==n||t in e)||ir(e,t,r)}function nr(e,t){for(var n=e.length;n--;)if(Ma(e[n][0],t))return n;return-1}function rr(e,t,n,r){return pr(e,(function(e,o,i){t(r,e,n(e),i)})),r}function or(e,t){return e&&Oo(t,Sl(t),e)}function ir(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function ar(e,t){for(var r=-1,o=t.length,i=je(o),a=null==e;++r<o;)i[r]=a?n:Dl(e,t[r]);return i}function lr(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,o,i,a){var l,c=1&t,s=2&t,u=4&t;if(r&&(l=i?r(e,o,i,a):r(e)),l!==n)return l;if(!rl(e))return e;var d=Ja(e);if(d){if(l=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Fe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return Ro(e,l)}else{var p=gi(e),f=p==k||p==j;if(qa(e))return To(e,c);if(p==w||p==m||f&&!i){if(l=s||f?{}:bi(e),!c)return s?function(e,t){return Oo(e,hi(e),t)}(e,function(e,t){return e&&Oo(t,Bl(t),e)}(l,e)):function(e,t){return Oo(e,fi(e),t)}(e,or(l,e))}else{if(!lt[p])return i?e:{};l=function(e,t,n){var r,o=e.constructor;switch(t){case E:return wo(e);case y:case v:return new o(+e);case N:return function(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case S:case B:case F:case L:case P:case U:case z:case W:case $:return _o(e,n);case C:return new o;case T:case D:return new o(e);case A:return function(e){var t=new e.constructor(e.source,fe.exec(e));return t.lastIndex=e.lastIndex,t}(e);case I:return new o;case R:return r=e,Pn?Ae(Pn.call(r)):{}}}(e,p,c)}}a||(a=new Gn);var h=a.get(e);if(h)return h;a.set(e,l),sl(e)?e.forEach((function(n){l.add(cr(n,t,r,n,e,a))})):il(e)&&e.forEach((function(n,o){l.set(o,cr(n,t,r,o,e,a))}));var g=d?n:(u?s?ii:oi:s?Bl:Sl)(e);return At(g||e,(function(n,o){g&&(n=e[o=n]),tr(l,o,cr(n,t,r,o,e,a))})),l}function sr(e,t,r){var o=r.length;if(null==e)return!o;for(e=Ae(e);o--;){var i=r[o],a=t[i],l=e[i];if(l===n&&!(i in e)||!a(l))return!1}return!0}function ur(e,t,o){if("function"!=typeof e)throw new Re(r);return Oi((function(){e.apply(n,o)}),t)}function dr(e,t,n,r){var o=-1,i=Ot,a=!0,l=e.length,c=[],s=t.length;if(!l)return c;n&&(t=Nt(t,qt(n))),r?(i=Et,a=!1):t.length>=200&&(i=Qt,a=!1,t=new Hn(t));e:for(;++o<l;){var u=e[o],d=null==n?u:n(u);if(u=r||0!==u?u:0,a&&d==d){for(var p=s;p--;)if(t[p]===d)continue e;c.push(u)}else i(t,d,r)||c.push(u)}return c}zn.templateSettings={escape:K,evaluate:q,interpolate:Z,variable:"",imports:{_:zn}},zn.prototype=$n.prototype,zn.prototype.constructor=zn,Mn.prototype=Wn($n.prototype),Mn.prototype.constructor=Mn,Vn.prototype=Wn($n.prototype),Vn.prototype.constructor=Vn,Xn.prototype.clear=function(){this.__data__=Dn?Dn(null):{},this.size=0},Xn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Xn.prototype.get=function(e){var t=this.__data__;if(Dn){var r=t[e];return r===o?n:r}return Fe.call(t,e)?t[e]:n},Xn.prototype.has=function(e){var t=this.__data__;return Dn?t[e]!==n:Fe.call(t,e)},Xn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Dn&&t===n?o:t,this},Yn.prototype.clear=function(){this.__data__=[],this.size=0},Yn.prototype.delete=function(e){var t=this.__data__,n=nr(t,e);return!(n<0||(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,0))},Yn.prototype.get=function(e){var t=this.__data__,r=nr(t,e);return r<0?n:t[r][1]},Yn.prototype.has=function(e){return nr(this.__data__,e)>-1},Yn.prototype.set=function(e,t){var n=this.__data__,r=nr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Xn,map:new(wn||Yn),string:new Xn}},Jn.prototype.delete=function(e){var t=ui(this,e).delete(e);return this.size-=t?1:0,t},Jn.prototype.get=function(e){return ui(this,e).get(e)},Jn.prototype.has=function(e){return ui(this,e).has(e)},Jn.prototype.set=function(e,t){var n=ui(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Hn.prototype.add=Hn.prototype.push=function(e){return this.__data__.set(e,o),this},Hn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.clear=function(){this.__data__=new Yn,this.size=0},Gn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Gn.prototype.get=function(e){return this.__data__.get(e)},Gn.prototype.has=function(e){return this.__data__.has(e)},Gn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Yn){var r=n.__data__;if(!wn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Jn(r)}return n.set(e,t),this.size=n.size,this};var pr=So(xr),fr=So(kr,!0);function hr(e,t){var n=!0;return pr(e,(function(e,r,o){return n=!!t(e,r,o)})),n}function gr(e,t,r){for(var o=-1,i=e.length;++o<i;){var a=e[o],l=t(a);if(null!=l&&(c===n?l==l&&!dl(l):r(l,c)))var c=l,s=a}return s}function mr(e,t){var n=[];return pr(e,(function(e,r,o){t(e,r,o)&&n.push(e)})),n}function br(e,t,n,r,o){var i=-1,a=e.length;for(n||(n=yi),o||(o=[]);++i<a;){var l=e[i];t>0&&n(l)?t>1?br(l,t-1,n,r,o):St(o,l):r||(o[o.length]=l)}return o}var yr=Bo(),vr=Bo(!0);function xr(e,t){return e&&yr(e,t,Sl)}function kr(e,t){return e&&vr(e,t,Sl)}function jr(e,t){return Rt(t,(function(t){return el(e[t])}))}function Cr(e,t){for(var r=0,o=(t=xo(t,e)).length;null!=e&&r<o;)e=e[zi(t[r++])];return r&&r==o?e:n}function Tr(e,t,n){var r=t(e);return Ja(e)?r:St(r,n(e))}function wr(e){return null==e?e===n?"[object Undefined]":"[object Null]":nt&&nt in Ae(e)?function(e){var t=Fe.call(e,nt),r=e[nt];try{e[nt]=n;var o=!0}catch(a){}var i=Ue.call(e);return o&&(t?e[nt]=r:delete e[nt]),i}(e):function(e){return Ue.call(e)}(e)}function _r(e,t){return e>t}function Ar(e,t){return null!=e&&Fe.call(e,t)}function Ir(e,t){return null!=e&&t in Ae(e)}function Dr(e,t,r){for(var o=r?Et:Ot,i=e[0].length,a=e.length,l=a,c=je(a),s=1/0,u=[];l--;){var d=e[l];l&&t&&(d=Nt(d,qt(t))),s=vn(d.length,s),c[l]=!r&&(t||i>=120&&d.length>=120)?new Hn(l&&d):n}d=e[0];var p=-1,f=c[0];e:for(;++p<i&&u.length<s;){var h=d[p],g=t?t(h):h;if(h=r||0!==h?h:0,!(f?Qt(f,g):o(u,g,r))){for(l=a;--l;){var m=c[l];if(!(m?Qt(m,g):o(e[l],g,r)))continue e}f&&f.push(g),u.push(h)}}return u}function Rr(e,t,r){var o=null==(e=Ii(e,t=xo(t,e)))?e:e[zi(Qi(t))];return null==o?n:wt(o,e,r)}function Or(e){return ol(e)&&wr(e)==m}function Er(e,t,r,o,i){return e===t||(null==e||null==t||!ol(e)&&!ol(t)?e!=e&&t!=t:function(e,t,r,o,i,a){var l=Ja(e),c=Ja(t),s=l?b:gi(e),u=c?b:gi(t),d=(s=s==m?w:s)==w,p=(u=u==m?w:u)==w,f=s==u;if(f&&qa(e)){if(!qa(t))return!1;l=!0,d=!1}if(f&&!d)return a||(a=new Gn),l||pl(e)?ni(e,t,r,o,i,a):function(e,t,n,r,o,i,a){switch(n){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!i(new Xe(e),new Xe(t)));case y:case v:case T:return Ma(+e,+t);case x:return e.name==t.name&&e.message==t.message;case A:case D:return e==t+"";case C:var l=ln;case I:var c=1&r;if(l||(l=un),e.size!=t.size&&!c)return!1;var s=a.get(e);if(s)return s==t;r|=2,a.set(e,t);var u=ni(l(e),l(t),r,o,i,a);return a.delete(e),u;case R:if(Pn)return Pn.call(e)==Pn.call(t)}return!1}(e,t,s,r,o,i,a);if(!(1&r)){var h=d&&Fe.call(e,"__wrapped__"),g=p&&Fe.call(t,"__wrapped__");if(h||g){var k=h?e.value():e,j=g?t.value():t;return a||(a=new Gn),i(k,j,r,o,a)}}return!!f&&(a||(a=new Gn),function(e,t,r,o,i,a){var l=1&r,c=oi(e),s=c.length,u=oi(t),d=u.length;if(s!=d&&!l)return!1;for(var p=s;p--;){var f=c[p];if(!(l?f in t:Fe.call(t,f)))return!1}var h=a.get(e),g=a.get(t);if(h&&g)return h==t&&g==e;var m=!0;a.set(e,t),a.set(t,e);for(var b=l;++p<s;){var y=e[f=c[p]],v=t[f];if(o)var x=l?o(v,y,f,t,e,a):o(y,v,f,e,t,a);if(!(x===n?y===v||i(y,v,r,o,a):x)){m=!1;break}b||(b="constructor"==f)}if(m&&!b){var k=e.constructor,j=t.constructor;k==j||!("constructor"in e)||!("constructor"in t)||"function"==typeof k&&k instanceof k&&"function"==typeof j&&j instanceof j||(m=!1)}return a.delete(e),a.delete(t),m}(e,t,r,o,i,a))}(e,t,r,o,Er,i))}function Nr(e,t,r,o){var i=r.length,a=i,l=!o;if(null==e)return!a;for(e=Ae(e);i--;){var c=r[i];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++i<a;){var s=(c=r[i])[0],u=e[s],d=c[1];if(l&&c[2]){if(u===n&&!(s in e))return!1}else{var p=new Gn;if(o)var f=o(u,d,s,e,t,p);if(!(f===n?Er(d,u,3,o,p):f))return!1}}return!0}function Sr(e){return!(!rl(e)||(t=e,Pe&&Pe in t))&&(el(e)?$e:me).test(Wi(e));var t}function Br(e){return"function"==typeof e?e:null==e?ac:"object"==typeof e?Ja(e)?Wr(e[0],e[1]):zr(e):gc(e)}function Fr(e){if(!Ti(e))return bn(e);var t=[];for(var n in Ae(e))Fe.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Lr(e){if(!rl(e))return function(e){var t=[];if(null!=e)for(var n in Ae(e))t.push(n);return t}(e);var t=Ti(e),n=[];for(var r in e)("constructor"!=r||!t&&Fe.call(e,r))&&n.push(r);return n}function Pr(e,t){return e<t}function Ur(e,t){var n=-1,r=Ga(e)?je(e.length):[];return pr(e,(function(e,o,i){r[++n]=t(e,o,i)})),r}function zr(e){var t=di(e);return 1==t.length&&t[0][2]?_i(t[0][0],t[0][1]):function(n){return n===e||Nr(n,e,t)}}function Wr(e,t){return ki(e)&&wi(t)?_i(zi(e),t):function(r){var o=Dl(r,e);return o===n&&o===t?Rl(r,e):Er(t,o,3)}}function $r(e,t,r,o,i){e!==t&&yr(t,(function(a,l){if(i||(i=new Gn),rl(a))!function(e,t,r,o,i,a,l){var c=Di(e,r),s=Di(t,r),u=l.get(s);if(u)er(e,r,u);else{var d=a?a(c,s,r+"",e,t,l):n,p=d===n;if(p){var f=Ja(s),h=!f&&qa(s),g=!f&&!h&&pl(s);d=s,f||h||g?Ja(c)?d=c:Ka(c)?d=Ro(c):h?(p=!1,d=To(s,!0)):g?(p=!1,d=_o(s,!0)):d=[]:ll(s)||Ya(s)?(d=c,Ya(c)?d=xl(c):rl(c)&&!el(c)||(d=bi(s))):p=!1}p&&(l.set(s,d),i(d,s,o,a,l),l.delete(s)),er(e,r,d)}}(e,t,l,r,$r,o,i);else{var c=o?o(Di(e,l),a,l+"",e,t,i):n;c===n&&(c=a),er(e,l,c)}}),Bl)}function Mr(e,t){var r=e.length;if(r)return vi(t+=t<0?r:0,r)?e[t]:n}function Vr(e,t,n){t=t.length?Nt(t,(function(e){return Ja(e)?function(t){return Cr(t,1===e.length?e[0]:e)}:e})):[ac];var r=-1;return t=Nt(t,qt(si())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ur(e,(function(e,n,o){return{criteria:Nt(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){for(var r=-1,o=e.criteria,i=t.criteria,a=o.length,l=n.length;++r<a;){var c=Ao(o[r],i[r]);if(c)return r>=l?c:c*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Xr(e,t,n){for(var r=-1,o=t.length,i={};++r<o;){var a=t[r],l=Cr(e,a);n(l,a)&&Qr(i,xo(a,e),l)}return i}function Yr(e,t,n,r){var o=r?$t:Wt,i=-1,a=t.length,l=e;for(e===t&&(t=Ro(t)),n&&(l=Nt(e,qt(n)));++i<a;)for(var c=0,s=t[i],u=n?n(s):s;(c=o(l,u,c,r))>-1;)l!==e&&Ke.call(l,c,1),Ke.call(e,c,1);return e}function Jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var o=t[n];if(n==r||o!==i){var i=o;vi(o)?Ke.call(e,o,1):po(e,o)}}return e}function Hr(e,t){return e+bt(jn()*(t-e+1))}function Gr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=bt(t/2))&&(e+=e)}while(t);return n}function Kr(e,t){return Ei(Ai(e,t,ac),e+"")}function qr(e){return qn(Ml(e))}function Zr(e,t){var n=Ml(e);return Bi(n,lr(t,0,n.length))}function Qr(e,t,r,o){if(!rl(e))return e;for(var i=-1,a=(t=xo(t,e)).length,l=a-1,c=e;null!=c&&++i<a;){var s=zi(t[i]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(i!=l){var d=c[s];(u=o?o(d,s,c):n)===n&&(u=rl(d)?d:vi(t[i+1])?[]:{})}tr(c,s,u),c=c[s]}return e}var eo=Rn?function(e,t){return Rn.set(e,t),e}:ac,to=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:rc(t),writable:!0})}:ac;function no(e){return Bi(Ml(e))}function ro(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=je(o);++r<o;)i[r]=e[r+t];return i}function oo(e,t){var n;return pr(e,(function(e,r,o){return!(n=t(e,r,o))})),!!n}function io(e,t,n){var r=0,o=null==e?r:e.length;if("number"==typeof t&&t==t&&o<=2147483647){for(;r<o;){var i=r+o>>>1,a=e[i];null!==a&&!dl(a)&&(n?a<=t:a<t)?r=i+1:o=i}return o}return ao(e,t,ac,n)}function ao(e,t,r,o){var i=0,a=null==e?0:e.length;if(0===a)return 0;for(var l=(t=r(t))!=t,c=null===t,s=dl(t),u=t===n;i<a;){var d=bt((i+a)/2),p=r(e[d]),f=p!==n,h=null===p,g=p==p,m=dl(p);if(l)var b=o||g;else b=u?g&&(o||f):c?g&&f&&(o||!h):s?g&&f&&!h&&(o||!m):!h&&!m&&(o?p<=t:p<t);b?i=d+1:a=d}return vn(a,4294967294)}function lo(e,t){for(var n=-1,r=e.length,o=0,i=[];++n<r;){var a=e[n],l=t?t(a):a;if(!n||!Ma(l,c)){var c=l;i[o++]=0===a?0:a}}return i}function co(e){return"number"==typeof e?e:dl(e)?f:+e}function so(e){if("string"==typeof e)return e;if(Ja(e))return Nt(e,so)+"";if(dl(e))return Un?Un.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function uo(e,t,n){var r=-1,o=Ot,i=e.length,a=!0,l=[],c=l;if(n)a=!1,o=Et;else if(i>=200){var s=t?null:Ko(e);if(s)return un(s);a=!1,o=Qt,c=new Hn}else c=t?[]:l;e:for(;++r<i;){var u=e[r],d=t?t(u):u;if(u=n||0!==u?u:0,a&&d==d){for(var p=c.length;p--;)if(c[p]===d)continue e;t&&c.push(d),l.push(u)}else o(c,d,n)||(c!==l&&c.push(d),l.push(u))}return l}function po(e,t){return null==(e=Ii(e,t=xo(t,e)))||delete e[zi(Qi(t))]}function fo(e,t,n,r){return Qr(e,t,n(Cr(e,t)),r)}function ho(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?ro(e,r?0:i,r?i+1:o):ro(e,r?i+1:0,r?o:i)}function go(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Bt(t,(function(e,t){return t.func.apply(t.thisArg,St([e],t.args))}),n)}function mo(e,t,n){var r=e.length;if(r<2)return r?uo(e[0]):[];for(var o=-1,i=je(r);++o<r;)for(var a=e[o],l=-1;++l<r;)l!=o&&(i[o]=dr(i[o]||a,e[l],t,n));return uo(br(i,1),t,n)}function bo(e,t,r){for(var o=-1,i=e.length,a=t.length,l={};++o<i;){var c=o<a?t[o]:n;r(l,e[o],c)}return l}function yo(e){return Ka(e)?e:[]}function vo(e){return"function"==typeof e?e:ac}function xo(e,t){return Ja(e)?e:ki(e,t)?[e]:Ui(kl(e))}var ko=Kr;function jo(e,t,r){var o=e.length;return r=r===n?o:r,!t&&r>=o?e:ro(e,t,r)}var Co=dt||function(e){return ft.clearTimeout(e)};function To(e,t){if(t)return e.slice();var n=e.length,r=Ye?Ye(n):new e.constructor(n);return e.copy(r),r}function wo(e){var t=new e.constructor(e.byteLength);return new Xe(t).set(new Xe(e)),t}function _o(e,t){var n=t?wo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ao(e,t){if(e!==t){var r=e!==n,o=null===e,i=e==e,a=dl(e),l=t!==n,c=null===t,s=t==t,u=dl(t);if(!c&&!u&&!a&&e>t||a&&l&&s&&!c&&!u||o&&l&&s||!r&&s||!i)return 1;if(!o&&!a&&!u&&e<t||u&&r&&i&&!o&&!a||c&&r&&i||!l&&i||!s)return-1}return 0}function Io(e,t,n,r){for(var o=-1,i=e.length,a=n.length,l=-1,c=t.length,s=yn(i-a,0),u=je(c+s),d=!r;++l<c;)u[l]=t[l];for(;++o<a;)(d||o<i)&&(u[n[o]]=e[o]);for(;s--;)u[l++]=e[o++];return u}function Do(e,t,n,r){for(var o=-1,i=e.length,a=-1,l=n.length,c=-1,s=t.length,u=yn(i-l,0),d=je(u+s),p=!r;++o<u;)d[o]=e[o];for(var f=o;++c<s;)d[f+c]=t[c];for(;++a<l;)(p||o<i)&&(d[f+n[a]]=e[o++]);return d}function Ro(e,t){var n=-1,r=e.length;for(t||(t=je(r));++n<r;)t[n]=e[n];return t}function Oo(e,t,r,o){var i=!r;r||(r={});for(var a=-1,l=t.length;++a<l;){var c=t[a],s=o?o(r[c],e[c],c,r,e):n;s===n&&(s=e[c]),i?ir(r,c,s):tr(r,c,s)}return r}function Eo(e,t){return function(n,r){var o=Ja(n)?_t:rr,i=t?t():{};return o(n,e,si(r,2),i)}}function No(e){return Kr((function(t,r){var o=-1,i=r.length,a=i>1?r[i-1]:n,l=i>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(i--,a):n,l&&xi(r[0],r[1],l)&&(a=i<3?n:a,i=1),t=Ae(t);++o<i;){var c=r[o];c&&e(t,c,o,a)}return t}))}function So(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var o=n.length,i=t?o:-1,a=Ae(n);(t?i--:++i<o)&&!1!==r(a[i],i,a););return n}}function Bo(e){return function(t,n,r){for(var o=-1,i=Ae(t),a=r(t),l=a.length;l--;){var c=a[e?l:++o];if(!1===n(i[c],c,i))break}return t}}function Fo(e){return function(t){var r=an(t=kl(t))?pn(t):n,o=r?r[0]:t.charAt(0),i=r?jo(r,1).join(""):t.slice(1);return o[e]()+i}}function Lo(e){return function(t){return Bt(ec(Yl(t).replace(Ze,"")),e,"")}}function Po(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Wn(e.prototype),r=e.apply(n,t);return rl(r)?r:n}}function Uo(e){return function(t,r,o){var i=Ae(t);if(!Ga(t)){var a=si(r,3);t=Sl(t),r=function(e){return a(i[e],e,i)}}var l=e(t,r,o);return l>-1?i[a?t[l]:l]:n}}function zo(e){return ri((function(t){var o=t.length,i=o,a=Mn.prototype.thru;for(e&&t.reverse();i--;){var l=t[i];if("function"!=typeof l)throw new Re(r);if(a&&!c&&"wrapper"==li(l))var c=new Mn([],!0)}for(i=c?i:o;++i<o;){var s=li(l=t[i]),u="wrapper"==s?ai(l):n;c=u&&ji(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?c[li(u[0])].apply(c,u[3]):1==l.length&&ji(l)?c[s]():c.thru(l)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Ja(n))return c.plant(n).value();for(var r=0,i=o?t[r].apply(this,e):n;++r<o;)i=t[r].call(this,i);return i}}))}function Wo(e,t,r,o,i,a,l,c,u,d){var p=t&s,f=1&t,h=2&t,g=24&t,m=512&t,b=h?n:Po(e);return function s(){for(var y=arguments.length,v=je(y),x=y;x--;)v[x]=arguments[x];if(g)var k=ci(s),j=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(v,k);if(o&&(v=Io(v,o,i,g)),a&&(v=Do(v,a,l,g)),y-=j,g&&y<d){var C=sn(v,k);return Ho(e,t,Wo,s.placeholder,r,v,C,c,u,d-y)}var T=f?r:this,w=h?T[e]:e;return y=v.length,c?v=function(e,t){for(var r=e.length,o=vn(t.length,r),i=Ro(e);o--;){var a=t[o];e[o]=vi(a,r)?i[a]:n}return e}(v,c):m&&y>1&&v.reverse(),p&&u<y&&(v.length=u),this&&this!==ft&&this instanceof s&&(w=b||Po(w)),w.apply(T,v)}}function $o(e,t){return function(n,r){return function(e,t,n,r){return xr(e,(function(e,o,i){t(r,n(e),o,i)})),r}(n,e,t(r),{})}}function Mo(e,t){return function(r,o){var i;if(r===n&&o===n)return t;if(r!==n&&(i=r),o!==n){if(i===n)return o;"string"==typeof r||"string"==typeof o?(r=so(r),o=so(o)):(r=co(r),o=co(o)),i=e(r,o)}return i}}function Vo(e){return ri((function(t){return t=Nt(t,qt(si())),Kr((function(n){var r=this;return e(t,(function(e){return wt(e,r,n)}))}))}))}function Xo(e,t){var r=(t=t===n?" ":so(t)).length;if(r<2)return r?Gr(t,e):t;var o=Gr(t,gt(e/dn(t)));return an(t)?jo(pn(o),0,e).join(""):o.slice(0,e)}function Yo(e){return function(t,r,o){return o&&"number"!=typeof o&&xi(t,r,o)&&(r=o=n),t=ml(t),r===n?(r=t,t=0):r=ml(r),function(e,t,n,r){for(var o=-1,i=yn(gt((t-e)/(n||1)),0),a=je(i);i--;)a[r?i:++o]=e,e+=n;return a}(t,r,o=o===n?t<r?1:-1:ml(o),e)}}function Jo(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=vl(t),n=vl(n)),e(t,n)}}function Ho(e,t,r,o,i,a,s,u,d,p){var f=8&t;t|=f?l:c,4&(t&=~(f?c:l))||(t&=-4);var h=[e,t,i,f?a:n,f?s:n,f?n:a,f?n:s,u,d,p],g=r.apply(n,h);return ji(e)&&Ri(g,h),g.placeholder=o,Ni(g,e,t)}function Go(e){var t=_e[e];return function(e,n){if(e=vl(e),(n=null==n?0:vn(bl(n),292))&&Yt(e)){var r=(kl(e)+"e").split("e");return+((r=(kl(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Ko=An&&1/un(new An([,-0]))[1]==d?function(e){return new An(e)}:dc;function qo(e){return function(t){var n=gi(t);return n==C?ln(t):n==I?function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zo(e,t,o,d,p,f,h,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Re(r);var b=d?d.length:0;if(b||(t&=-97,d=p=n),h=h===n?h:yn(bl(h),0),g=g===n?g:bl(g),b-=p?p.length:0,t&c){var y=d,v=p;d=p=n}var x=m?n:ai(e),k=[e,t,o,d,p,y,v,f,h,g];if(x&&function(e,t){var n=e[1],r=t[1],o=n|r,a=o<131,l=r==s&&8==n||r==s&&n==u&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!l)return e;1&r&&(e[2]=t[2],o|=1&n?0:4);var c=t[3];if(c){var d=e[3];e[3]=d?Io(d,c,t[4]):c,e[4]=d?sn(e[3],i):t[4]}(c=t[5])&&(d=e[5],e[5]=d?Do(d,c,t[6]):c,e[6]=d?sn(e[5],i):t[6]),(c=t[7])&&(e[7]=c),r&s&&(e[8]=null==e[8]?t[8]:vn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o}(k,x),e=k[0],t=k[1],o=k[2],d=k[3],p=k[4],!(g=k[9]=k[9]===n?m?0:e.length:yn(k[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)j=8==t||t==a?function(e,t,r){var o=Po(e);return function i(){for(var a=arguments.length,l=je(a),c=a,s=ci(i);c--;)l[c]=arguments[c];var u=a<3&&l[0]!==s&&l[a-1]!==s?[]:sn(l,s);return(a-=u.length)<r?Ho(e,t,Wo,i.placeholder,n,l,u,n,n,r-a):wt(this&&this!==ft&&this instanceof i?o:e,this,l)}}(e,t,g):t!=l&&33!=t||p.length?Wo.apply(n,k):function(e,t,n,r){var o=1&t,i=Po(e);return function t(){for(var a=-1,l=arguments.length,c=-1,s=r.length,u=je(s+l),d=this&&this!==ft&&this instanceof t?i:e;++c<s;)u[c]=r[c];for(;l--;)u[c++]=arguments[++a];return wt(d,o?n:this,u)}}(e,t,o,d);else var j=function(e,t,n){var r=1&t,o=Po(e);return function t(){return(this&&this!==ft&&this instanceof t?o:e).apply(r?n:this,arguments)}}(e,t,o);return Ni((x?eo:Ri)(j,k),e,t)}function Qo(e,t,r,o){return e===n||Ma(e,Ne[r])&&!Fe.call(o,r)?t:e}function ei(e,t,r,o,i,a){return rl(e)&&rl(t)&&(a.set(t,e),$r(e,t,n,ei,a),a.delete(t)),e}function ti(e){return ll(e)?n:e}function ni(e,t,r,o,i,a){var l=1&r,c=e.length,s=t.length;if(c!=s&&!(l&&s>c))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var p=-1,f=!0,h=2&r?new Hn:n;for(a.set(e,t),a.set(t,e);++p<c;){var g=e[p],m=t[p];if(o)var b=l?o(m,g,p,t,e,a):o(g,m,p,e,t,a);if(b!==n){if(b)continue;f=!1;break}if(h){if(!Lt(t,(function(e,t){if(!Qt(h,t)&&(g===e||i(g,e,r,o,a)))return h.push(t)}))){f=!1;break}}else if(g!==m&&!i(g,m,r,o,a)){f=!1;break}}return a.delete(e),a.delete(t),f}function ri(e){return Ei(Ai(e,n,Hi),e+"")}function oi(e){return Tr(e,Sl,fi)}function ii(e){return Tr(e,Bl,hi)}var ai=Rn?function(e){return Rn.get(e)}:dc;function li(e){for(var t=e.name+"",n=On[t],r=Fe.call(On,t)?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function ci(e){return(Fe.call(zn,"placeholder")?zn:e).placeholder}function si(){var e=zn.iteratee||lc;return e=e===lc?Br:e,arguments.length?e(arguments[0],arguments[1]):e}function ui(e,t){var n,r,o=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof t?"string":"hash"]:o.map}function di(e){for(var t=Sl(e),n=t.length;n--;){var r=t[n],o=e[r];t[n]=[r,o,wi(o)]}return t}function pi(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Sr(r)?r:n}var fi=yt?function(e){return null==e?[]:(e=Ae(e),Rt(yt(e),(function(t){return Ge.call(e,t)})))}:yc,hi=yt?function(e){for(var t=[];e;)St(t,fi(e)),e=Je(e);return t}:yc,gi=wr;function mi(e,t,n){for(var r=-1,o=(t=xo(t,e)).length,i=!1;++r<o;){var a=zi(t[r]);if(!(i=null!=e&&n(e,a)))break;e=e[a]}return i||++r!=o?i:!!(o=null==e?0:e.length)&&nl(o)&&vi(a,o)&&(Ja(e)||Ya(e))}function bi(e){return"function"!=typeof e.constructor||Ti(e)?{}:Wn(Je(e))}function yi(e){return Ja(e)||Ya(e)||!!(qe&&e&&e[qe])}function vi(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&ye.test(e))&&e>-1&&e%1==0&&e<t}function xi(e,t,n){if(!rl(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&vi(t,n.length):"string"==r&&t in n)&&Ma(n[t],e)}function ki(e,t){if(Ja(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!dl(e))||ee.test(e)||!Q.test(e)||null!=t&&e in Ae(t)}function ji(e){var t=li(e),n=zn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ai(n);return!!r&&e===r[0]}(Tn&&gi(new Tn(new ArrayBuffer(1)))!=N||wn&&gi(new wn)!=C||_n&&gi(_n.resolve())!=_||An&&gi(new An)!=I||In&&gi(new In)!=O)&&(gi=function(e){var t=wr(e),r=t==w?e.constructor:n,o=r?Wi(r):"";if(o)switch(o){case En:return N;case Nn:return C;case Sn:return _;case Bn:return I;case Fn:return O}return t});var Ci=Se?el:vc;function Ti(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function wi(e){return e==e&&!rl(e)}function _i(e,t){return function(r){return null!=r&&r[e]===t&&(t!==n||e in Ae(r))}}function Ai(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=yn(n.length-t,0),a=je(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=je(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),wt(e,this,l)}}function Ii(e,t){return t.length<2?e:Cr(e,ro(t,0,-1))}function Di(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ri=Si(eo),Oi=ht||function(e,t){return ft.setTimeout(e,t)},Ei=Si(to);function Ni(e,t,n){var r=t+"";return Ei(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return At(g,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(le);return t?t[1].split(ce):[]}(r),n)))}function Si(e){var t=0,r=0;return function(){var o=xn(),i=16-(o-r);if(r=o,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Bi(e,t){var r=-1,o=e.length,i=o-1;for(t=t===n?o:t;++r<t;){var a=Hr(r,i),l=e[a];e[a]=e[r],e[r]=l}return e.length=t,e}var Fi,Li,Pi,Ui=(Fi=function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,o){t.push(r?o.replace(de,"$1"):n||e)})),t},Li=La(Fi,(function(e){return 500===Pi.size&&Pi.clear(),e})),Pi=Li.cache,Li);function zi(e){if("string"==typeof e||dl(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Wi(e){if(null!=e){try{return Be.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function $i(e){if(e instanceof Vn)return e.clone();var t=new Mn(e.__wrapped__,e.__chain__);return t.__actions__=Ro(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Mi=Kr((function(e,t){return Ka(e)?dr(e,br(t,1,Ka,!0)):[]})),Vi=Kr((function(e,t){var r=Qi(t);return Ka(r)&&(r=n),Ka(e)?dr(e,br(t,1,Ka,!0),si(r,2)):[]})),Xi=Kr((function(e,t){var r=Qi(t);return Ka(r)&&(r=n),Ka(e)?dr(e,br(t,1,Ka,!0),n,r):[]}));function Yi(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:bl(n);return o<0&&(o=yn(r+o,0)),zt(e,si(t,3),o)}function Ji(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o-1;return r!==n&&(i=bl(r),i=r<0?yn(o+i,0):vn(i,o-1)),zt(e,si(t,3),i,!0)}function Hi(e){return null!=e&&e.length?br(e,1):[]}function Gi(e){return e&&e.length?e[0]:n}var Ki=Kr((function(e){var t=Nt(e,yo);return t.length&&t[0]===e[0]?Dr(t):[]})),qi=Kr((function(e){var t=Qi(e),r=Nt(e,yo);return t===Qi(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Dr(r,si(t,2)):[]})),Zi=Kr((function(e){var t=Qi(e),r=Nt(e,yo);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Dr(r,n,t):[]}));function Qi(e){var t=null==e?0:e.length;return t?e[t-1]:n}var ea=Kr(ta);function ta(e,t){return e&&e.length&&t&&t.length?Yr(e,t):e}var na=ri((function(e,t){var n=null==e?0:e.length,r=ar(e,t);return Jr(e,Nt(t,(function(e){return vi(e,n)?+e:e})).sort(Ao)),r}));function ra(e){return null==e?e:Cn.call(e)}var oa=Kr((function(e){return uo(br(e,1,Ka,!0))})),ia=Kr((function(e){var t=Qi(e);return Ka(t)&&(t=n),uo(br(e,1,Ka,!0),si(t,2))})),aa=Kr((function(e){var t=Qi(e);return t="function"==typeof t?t:n,uo(br(e,1,Ka,!0),n,t)}));function la(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ka(e))return t=yn(e.length,t),!0})),Gt(t,(function(t){return Nt(e,Xt(t))}))}function ca(e,t){if(!e||!e.length)return[];var r=la(e);return null==t?r:Nt(r,(function(e){return wt(t,n,e)}))}var sa=Kr((function(e,t){return Ka(e)?dr(e,t):[]})),ua=Kr((function(e){return mo(Rt(e,Ka))})),da=Kr((function(e){var t=Qi(e);return Ka(t)&&(t=n),mo(Rt(e,Ka),si(t,2))})),pa=Kr((function(e){var t=Qi(e);return t="function"==typeof t?t:n,mo(Rt(e,Ka),n,t)})),fa=Kr(la),ha=Kr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,ca(e,r)}));function ga(e){var t=zn(e);return t.__chain__=!0,t}function ma(e,t){return t(e)}var ba=ri((function(e){var t=e.length,r=t?e[0]:0,o=this.__wrapped__,i=function(t){return ar(t,e)};return!(t>1||this.__actions__.length)&&o instanceof Vn&&vi(r)?((o=o.slice(r,+r+(t?1:0))).__actions__.push({func:ma,args:[i],thisArg:n}),new Mn(o,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(i)})),ya=Eo((function(e,t,n){Fe.call(e,n)?++e[n]:ir(e,n,1)})),va=Uo(Yi),xa=Uo(Ji);function ka(e,t){return(Ja(e)?At:pr)(e,si(t,3))}function ja(e,t){return(Ja(e)?It:fr)(e,si(t,3))}var Ca=Eo((function(e,t,n){Fe.call(e,n)?e[n].push(t):ir(e,n,[t])})),Ta=Kr((function(e,t,n){var r=-1,o="function"==typeof t,i=Ga(e)?je(e.length):[];return pr(e,(function(e){i[++r]=o?wt(t,e,n):Rr(e,t,n)})),i})),wa=Eo((function(e,t,n){ir(e,n,t)}));function _a(e,t){return(Ja(e)?Nt:Ur)(e,si(t,3))}var Aa=Eo((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),Ia=Kr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&xi(e,t[0],t[1])?t=[]:n>2&&xi(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,br(t,1),[])})),Da=pt||function(){return ft.Date.now()};function Ra(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Zo(e,s,n,n,n,n,t)}function Oa(e,t){var o;if("function"!=typeof t)throw new Re(r);return e=bl(e),function(){return--e>0&&(o=t.apply(this,arguments)),e<=1&&(t=n),o}}var Ea=Kr((function(e,t,n){var r=1;if(n.length){var o=sn(n,ci(Ea));r|=l}return Zo(e,r,t,n,o)})),Na=Kr((function(e,t,n){var r=3;if(n.length){var o=sn(n,ci(Na));r|=l}return Zo(t,r,e,n,o)}));function Sa(e,t,o){var i,a,l,c,s,u,d=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new Re(r);function g(t){var r=i,o=a;return i=a=n,d=t,c=e.apply(o,r)}function m(e){var r=e-u;return u===n||r>=t||r<0||f&&e-d>=l}function b(){var e=Da();if(m(e))return y(e);s=Oi(b,function(e){var n=t-(e-u);return f?vn(n,l-(e-d)):n}(e))}function y(e){return s=n,h&&i?g(e):(i=a=n,c)}function v(){var e=Da(),r=m(e);if(i=arguments,a=this,u=e,r){if(s===n)return function(e){return d=e,s=Oi(b,t),p?g(e):c}(u);if(f)return Co(s),s=Oi(b,t),g(u)}return s===n&&(s=Oi(b,t)),c}return t=vl(t)||0,rl(o)&&(p=!!o.leading,l=(f="maxWait"in o)?yn(vl(o.maxWait)||0,t):l,h="trailing"in o?!!o.trailing:h),v.cancel=function(){s!==n&&Co(s),d=0,i=u=a=s=n},v.flush=function(){return s===n?c:y(Da())},v}var Ba=Kr((function(e,t){return ur(e,1,t)})),Fa=Kr((function(e,t,n){return ur(e,vl(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Re(r);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(La.Cache||Jn),n}function Pa(e){if("function"!=typeof e)throw new Re(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Jn;var Ua=ko((function(e,t){var n=(t=1==t.length&&Ja(t[0])?Nt(t[0],qt(si())):Nt(br(t,1),qt(si()))).length;return Kr((function(r){for(var o=-1,i=vn(r.length,n);++o<i;)r[o]=t[o].call(this,r[o]);return wt(e,this,r)}))})),za=Kr((function(e,t){var r=sn(t,ci(za));return Zo(e,l,n,t,r)})),Wa=Kr((function(e,t){var r=sn(t,ci(Wa));return Zo(e,c,n,t,r)})),$a=ri((function(e,t){return Zo(e,u,n,n,n,t)}));function Ma(e,t){return e===t||e!=e&&t!=t}var Va=Jo(_r),Xa=Jo((function(e,t){return e>=t})),Ya=Or(function(){return arguments}())?Or:function(e){return ol(e)&&Fe.call(e,"callee")&&!Ge.call(e,"callee")},Ja=je.isArray,Ha=vt?qt(vt):function(e){return ol(e)&&wr(e)==E};function Ga(e){return null!=e&&nl(e.length)&&!el(e)}function Ka(e){return ol(e)&&Ga(e)}var qa=Pt||vc,Za=xt?qt(xt):function(e){return ol(e)&&wr(e)==v};function Qa(e){if(!ol(e))return!1;var t=wr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ll(e)}function el(e){if(!rl(e))return!1;var t=wr(e);return t==k||t==j||"[object AsyncFunction]"==t||"[object Proxy]"==t}function tl(e){return"number"==typeof e&&e==bl(e)}function nl(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function rl(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ol(e){return null!=e&&"object"==typeof e}var il=kt?qt(kt):function(e){return ol(e)&&gi(e)==C};function al(e){return"number"==typeof e||ol(e)&&wr(e)==T}function ll(e){if(!ol(e)||wr(e)!=w)return!1;var t=Je(e);if(null===t)return!0;var n=Fe.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Be.call(n)==ze}var cl=jt?qt(jt):function(e){return ol(e)&&wr(e)==A},sl=Ct?qt(Ct):function(e){return ol(e)&&gi(e)==I};function ul(e){return"string"==typeof e||!Ja(e)&&ol(e)&&wr(e)==D}function dl(e){return"symbol"==typeof e||ol(e)&&wr(e)==R}var pl=Tt?qt(Tt):function(e){return ol(e)&&nl(e.length)&&!!at[wr(e)]},fl=Jo(Pr),hl=Jo((function(e,t){return e<=t}));function gl(e){if(!e)return[];if(Ga(e))return ul(e)?pn(e):Ro(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=gi(e);return(t==C?ln:t==I?un:Ml)(e)}function ml(e){return e?(e=vl(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function bl(e){var t=ml(e),n=t%1;return t==t?n?t-n:t:0}function yl(e){return e?lr(bl(e),0,h):0}function vl(e){if("number"==typeof e)return e;if(dl(e))return f;if(rl(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=rl(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Kt(e);var n=ge.test(e);return n||be.test(e)?ut(e.slice(2),n?2:8):he.test(e)?f:+e}function xl(e){return Oo(e,Bl(e))}function kl(e){return null==e?"":so(e)}var jl=No((function(e,t){if(Ti(t)||Ga(t))Oo(t,Sl(t),e);else for(var n in t)Fe.call(t,n)&&tr(e,n,t[n])})),Cl=No((function(e,t){Oo(t,Bl(t),e)})),Tl=No((function(e,t,n,r){Oo(t,Bl(t),e,r)})),wl=No((function(e,t,n,r){Oo(t,Sl(t),e,r)})),_l=ri(ar),Al=Kr((function(e,t){e=Ae(e);var r=-1,o=t.length,i=o>2?t[2]:n;for(i&&xi(t[0],t[1],i)&&(o=1);++r<o;)for(var a=t[r],l=Bl(a),c=-1,s=l.length;++c<s;){var u=l[c],d=e[u];(d===n||Ma(d,Ne[u])&&!Fe.call(e,u))&&(e[u]=a[u])}return e})),Il=Kr((function(e){return e.push(n,ei),wt(Ll,n,e)}));function Dl(e,t,r){var o=null==e?n:Cr(e,t);return o===n?r:o}function Rl(e,t){return null!=e&&mi(e,t,Ir)}var Ol=$o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),e[t]=n}),rc(ac)),El=$o((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ue.call(t)),Fe.call(e,t)?e[t].push(n):e[t]=[n]}),si),Nl=Kr(Rr);function Sl(e){return Ga(e)?Kn(e):Fr(e)}function Bl(e){return Ga(e)?Kn(e,!0):Lr(e)}var Fl=No((function(e,t,n){$r(e,t,n)})),Ll=No((function(e,t,n,r){$r(e,t,n,r)})),Pl=ri((function(e,t){var n={};if(null==e)return n;var r=!1;t=Nt(t,(function(t){return t=xo(t,e),r||(r=t.length>1),t})),Oo(e,ii(e),n),r&&(n=cr(n,7,ti));for(var o=t.length;o--;)po(n,t[o]);return n})),Ul=ri((function(e,t){return null==e?{}:function(e,t){return Xr(e,t,(function(t,n){return Rl(e,n)}))}(e,t)}));function zl(e,t){if(null==e)return{};var n=Nt(ii(e),(function(e){return[e]}));return t=si(t),Xr(e,n,(function(e,n){return t(e,n[0])}))}var Wl=qo(Sl),$l=qo(Bl);function Ml(e){return null==e?[]:Zt(e,Sl(e))}var Vl=Lo((function(e,t,n){return t=t.toLowerCase(),e+(n?Xl(t):t)}));function Xl(e){return Ql(kl(e).toLowerCase())}function Yl(e){return(e=kl(e))&&e.replace(ve,nn).replace(Qe,"")}var Jl=Lo((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hl=Lo((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gl=Fo("toLowerCase"),Kl=Lo((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),ql=Lo((function(e,t,n){return e+(n?" ":"")+Ql(t)})),Zl=Lo((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ql=Fo("toUpperCase");function ec(e,t,r){return e=kl(e),(t=r?n:t)===n?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(se)||[]}(e):e.match(t)||[]}var tc=Kr((function(e,t){try{return wt(e,n,t)}catch(r){return Qa(r)?r:new Te(r)}})),nc=ri((function(e,t){return At(t,(function(t){t=zi(t),ir(e,t,Ea(e[t],e))})),e}));function rc(e){return function(){return e}}var oc=zo(),ic=zo(!0);function ac(e){return e}function lc(e){return Br("function"==typeof e?e:cr(e,1))}var cc=Kr((function(e,t){return function(n){return Rr(n,e,t)}})),sc=Kr((function(e,t){return function(n){return Rr(e,n,t)}}));function uc(e,t,n){var r=Sl(t),o=jr(t,r);null!=n||rl(t)&&(o.length||!r.length)||(n=t,t=e,e=this,o=jr(t,Sl(t)));var i=!(rl(n)&&"chain"in n&&!n.chain),a=el(e);return At(o,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=Ro(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,St([this.value()],arguments))})})),e}function dc(){}var pc=Vo(Nt),fc=Vo(Dt),hc=Vo(Lt);function gc(e){return ki(e)?Xt(zi(e)):function(e){return function(t){return Cr(t,e)}}(e)}var mc=Yo(),bc=Yo(!0);function yc(){return[]}function vc(){return!1}var xc,kc=Mo((function(e,t){return e+t}),0),jc=Go("ceil"),Cc=Mo((function(e,t){return e/t}),1),Tc=Go("floor"),wc=Mo((function(e,t){return e*t}),1),_c=Go("round"),Ac=Mo((function(e,t){return e-t}),0);return zn.after=function(e,t){if("function"!=typeof t)throw new Re(r);return e=bl(e),function(){if(--e<1)return t.apply(this,arguments)}},zn.ary=Ra,zn.assign=jl,zn.assignIn=Cl,zn.assignInWith=Tl,zn.assignWith=wl,zn.at=_l,zn.before=Oa,zn.bind=Ea,zn.bindAll=nc,zn.bindKey=Na,zn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ja(e)?e:[e]},zn.chain=ga,zn.chunk=function(e,t,r){t=(r?xi(e,t,r):t===n)?1:yn(bl(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var i=0,a=0,l=je(gt(o/t));i<o;)l[a++]=ro(e,i,i+=t);return l},zn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o},zn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=je(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return St(Ja(n)?Ro(n):[n],br(t,1))},zn.cond=function(e){var t=null==e?0:e.length,n=si();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Re(r);return[n(e[0]),e[1]]})):[],Kr((function(n){for(var r=-1;++r<t;){var o=e[r];if(wt(o[0],this,n))return wt(o[1],this,n)}}))},zn.conforms=function(e){return function(e){var t=Sl(e);return function(n){return sr(n,e,t)}}(cr(e,1))},zn.constant=rc,zn.countBy=ya,zn.create=function(e,t){var n=Wn(e);return null==t?n:or(n,t)},zn.curry=function e(t,r,o){var i=Zo(t,8,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},zn.curryRight=function e(t,r,o){var i=Zo(t,a,n,n,n,n,n,r=o?n:r);return i.placeholder=e.placeholder,i},zn.debounce=Sa,zn.defaults=Al,zn.defaultsDeep=Il,zn.defer=Ba,zn.delay=Fa,zn.difference=Mi,zn.differenceBy=Vi,zn.differenceWith=Xi,zn.drop=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,(t=r||t===n?1:bl(t))<0?0:t,o):[]},zn.dropRight=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,0,(t=o-(t=r||t===n?1:bl(t)))<0?0:t):[]},zn.dropRightWhile=function(e,t){return e&&e.length?ho(e,si(t,3),!0,!0):[]},zn.dropWhile=function(e,t){return e&&e.length?ho(e,si(t,3),!0):[]},zn.fill=function(e,t,r,o){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&xi(e,t,r)&&(r=0,o=i),function(e,t,r,o){var i=e.length;for((r=bl(r))<0&&(r=-r>i?0:i+r),(o=o===n||o>i?i:bl(o))<0&&(o+=i),o=r>o?0:yl(o);r<o;)e[r++]=t;return e}(e,t,r,o)):[]},zn.filter=function(e,t){return(Ja(e)?Rt:mr)(e,si(t,3))},zn.flatMap=function(e,t){return br(_a(e,t),1)},zn.flatMapDeep=function(e,t){return br(_a(e,t),d)},zn.flatMapDepth=function(e,t,r){return r=r===n?1:bl(r),br(_a(e,t),r)},zn.flatten=Hi,zn.flattenDeep=function(e){return null!=e&&e.length?br(e,d):[]},zn.flattenDepth=function(e,t){return null!=e&&e.length?br(e,t=t===n?1:bl(t)):[]},zn.flip=function(e){return Zo(e,512)},zn.flow=oc,zn.flowRight=ic,zn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var o=e[t];r[o[0]]=o[1]}return r},zn.functions=function(e){return null==e?[]:jr(e,Sl(e))},zn.functionsIn=function(e){return null==e?[]:jr(e,Bl(e))},zn.groupBy=Ca,zn.initial=function(e){return null!=e&&e.length?ro(e,0,-1):[]},zn.intersection=Ki,zn.intersectionBy=qi,zn.intersectionWith=Zi,zn.invert=Ol,zn.invertBy=El,zn.invokeMap=Ta,zn.iteratee=lc,zn.keyBy=wa,zn.keys=Sl,zn.keysIn=Bl,zn.map=_a,zn.mapKeys=function(e,t){var n={};return t=si(t,3),xr(e,(function(e,r,o){ir(n,t(e,r,o),e)})),n},zn.mapValues=function(e,t){var n={};return t=si(t,3),xr(e,(function(e,r,o){ir(n,r,t(e,r,o))})),n},zn.matches=function(e){return zr(cr(e,1))},zn.matchesProperty=function(e,t){return Wr(e,cr(t,1))},zn.memoize=La,zn.merge=Fl,zn.mergeWith=Ll,zn.method=cc,zn.methodOf=sc,zn.mixin=uc,zn.negate=Pa,zn.nthArg=function(e){return e=bl(e),Kr((function(t){return Mr(t,e)}))},zn.omit=Pl,zn.omitBy=function(e,t){return zl(e,Pa(si(t)))},zn.once=function(e){return Oa(2,e)},zn.orderBy=function(e,t,r,o){return null==e?[]:(Ja(t)||(t=null==t?[]:[t]),Ja(r=o?n:r)||(r=null==r?[]:[r]),Vr(e,t,r))},zn.over=pc,zn.overArgs=Ua,zn.overEvery=fc,zn.overSome=hc,zn.partial=za,zn.partialRight=Wa,zn.partition=Aa,zn.pick=Ul,zn.pickBy=zl,zn.property=gc,zn.propertyOf=function(e){return function(t){return null==e?n:Cr(e,t)}},zn.pull=ea,zn.pullAll=ta,zn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Yr(e,t,si(n,2)):e},zn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Yr(e,t,n,r):e},zn.pullAt=na,zn.range=mc,zn.rangeRight=bc,zn.rearg=$a,zn.reject=function(e,t){return(Ja(e)?Rt:mr)(e,Pa(si(t,3)))},zn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,o=[],i=e.length;for(t=si(t,3);++r<i;){var a=e[r];t(a,r,e)&&(n.push(a),o.push(r))}return Jr(e,o),n},zn.rest=function(e,t){if("function"!=typeof e)throw new Re(r);return Kr(e,t=t===n?t:bl(t))},zn.reverse=ra,zn.sampleSize=function(e,t,r){return t=(r?xi(e,t,r):t===n)?1:bl(t),(Ja(e)?Zn:Zr)(e,t)},zn.set=function(e,t,n){return null==e?e:Qr(e,t,n)},zn.setWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:Qr(e,t,r,o)},zn.shuffle=function(e){return(Ja(e)?Qn:no)(e)},zn.slice=function(e,t,r){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&xi(e,t,r)?(t=0,r=o):(t=null==t?0:bl(t),r=r===n?o:bl(r)),ro(e,t,r)):[]},zn.sortBy=Ia,zn.sortedUniq=function(e){return e&&e.length?lo(e):[]},zn.sortedUniqBy=function(e,t){return e&&e.length?lo(e,si(t,2)):[]},zn.split=function(e,t,r){return r&&"number"!=typeof r&&xi(e,t,r)&&(t=r=n),(r=r===n?h:r>>>0)?(e=kl(e))&&("string"==typeof t||null!=t&&!cl(t))&&!(t=so(t))&&an(e)?jo(pn(e),0,r):e.split(t,r):[]},zn.spread=function(e,t){if("function"!=typeof e)throw new Re(r);return t=null==t?0:yn(bl(t),0),Kr((function(n){var r=n[t],o=jo(n,0,t);return r&&St(o,r),wt(e,this,o)}))},zn.tail=function(e){var t=null==e?0:e.length;return t?ro(e,1,t):[]},zn.take=function(e,t,r){return e&&e.length?ro(e,0,(t=r||t===n?1:bl(t))<0?0:t):[]},zn.takeRight=function(e,t,r){var o=null==e?0:e.length;return o?ro(e,(t=o-(t=r||t===n?1:bl(t)))<0?0:t,o):[]},zn.takeRightWhile=function(e,t){return e&&e.length?ho(e,si(t,3),!1,!0):[]},zn.takeWhile=function(e,t){return e&&e.length?ho(e,si(t,3)):[]},zn.tap=function(e,t){return t(e),e},zn.throttle=function(e,t,n){var o=!0,i=!0;if("function"!=typeof e)throw new Re(r);return rl(n)&&(o="leading"in n?!!n.leading:o,i="trailing"in n?!!n.trailing:i),Sa(e,t,{leading:o,maxWait:t,trailing:i})},zn.thru=ma,zn.toArray=gl,zn.toPairs=Wl,zn.toPairsIn=$l,zn.toPath=function(e){return Ja(e)?Nt(e,zi):dl(e)?[e]:Ro(Ui(kl(e)))},zn.toPlainObject=xl,zn.transform=function(e,t,n){var r=Ja(e),o=r||qa(e)||pl(e);if(t=si(t,4),null==n){var i=e&&e.constructor;n=o?r?new i:[]:rl(e)&&el(i)?Wn(Je(e)):{}}return(o?At:xr)(e,(function(e,r,o){return t(n,e,r,o)})),n},zn.unary=function(e){return Ra(e,1)},zn.union=oa,zn.unionBy=ia,zn.unionWith=aa,zn.uniq=function(e){return e&&e.length?uo(e):[]},zn.uniqBy=function(e,t){return e&&e.length?uo(e,si(t,2)):[]},zn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?uo(e,n,t):[]},zn.unset=function(e,t){return null==e||po(e,t)},zn.unzip=la,zn.unzipWith=ca,zn.update=function(e,t,n){return null==e?e:fo(e,t,vo(n))},zn.updateWith=function(e,t,r,o){return o="function"==typeof o?o:n,null==e?e:fo(e,t,vo(r),o)},zn.values=Ml,zn.valuesIn=function(e){return null==e?[]:Zt(e,Bl(e))},zn.without=sa,zn.words=ec,zn.wrap=function(e,t){return za(vo(t),e)},zn.xor=ua,zn.xorBy=da,zn.xorWith=pa,zn.zip=fa,zn.zipObject=function(e,t){return bo(e||[],t||[],tr)},zn.zipObjectDeep=function(e,t){return bo(e||[],t||[],Qr)},zn.zipWith=ha,zn.entries=Wl,zn.entriesIn=$l,zn.extend=Cl,zn.extendWith=Tl,uc(zn,zn),zn.add=kc,zn.attempt=tc,zn.camelCase=Vl,zn.capitalize=Xl,zn.ceil=jc,zn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=vl(r))==r?r:0),t!==n&&(t=(t=vl(t))==t?t:0),lr(vl(e),t,r)},zn.clone=function(e){return cr(e,4)},zn.cloneDeep=function(e){return cr(e,5)},zn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},zn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},zn.conformsTo=function(e,t){return null==t||sr(e,t,Sl(t))},zn.deburr=Yl,zn.defaultTo=function(e,t){return null==e||e!=e?t:e},zn.divide=Cc,zn.endsWith=function(e,t,r){e=kl(e),t=so(t);var o=e.length,i=r=r===n?o:lr(bl(r),0,o);return(r-=t.length)>=0&&e.slice(r,i)==t},zn.eq=Ma,zn.escape=function(e){return(e=kl(e))&&G.test(e)?e.replace(J,rn):e},zn.escapeRegExp=function(e){return(e=kl(e))&&re.test(e)?e.replace(ne,"\\$&"):e},zn.every=function(e,t,r){var o=Ja(e)?Dt:hr;return r&&xi(e,t,r)&&(t=n),o(e,si(t,3))},zn.find=va,zn.findIndex=Yi,zn.findKey=function(e,t){return Ut(e,si(t,3),xr)},zn.findLast=xa,zn.findLastIndex=Ji,zn.findLastKey=function(e,t){return Ut(e,si(t,3),kr)},zn.floor=Tc,zn.forEach=ka,zn.forEachRight=ja,zn.forIn=function(e,t){return null==e?e:yr(e,si(t,3),Bl)},zn.forInRight=function(e,t){return null==e?e:vr(e,si(t,3),Bl)},zn.forOwn=function(e,t){return e&&xr(e,si(t,3))},zn.forOwnRight=function(e,t){return e&&kr(e,si(t,3))},zn.get=Dl,zn.gt=Va,zn.gte=Xa,zn.has=function(e,t){return null!=e&&mi(e,t,Ar)},zn.hasIn=Rl,zn.head=Gi,zn.identity=ac,zn.includes=function(e,t,n,r){e=Ga(e)?e:Ml(e),n=n&&!r?bl(n):0;var o=e.length;return n<0&&(n=yn(o+n,0)),ul(e)?n<=o&&e.indexOf(t,n)>-1:!!o&&Wt(e,t,n)>-1},zn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=null==n?0:bl(n);return o<0&&(o=yn(r+o,0)),Wt(e,t,o)},zn.inRange=function(e,t,r){return t=ml(t),r===n?(r=t,t=0):r=ml(r),function(e,t,n){return e>=vn(t,n)&&e<yn(t,n)}(e=vl(e),t,r)},zn.invoke=Nl,zn.isArguments=Ya,zn.isArray=Ja,zn.isArrayBuffer=Ha,zn.isArrayLike=Ga,zn.isArrayLikeObject=Ka,zn.isBoolean=function(e){return!0===e||!1===e||ol(e)&&wr(e)==y},zn.isBuffer=qa,zn.isDate=Za,zn.isElement=function(e){return ol(e)&&1===e.nodeType&&!ll(e)},zn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Ja(e)||"string"==typeof e||"function"==typeof e.splice||qa(e)||pl(e)||Ya(e)))return!e.length;var t=gi(e);if(t==C||t==I)return!e.size;if(Ti(e))return!Fr(e).length;for(var n in e)if(Fe.call(e,n))return!1;return!0},zn.isEqual=function(e,t){return Er(e,t)},zn.isEqualWith=function(e,t,r){var o=(r="function"==typeof r?r:n)?r(e,t):n;return o===n?Er(e,t,n,r):!!o},zn.isError=Qa,zn.isFinite=function(e){return"number"==typeof e&&Yt(e)},zn.isFunction=el,zn.isInteger=tl,zn.isLength=nl,zn.isMap=il,zn.isMatch=function(e,t){return e===t||Nr(e,t,di(t))},zn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Nr(e,t,di(t),r)},zn.isNaN=function(e){return al(e)&&e!=+e},zn.isNative=function(e){if(Ci(e))throw new Te("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Sr(e)},zn.isNil=function(e){return null==e},zn.isNull=function(e){return null===e},zn.isNumber=al,zn.isObject=rl,zn.isObjectLike=ol,zn.isPlainObject=ll,zn.isRegExp=cl,zn.isSafeInteger=function(e){return tl(e)&&e>=-9007199254740991&&e<=p},zn.isSet=sl,zn.isString=ul,zn.isSymbol=dl,zn.isTypedArray=pl,zn.isUndefined=function(e){return e===n},zn.isWeakMap=function(e){return ol(e)&&gi(e)==O},zn.isWeakSet=function(e){return ol(e)&&"[object WeakSet]"==wr(e)},zn.join=function(e,t){return null==e?"":mn.call(e,t)},zn.kebabCase=Jl,zn.last=Qi,zn.lastIndexOf=function(e,t,r){var o=null==e?0:e.length;if(!o)return-1;var i=o;return r!==n&&(i=(i=bl(r))<0?yn(o+i,0):vn(i,o-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):zt(e,Mt,i,!0)},zn.lowerCase=Hl,zn.lowerFirst=Gl,zn.lt=fl,zn.lte=hl,zn.max=function(e){return e&&e.length?gr(e,ac,_r):n},zn.maxBy=function(e,t){return e&&e.length?gr(e,si(t,2),_r):n},zn.mean=function(e){return Vt(e,ac)},zn.meanBy=function(e,t){return Vt(e,si(t,2))},zn.min=function(e){return e&&e.length?gr(e,ac,Pr):n},zn.minBy=function(e,t){return e&&e.length?gr(e,si(t,2),Pr):n},zn.stubArray=yc,zn.stubFalse=vc,zn.stubObject=function(){return{}},zn.stubString=function(){return""},zn.stubTrue=function(){return!0},zn.multiply=wc,zn.nth=function(e,t){return e&&e.length?Mr(e,bl(t)):n},zn.noConflict=function(){return ft._===this&&(ft._=We),this},zn.noop=dc,zn.now=Da,zn.pad=function(e,t,n){e=kl(e);var r=(t=bl(t))?dn(e):0;if(!t||r>=t)return e;var o=(t-r)/2;return Xo(bt(o),n)+e+Xo(gt(o),n)},zn.padEnd=function(e,t,n){e=kl(e);var r=(t=bl(t))?dn(e):0;return t&&r<t?e+Xo(t-r,n):e},zn.padStart=function(e,t,n){e=kl(e);var r=(t=bl(t))?dn(e):0;return t&&r<t?Xo(t-r,n)+e:e},zn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(kl(e).replace(oe,""),t||0)},zn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&xi(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=ml(e),t===n?(t=e,e=0):t=ml(t)),e>t){var o=e;e=t,t=o}if(r||e%1||t%1){var i=jn();return vn(e+i*(t-e+st("1e-"+((i+"").length-1))),t)}return Hr(e,t)},zn.reduce=function(e,t,n){var r=Ja(e)?Bt:Jt,o=arguments.length<3;return r(e,si(t,4),n,o,pr)},zn.reduceRight=function(e,t,n){var r=Ja(e)?Ft:Jt,o=arguments.length<3;return r(e,si(t,4),n,o,fr)},zn.repeat=function(e,t,r){return t=(r?xi(e,t,r):t===n)?1:bl(t),Gr(kl(e),t)},zn.replace=function(){var e=arguments,t=kl(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zn.result=function(e,t,r){var o=-1,i=(t=xo(t,e)).length;for(i||(i=1,e=n);++o<i;){var a=null==e?n:e[zi(t[o])];a===n&&(o=i,a=r),e=el(a)?a.call(e):a}return e},zn.round=_c,zn.runInContext=e,zn.sample=function(e){return(Ja(e)?qn:qr)(e)},zn.size=function(e){if(null==e)return 0;if(Ga(e))return ul(e)?dn(e):e.length;var t=gi(e);return t==C||t==I?e.size:Fr(e).length},zn.snakeCase=Kl,zn.some=function(e,t,r){var o=Ja(e)?Lt:oo;return r&&xi(e,t,r)&&(t=n),o(e,si(t,3))},zn.sortedIndex=function(e,t){return io(e,t)},zn.sortedIndexBy=function(e,t,n){return ao(e,t,si(n,2))},zn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=io(e,t);if(r<n&&Ma(e[r],t))return r}return-1},zn.sortedLastIndex=function(e,t){return io(e,t,!0)},zn.sortedLastIndexBy=function(e,t,n){return ao(e,t,si(n,2),!0)},zn.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=io(e,t,!0)-1;if(Ma(e[n],t))return n}return-1},zn.startCase=ql,zn.startsWith=function(e,t,n){return e=kl(e),n=null==n?0:lr(bl(n),0,e.length),t=so(t),e.slice(n,n+t.length)==t},zn.subtract=Ac,zn.sum=function(e){return e&&e.length?Ht(e,ac):0},zn.sumBy=function(e,t){return e&&e.length?Ht(e,si(t,2)):0},zn.template=function(e,t,r){var o=zn.templateSettings;r&&xi(e,t,r)&&(t=n),e=kl(e),t=Tl({},t,o,Qo);var i,a,l=Tl({},t.imports,o.imports,Qo),c=Sl(l),s=Zt(l,c),u=0,d=t.interpolate||xe,p="__p += '",f=Ie((t.escape||xe).source+"|"+d.source+"|"+(d===Z?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),h="//# sourceURL="+(Fe.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++it+"]")+"\n";e.replace(f,(function(t,n,r,o,l,c){return r||(r=o),p+=e.slice(u,c).replace(ke,on),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),l&&(a=!0,p+="';\n"+l+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var g=Fe.call(t,"variable")&&t.variable;if(g){if(ue.test(g))throw new Te("Invalid `variable` option passed into `_.template`")}else p="with (obj) {\n"+p+"\n}\n";p=(a?p.replace(M,""):p).replace(V,"$1").replace(X,"$1;"),p="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var m=tc((function(){return we(c,h+"return "+p).apply(n,s)}));if(m.source=p,Qa(m))throw m;return m},zn.times=function(e,t){if((e=bl(e))<1||e>p)return[];var n=h,r=vn(e,h);t=si(t),e-=h;for(var o=Gt(r,t);++n<e;)t(n);return o},zn.toFinite=ml,zn.toInteger=bl,zn.toLength=yl,zn.toLower=function(e){return kl(e).toLowerCase()},zn.toNumber=vl,zn.toSafeInteger=function(e){return e?lr(bl(e),-9007199254740991,p):0===e?e:0},zn.toString=kl,zn.toUpper=function(e){return kl(e).toUpperCase()},zn.trim=function(e,t,r){if((e=kl(e))&&(r||t===n))return Kt(e);if(!e||!(t=so(t)))return e;var o=pn(e),i=pn(t);return jo(o,en(o,i),tn(o,i)+1).join("")},zn.trimEnd=function(e,t,r){if((e=kl(e))&&(r||t===n))return e.slice(0,fn(e)+1);if(!e||!(t=so(t)))return e;var o=pn(e);return jo(o,0,tn(o,pn(t))+1).join("")},zn.trimStart=function(e,t,r){if((e=kl(e))&&(r||t===n))return e.replace(oe,"");if(!e||!(t=so(t)))return e;var o=pn(e);return jo(o,en(o,pn(t))).join("")},zn.truncate=function(e,t){var r=30,o="...";if(rl(t)){var i="separator"in t?t.separator:i;r="length"in t?bl(t.length):r,o="omission"in t?so(t.omission):o}var a=(e=kl(e)).length;if(an(e)){var l=pn(e);a=l.length}if(r>=a)return e;var c=r-dn(o);if(c<1)return o;var s=l?jo(l,0,c).join(""):e.slice(0,c);if(i===n)return s+o;if(l&&(c+=s.length-c),cl(i)){if(e.slice(c).search(i)){var u,d=s;for(i.global||(i=Ie(i.source,kl(fe.exec(i))+"g")),i.lastIndex=0;u=i.exec(d);)var p=u.index;s=s.slice(0,p===n?c:p)}}else if(e.indexOf(so(i),c)!=c){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+o},zn.unescape=function(e){return(e=kl(e))&&H.test(e)?e.replace(Y,hn):e},zn.uniqueId=function(e){var t=++Le;return kl(e)+t},zn.upperCase=Zl,zn.upperFirst=Ql,zn.each=ka,zn.eachRight=ja,zn.first=Gi,uc(zn,(xc={},xr(zn,(function(e,t){Fe.call(zn.prototype,t)||(xc[t]=e)})),xc),{chain:!1}),zn.VERSION="4.17.21",At(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zn[e].placeholder=zn})),At(["drop","take"],(function(e,t){Vn.prototype[e]=function(r){r=r===n?1:yn(bl(r),0);var o=this.__filtered__&&!t?new Vn(this):this.clone();return o.__filtered__?o.__takeCount__=vn(r,o.__takeCount__):o.__views__.push({size:vn(r,h),type:e+(o.__dir__<0?"Right":"")}),o},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),At(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:si(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),At(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),At(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ac)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Kr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Rr(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Pa(si(e)))},Vn.prototype.slice=function(e,t){e=bl(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Vn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=bl(t))<0?r.dropRight(-t):r.take(t-e)),r)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(h)},xr(Vn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),i=zn[o?"take"+("last"==t?"Right":""):t],a=o||/^find/.test(t);i&&(zn.prototype[t]=function(){var t=this.__wrapped__,l=o?[1]:arguments,c=t instanceof Vn,s=l[0],u=c||Ja(t),d=function(e){var t=i.apply(zn,St([e],l));return o&&p?t[0]:t};u&&r&&"function"==typeof s&&1!=s.length&&(c=u=!1);var p=this.__chain__,f=!!this.__actions__.length,h=a&&!p,g=c&&!f;if(!a&&u){t=g?t:new Vn(this);var m=e.apply(t,l);return m.__actions__.push({func:ma,args:[d],thisArg:n}),new Mn(m,p)}return h&&g?e.apply(this,l):(m=this.thru(d),h?o?m.value()[0]:m.value():m)})})),At(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);zn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var o=this.value();return t.apply(Ja(o)?o:[],e)}return this[n]((function(n){return t.apply(Ja(n)?n:[],e)}))}})),xr(Vn.prototype,(function(e,t){var n=zn[t];if(n){var r=n.name+"";Fe.call(On,r)||(On[r]=[]),On[r].push({name:t,func:n})}})),On[Wo(n,2).name]=[{name:"wrapper",func:n}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Ro(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ro(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ro(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ja(e),r=t<0,o=n?e.length:0,i=function(e,t,n){for(var r=-1,o=n.length;++r<o;){var i=n[r],a=i.size;switch(i.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=vn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,o,this.__views__),a=i.start,l=i.end,c=l-a,s=r?l:a-1,u=this.__iteratees__,d=u.length,p=0,f=vn(c,this.__takeCount__);if(!n||!r&&o==c&&f==c)return go(e,this.__actions__);var h=[];e:for(;c--&&p<f;){for(var g=-1,m=e[s+=t];++g<d;){var b=u[g],y=b.iteratee,v=b.type,x=y(m);if(2==v)m=x;else if(!x){if(1==v)continue e;break e}}h[p++]=m}return h},zn.prototype.at=ba,zn.prototype.chain=function(){return ga(this)},zn.prototype.commit=function(){return new Mn(this.value(),this.__chain__)},zn.prototype.next=function(){this.__values__===n&&(this.__values__=gl(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},zn.prototype.plant=function(e){for(var t,r=this;r instanceof $n;){var o=$i(r);o.__index__=0,o.__values__=n,t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t},zn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:ma,args:[ra],thisArg:n}),new Mn(t,this.__chain__)}return this.thru(ra)},zn.prototype.toJSON=zn.prototype.valueOf=zn.prototype.value=function(){return go(this.__wrapped__,this.__actions__)},zn.prototype.first=zn.prototype.head,et&&(zn.prototype[et]=function(){return this}),zn}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(ft._=gn,define((function(){return gn}))):gt?((gt.exports=gn)._=gn,ht._=gn):ft._=gn}).call(e)}},function(){return ut||(0,st[jn(st)[0]])((ut={exports:{}}).exports,ut),ut.exports}),Nn=(0,f.P)((0,p.Ay)("div",{shouldForwardProp:e=>!["minified","selected","color","focused","bounded"].includes(e)})({minWidth:150,display:"block"},(({minified:e,selected:t,color:n,focused:r,theme:o,bounded:i})=>({padding:e?0:"4px",backgroundColor:(0,c.X4)(r?(0,c.a)(n||"white",.1):n||"white",.8),backdropFilter:"blur(5px)",borderRadius:o.shape.borderRadius,WebkitBackdropFilter:"blur(5px)",width:i?"inherit":"max-content",flex:i?1:void 0,"&:hover":{backgroundColor:(0,c.X4)(r?(0,c.a)(n||"white",.1):n||"white",.95)},boxShadow:t&&r?`0pt 0pt 0pt 3pt ${(0,c.a)(o.palette.primary.main,.5)}`:t?`0pt 0pt 0pt 3pt ${o.palette.primary.main}`:r?`0pt 0pt 0pt 3pt ${(0,c.a)(n||"white",.5)}}`:void 0})))),Sn=(0,f.P)((0,p.Ay)(s.A,{shouldForwardProp:e=>!["bounded"].includes(e)})({minWidth:150,flex:1,flexDireaction:"row"},(({theme:e,bounded:t,focused:n})=>({borderRadius:e.shape.borderRadius,backdropFilter:"blur(5px)",WebkitBackdropFilter:"blur(5px)",width:t?"inherit":"max-content","&:hover":{backgroundColor:(0,c.X4)(e.palette.background.paper,.75)},boxShadow:n?`0pt 0pt 0pt 2pt ${(0,c.X4)(e.palette.primary.main,.5)}`:void 0})))),Bn=((0,p.Ay)("span")({all:"unset",flex:1,padding:3},(({theme:e})=>({color:(0,c.X4)(e.palette.text.primary,.8)}))),(0,p.Ay)("div")({padding:4},(({theme:e})=>({backgroundColor:(0,c.X4)(e.palette.background.paper,.7),borderTopLeftRadius:e.shape.borderRadius,borderBottomLeftRadius:e.shape.borderRadius,color:e.palette.text.disabled}))),(0,f.P)((0,p.Ay)(u.A)({boxShadow:"0 0 0 1px #dddddd55",color:"white",height:35,width:35,position:"relative"}))),Fn=(0,p.Ay)(d.A)({backgroundColor:"#00000055",marginBottom:"5px",marginLeft:"3px",marginRight:"3px",paddingLeft:"5px",paddingRight:"5px"}),Ln=(0,p.Ay)(d.A)({backgroundColor:"#ffffff20",marginBottom:"3px"}),Pn=(0,p.Ay)(s.A)({width:"100%"}),Un=((0,p.Ay)(s.A)({height:"100%"}),(0,r.forwardRef)((({data:e,bounded:t=!1,limitedRender:n,regionInfo:i,copyFn:a=(()=>{}),cutFn:l=(()=>{}),style:c},s)=>{const u=(0,o.cA)((e=>e.deleteBlock)),d=(0,o.cA)((e=>e.updateCommentText)),p=(0,o.cA)((0,r.useCallback)((t=>{var n,r;return(null==(r=null==(n=t.clipboard)?void 0:n.block)?void 0:r.id)===e.id&&"COPY"===t.clipboard.action}),[e.id])),f=(0,o.cA)((e=>e.updateItemEditing)),h=(0,o.cA)((e=>e.onVPEClick));return e?(0,m.jsx)(ct,{data:e,inner:[{label:"Copy",left:"ContentCopyRounded",type:"ENTRY",onClick:()=>{a()}},{label:"Cut",left:"ContentCutRounded",type:"ENTRY",onClick:()=>{l()}},{label:"Delete",left:"DeleteOutlineRounded",type:"ENTRY",onClick:()=>{u(e,i.parentId,i.fieldInfo)}}],children:(0,m.jsx)(Sn,{ref:s,direction:"row","aria-labelledby":`comment: ${e.text}`,onClick:t=>{h(e),t.stopPropagation()},bounded:t,focused:p,style:c,children:(0,m.jsx)(Se,{value:e.text,label:"#",extra:!n&&(0,m.jsx)(Ze,{data:e,inner:[{label:"Copy",left:"ContentCopyRounded",type:"ENTRY",onClick:()=>{a()}},{label:"Cut",left:"ContentCutRounded",type:"ENTRY",onClick:()=>{}},{label:"Delete",left:"DeleteOutlineRounded",type:"ENTRY",onClick:()=>{u(e,i.parentId,i.fieldInfo)}}]}),readonly:!e.editing,disableDrag:e.editing,onFocus:()=>f(e.id,!0),onBlur:()=>f(e.id,!1),onChange:t=>d(e.id,t.target.value)})})}):null}))),zn=(0,r.memo)((({id:e,staticData:t,regionInfo:n,dragDisabled:i=!1,bounded:c=!1,after:s,context:u=[],interactionDisabled:d=!1,limitedRender:p=!1})=>{const[f,h,g,b]=(0,o.cA)((n=>(0,o.jA)(n.programData,n.executionData,n.programSpec.objectTypes,t||e||""))),y=(0,o.cA)((e=>{var t;return(null==(t=e.clipboard.block)?void 0:t.id)===(null==f?void 0:f.id)&&"CUT"===e.clipboard.action})),v=(0,o.cA)((e=>e.copy)),x=(0,o.cA)((e=>e.cut)),k=(null==f?void 0:f.metaType)===o.UB.FunctionDeclaration?f.arguments:[],j=[...u,...k],[C,T,w]=(0,a.i)((()=>({type:(null==f?void 0:f.type)?f.type:"null",item:()=>(console.log("Dragging"),{data:f,typeSpec:h,regionInfo:n,context:j}),canDrag:!i&&!(null==f?void 0:f.editing),collect:e=>({isDragging:e.isDragging()})})),[f,h,n,i]);if((0,r.useEffect)((()=>{w((0,l.n)(),{captureDraggingState:!1})}),[w]),!f)return null;const _=()=>v({data:f,regionInfo:n,context:u}),A=()=>{console.log("cutting",f),x({data:f,regionInfo:n,context:u}),console.log("did cut")},I=![o.lJ].includes(n.parentId)&&C.isDragging||y||!1;return f.metaType===o.UB.Comment?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{hidden:I,style:{flex:1,display:I?"none":"flex"},onContextMenu:e=>e.stopPropagation(),children:(0,m.jsx)(Un,{ref:T,data:f,bounded:!0,regionInfo:n,copyFn:_,cutFn:A})}),(0,m.jsx)("div",{hidden:I,style:{display:I?"none":"flex"},children:s})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{hidden:I,style:{flex:1,display:I?"none":"flex"},onContextMenu:e=>e.stopPropagation(),children:(0,m.jsx)(Er,{data:f,refData:b||void 0,ref:T,typeSpec:h,bounded:c,context:j,interactionDisabled:d,regionInfo:n,progress:g,limitedRender:p,copyFn:_,cutFn:A})}),(0,m.jsx)("div",{hidden:I,style:{display:I?"none":"flex"},children:s})]})})),Wn=On(En()),$n={'code[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none"},'pre[class*="language-"]':{background:"hsl(220, 13%, 18%)",color:"hsl(220, 14%, 71%)",textShadow:"0 1px rgba(0, 0, 0, 0.3)",fontFamily:'"Fira Code", "Fira Mono", Menlo, Consolas, "DejaVu Sans Mono", monospace',direction:"ltr",textAlign:"left",whiteSpace:"pre",wordSpacing:"normal",wordBreak:"normal",lineHeight:"1.5",MozTabSize:"2",OTabSize:"2",tabSize:"2",WebkitHyphens:"none",MozHyphens:"none",msHyphens:"none",hyphens:"none",padding:"1em",margin:"0.5em 0",overflow:"auto",borderRadius:"0.3em"},'code[class*="language-"]::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::-moz-selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"]::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'code[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},'pre[class*="language-"] *::selection':{background:"hsl(220, 13%, 28%)",color:"inherit",textShadow:"none"},':not(pre) > code[class*="language-"]':{padding:"0.2em 0.3em",borderRadius:"0.3em",whiteSpace:"normal"},comment:{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},prolog:{color:"hsl(220, 10%, 40%)"},cdata:{color:"hsl(220, 10%, 40%)"},doctype:{color:"hsl(220, 14%, 71%)"},punctuation:{color:"hsl(220, 14%, 71%)"},entity:{color:"hsl(220, 14%, 71%)",cursor:"help"},"attr-name":{color:"hsl(29, 54%, 61%)"},"class-name":{color:"hsl(29, 54%, 61%)"},boolean:{color:"hsl(29, 54%, 61%)"},constant:{color:"hsl(29, 54%, 61%)"},number:{color:"hsl(29, 54%, 61%)"},atrule:{color:"hsl(29, 54%, 61%)"},keyword:{color:"hsl(286, 60%, 67%)"},property:{color:"hsl(355, 65%, 65%)"},tag:{color:"hsl(355, 65%, 65%)"},symbol:{color:"hsl(355, 65%, 65%)"},deleted:{color:"hsl(355, 65%, 65%)"},important:{color:"hsl(355, 65%, 65%)"},selector:{color:"hsl(95, 38%, 62%)"},string:{color:"hsl(95, 38%, 62%)"},char:{color:"hsl(95, 38%, 62%)"},builtin:{color:"hsl(95, 38%, 62%)"},inserted:{color:"hsl(95, 38%, 62%)"},regex:{color:"hsl(95, 38%, 62%)"},"attr-value":{color:"hsl(95, 38%, 62%)"},"attr-value > .token.punctuation":{color:"hsl(95, 38%, 62%)"},variable:{color:"hsl(207, 82%, 66%)"},operator:{color:"hsl(207, 82%, 66%)"},function:{color:"hsl(207, 82%, 66%)"},url:{color:"hsl(187, 47%, 55%)"},"attr-value > .token.punctuation.attr-equals":{color:"hsl(220, 14%, 71%)"},"special-attr > .token.attr-value > .token.value.css":{color:"hsl(220, 14%, 71%)"},".language-css .token.selector":{color:"hsl(355, 65%, 65%)"},".language-css .token.property":{color:"hsl(220, 14%, 71%)"},".language-css .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.function":{color:"hsl(187, 47%, 55%)"},".language-css .token.url > .token.string.url":{color:"hsl(95, 38%, 62%)"},".language-css .token.important":{color:"hsl(286, 60%, 67%)"},".language-css .token.atrule .token.rule":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.operator":{color:"hsl(286, 60%, 67%)"},".language-javascript .token.template-string > .token.interpolation > .token.interpolation-punctuation.punctuation":{color:"hsl(5, 48%, 51%)"},".language-json .token.operator":{color:"hsl(220, 14%, 71%)"},".language-json .token.null.keyword":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.url":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.operator":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url-reference.url > .token.string":{color:"hsl(220, 14%, 71%)"},".language-markdown .token.url > .token.content":{color:"hsl(207, 82%, 66%)"},".language-markdown .token.url > .token.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.url-reference.url":{color:"hsl(187, 47%, 55%)"},".language-markdown .token.blockquote.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.hr.punctuation":{color:"hsl(220, 10%, 40%)",fontStyle:"italic"},".language-markdown .token.code-snippet":{color:"hsl(95, 38%, 62%)"},".language-markdown .token.bold .token.content":{color:"hsl(29, 54%, 61%)"},".language-markdown .token.italic .token.content":{color:"hsl(286, 60%, 67%)"},".language-markdown .token.strike .token.content":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.strike .token.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.list.punctuation":{color:"hsl(355, 65%, 65%)"},".language-markdown .token.title.important > .token.punctuation":{color:"hsl(355, 65%, 65%)"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},namespace:{Opacity:"0.8"},"token.tab:not(:empty):before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.cr:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.lf:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"token.space:before":{color:"hsla(220, 14%, 71%, 0.15)",textShadow:"none"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item":{marginRight:"0.4em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 9%, 55%)",padding:"0.1em 0.4em",borderRadius:"0.3em"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > button:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > a:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:hover":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},"div.code-toolbar > .toolbar.toolbar > .toolbar-item > span:focus":{background:"hsl(220, 13%, 28%)",color:"hsl(220, 14%, 71%)"},".line-highlight.line-highlight":{background:"hsla(220, 100%, 80%, 0.04)"},".line-highlight.line-highlight:before":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},".line-highlight.line-highlight[data-end]:after":{background:"hsl(220, 13%, 26%)",color:"hsl(220, 14%, 71%)",padding:"0.1em 0.6em",borderRadius:"0.3em",boxShadow:"0 2px 0 0 rgba(0, 0, 0, 0.2)"},"pre[id].linkable-line-numbers.linkable-line-numbers span.line-numbers-rows > span:hover:before":{backgroundColor:"hsla(220, 100%, 80%, 0.04)"},".line-numbers.line-numbers .line-numbers-rows":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".command-line .command-line-prompt":{borderRightColor:"hsla(220, 14%, 71%, 0.15)"},".line-numbers .line-numbers-rows > span:before":{color:"hsl(220, 14%, 45%)"},".command-line .command-line-prompt > span:before":{color:"hsl(220, 14%, 45%)"},".rainbow-braces .token.token.punctuation.brace-level-1":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-5":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-9":{color:"hsl(355, 65%, 65%)"},".rainbow-braces .token.token.punctuation.brace-level-2":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-6":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-10":{color:"hsl(95, 38%, 62%)"},".rainbow-braces .token.token.punctuation.brace-level-3":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-7":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-11":{color:"hsl(207, 82%, 66%)"},".rainbow-braces .token.token.punctuation.brace-level-4":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-8":{color:"hsl(286, 60%, 67%)"},".rainbow-braces .token.token.punctuation.brace-level-12":{color:"hsl(286, 60%, 67%)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)":{backgroundColor:"hsla(353, 100%, 66%, 0.15)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix)::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre > code.diff-highlight .token.token.deleted:not(.prefix) *::selection":{backgroundColor:"hsla(353, 95%, 66%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)":{backgroundColor:"hsla(137, 100%, 55%, 0.15)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::-moz-selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre.diff-highlight > code .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix)::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},"pre > code.diff-highlight .token.token.inserted:not(.prefix) *::selection":{backgroundColor:"hsla(135, 73%, 55%, 0.25)"},".prism-previewer.prism-previewer:before":{borderColor:"hsl(224, 13%, 17%)"},".prism-previewer-gradient.prism-previewer-gradient div":{borderColor:"hsl(224, 13%, 17%)",borderRadius:"0.3em"},".prism-previewer-color.prism-previewer-color:before":{borderRadius:"0.3em"},".prism-previewer-easing.prism-previewer-easing:before":{borderRadius:"0.3em"},".prism-previewer.prism-previewer:after":{borderTopColor:"hsl(224, 13%, 17%)"},".prism-previewer-flipped.prism-previewer-flipped.after":{borderBottomColor:"hsl(224, 13%, 17%)"},".prism-previewer-angle.prism-previewer-angle:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-time.prism-previewer-time:before":{background:"hsl(219, 13%, 22%)"},".prism-previewer-easing.prism-previewer-easing":{background:"hsl(219, 13%, 22%)"},".prism-previewer-angle.prism-previewer-angle circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-time.prism-previewer-time circle":{stroke:"hsl(220, 14%, 71%)",strokeOpacity:"1"},".prism-previewer-easing.prism-previewer-easing circle":{stroke:"hsl(220, 14%, 71%)",fill:"transparent"},".prism-previewer-easing.prism-previewer-easing path":{stroke:"hsl(220, 14%, 71%)"},".prism-previewer-easing.prism-previewer-easing line":{stroke:"hsl(220, 14%, 71%)"}},Mn=On(En());function Vn(e,t,n){if(e&&e.primitiveType===o.WR.Object){if(n&&n===o.UB.ObjectInstance)return e.instanceBlock[t];if(n&&n===o.UB.ObjectReference)return e.referenceBlock[t];if(!n)return e.instanceBlock[t]||e.referenceBlock[t]}else if(e&&e.primitiveType===o.WR.Function){if(n&&n===o.UB.FunctionDeclaration)return e.functionBlock[t];if(n&&n===o.UB.FunctionCall)return e.callBlock[t];if(!n)return e.functionBlock[t]||e.callBlock[t]}return null}function Xn(e){let t=[o.dW.CopyButton,o.dW.CutButton,o.dW.Divider];return null==e||e.forEach((e=>{e.type===o.dW.Dropdown?(t[t.length-1]!==o.dW.Divider&&t.push(o.dW.Divider),e.label&&t.push({label:e.label,type:o.dW.Indicator,icon:"ArrowRightRounded"}),e.contents.forEach((e=>{e===o.dW.Divider?t[t.length-1]!==o.dW.Divider&&t.push(o.dW.Divider):t.push(e)})),t[t.length-1]!==o.dW.Divider&&t.push(o.dW.Divider)):e===o.dW.Divider?t[t.length-1]!==o.dW.Divider&&t.push(o.dW.Divider):t.push(e)})),t[t.length-1]===o.dW.Divider&&t.pop(),t.length>0&&t[0]===o.dW.Divider&&t.shift(),0===t.length&&t.push({label:"No Actions",type:o.dW.Indicator,icon:"ArrowRightRounded"}),t}var Yn="#DDA0DD",Jn="#8FBC8F",Hn="#6495ED",Gn="#ADD8E6",Kn="#FF6347",qn="#F5DEB3",Zn="#00CED1",Qn=["BOOLEAN","NUMBER","STRING","OPTIONS","VECTOR3"],er=(0,p.Ay)(Jt.A)((({theme:e})=>{const t="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[800];return{backgroundColor:t,height:e.spacing(3),color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:(0,c.tL)(t,.06)},"&:active":{boxShadow:e.shadows[1],backgroundColor:(0,c.tL)(t,.12)}}}));var tr=(0,p.Ay)("button")((({theme:e})=>{const t="light"===e.palette.mode?e.palette.grey[100]:e.palette.grey[800];return{display:"inline-block",backgroundColor:t,paddingLeft:6,paddingRight:4,borderRadius:100,fontSize:14,border:"unset",height:e.spacing(3),alignItems:"center",alignContent:"center",color:e.palette.text.primary,fontWeight:e.typography.fontWeightRegular,"&:hover, &:focus":{backgroundColor:(0,c.tL)(t,.06)}}})),nr=({parent:e,field:t,typeInfo:n,handleLinkClick:r,container:i})=>{var a,l,c;const p=null==(l=null==(a=n[e])?void 0:a.properties)?void 0:l[t],f=(0,ln.A)(),h=p.type===o.Ut.Block&&(null==p?void 0:p.accepts)?p.accepts.map((e=>n[e]?[e]:Object.keys((0,Mn.pickBy)(n,(t=>t.specificType===e))))).reduce(((e,t)=>[...e,...t]),[]):[];return"na"===(p.type===o.Ut.Block&&(null==p?void 0:p.accepts)?"block":Qn.includes(null==p?void 0:p.type)?"simple":"na")?null:(0,m.jsxs)(d.A,{sx:{padding:2},children:[(0,m.jsx)(Ht.A,{variant:"h5",color:"text.primary",title:"string"==typeof p.name?p.name:p.name.name,sx:{padding:0},action:p.type===o.Ut.Block&&p.accepts?(0,m.jsxs)(s.A,{direction:"row",gap:.5,children:[p.isList&&(0,m.jsx)(me,{title:"This property accepts a set of entries as a list",parent:i,children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:Hn},children:(0,m.jsx)(ve,{name:"ListRounded"})})},"is-list"),p.fullWidth&&(0,m.jsx)(me,{title:"This property spans the width of the block",parent:i,children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:Gn},children:(0,m.jsx)(ve,{name:"WidthFullRounded"})})},"full-width"),p.isRequired&&(0,m.jsx)(me,{title:"This property is required",parent:i,children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:Kn},children:(0,m.jsx)(ve,{name:"StarRounded"})})},"required"),p.isFunctionArgument&&(0,m.jsx)(me,{title:"This is an argument to the function",parent:i,children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:qn},children:(0,m.jsx)(ve,{name:"AssignmentReturnedRounded"})})},"is-function-argument"),p.isFunctionBlockField&&(0,m.jsx)(me,{title:"This is a property of this function block",parent:i,children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:Zn},children:(0,m.jsx)(ve,{name:"CropSquareRounded"})})},"is-function-block-field")]}):(0,m.jsx)(Yt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:p.type})}),p.type===o.Ut.Block&&(null==p?void 0:p.accepts)&&(0,m.jsx)(Gt.A,{sx:{backgroundColor:"dark"===f.palette.mode?"#252525":"#ccc",borderRadius:1,padding:.5,display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:null==h?void 0:h.map(((e,t)=>{var o;return(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsx)(or,{label:(null==(o=n[e])?void 0:o.name)||"Unrecognized",color:Vn(n[e],"color"),onClick:t=>{t.preventDefault(),n[e]&&r(e)}},e)},`${e}-${t}`)}))}),p.type===o.Ut.Options&&(0,m.jsx)(Yt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:null==(c=p.options)?void 0:c.map((e=>e.label)).join(", ")})]})},rr=({side:e,connectionInfo:t,typeInfo:n,handleLinkClick:r})=>{var i;const a=(0,ln.A)();return(0,m.jsx)(d.A,{sx:{padding:2},children:(0,m.jsxs)(Kt.Ay,{container:!0,spacing:1,children:[(0,m.jsx)(Kt.Ay,{item:!0,xs:4,children:(0,m.jsx)(Yt.A,{variant:"h5",color:"text.primary",style:{textTransform:"capitalize"},children:e})},e),(0,m.jsx)(Kt.Ay,{item:!0,xs:8,children:(0,m.jsx)(Yt.A,{sx:{fontSize:14,textAlign:"center",fontStyle:"italic"},color:"text.secondary",gutterBottom:!1,children:"Accepts"})},`${e}-accepts`),t.allowed&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Kt.Ay,{item:!0,xs:4,children:(0,m.jsx)(me,{title:t.direction===o.ok.Outbound?"This connection is outbound":"This connection is inbound",children:(0,m.jsx)(u.A,{sx:{width:30,height:30,backgroundColor:t.direction===o.ok.Outbound?Jn:Yn},children:t.direction===o.ok.Outbound?(0,m.jsx)(ve,{name:"LogoutRounded"}):(0,m.jsx)(ve,{name:"LoginRounded"})})})},`${e}-direction`),(0,m.jsx)(Kt.Ay,{item:!0,xs:8,sx:{backgroundColor:"dark"===a.palette.mode?"#252525":"#ccc",borderRadius:1,padding:3,lineHeight:1.75},children:null==(i=t.allowed)?void 0:i.map((e=>{var t;return(0,m.jsx)(or,{label:(null==(t=n[e])?void 0:t.name)||"Unknown",color:Vn(n[e],"color"),onClick:t=>{t.preventDefault(),n[e]&&r(e)}})}))},`${e}-bin`)]})]},`${e}-container`)})},or=({label:e,color:t,onClick:n})=>(0,m.jsxs)(tr,{onClick:n,children:[e," ",(0,m.jsx)(ve,{name:"Circle",size:10,style:{position:"relative",alignSelf:"center",height:15,width:15,top:2.5,fill:t}}),(0,m.jsx)("span",{style:{height:15,width:15,borderRadius:100,backgroundColor:t,border:1,borderColor:"white"},children:" "})]}),ir=({type:e})=>{const t=(0,o.cA)((0,r.useCallback)((t=>t.programSpec.objectTypes[e]),[e]));return(0,m.jsx)(or,{label:(null==t?void 0:t.name)||"Unknown Block",color:Vn(t,"color")})},ar=({data:e,typeSpec:t})=>{var n,i,a,l,u,d,p,f,h,g,b,y,v;const x=(0,ln.A)(),k=(null==e?void 0:e.metaType)===o.UB.FunctionDeclaration?e.id:e.metaType===o.UB.FunctionCall?e.ref:e.type,[j,C]=(0,r.useState)([k]),T=j[j.length-1],w=(0,o.cA)((e=>(0,o.kc)(e.programSpec.objectTypes,e.programData))),_=(0,r.useRef)(null),A="dark"===x.palette.mode?(0,c.e$)(Vn(w[T],"color"),.5):(0,c.a)(Vn(w[T],"color"),.5),I=(0,o.cA)((e=>e.setActiveDoc)),D=(0,o.cA)((t=>"string"==typeof t.featuredDocs[e.id]?t.featuredDocs[e.id]:[o.UB.FunctionCall,o.UB.ObjectReference].includes(e.metaType)&&"string"==typeof t.featuredDocs[e.ref]?t.featuredDocs[e.ref]:null)),R=D?["featured","description","usage"]:["description","usage"],[O,E]=(0,r.useState)(R[0]),N=function(e,t){var n;const r=(null==(n=e[t])?void 0:n.specificType)||t;let i=[];return Object.keys(e).forEach((t=>{let n={parent:t,fields:[]};e[t].properties&&Object.keys(e[t].properties).forEach((i=>{var a;let l=e[t].properties[i];l.type===o.Ut.Block&&(null==(a=l.accepts)?void 0:a.includes(r))&&n.fields.push(i)})),n.fields.length>0&&i.push(n)})),i}(w,T),B=e=>{if(j.includes(e)){let t=!1;const n=j.filter((n=>n===e?(t=!0,!0):(n===e||!t)&&(n!==e||void 0)));C(n)}else C([...j,e])},F={h1:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"h3"},r),{color:"text.primary"}))},h2:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"h4"},r),{color:"text.primary"}))},h3:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"h5"},r),{color:"text.primary"}))},h4:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"h6"},r),{color:"text.primary"}))},h5:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},h6:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},p:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(Yt.A,Dn(In({variant:"body1"},r),{color:"text.primary"}))},a:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);return(0,m.jsx)(or,{label:r.children[0],color:Vn(w[r.href],"color"),onClick:e=>{e.preventDefault(),w[r.href]&&(B(r.href),"featured"===O&&r.href!==k&&E("description"))}})},code:e=>{var t=e,{node:n,inline:r,className:o,children:i}=t,a=Rn(t,["node","inline","className","children"]);const l=/language-(\w+)/.exec(o||"");return!r&&l?(0,m.jsx)(sn.A,In({children:String(i).replace(/\n$/,""),style:$n,language:l[1]},a)):(0,m.jsx)(S.A,{style:{backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",borderRadius:4,padding:5},children:(0,m.jsx)("code",Dn(In({className:o},a),{children:i}))})},ol:e=>{var t=e,{node:n,ordered:r}=t,o=Rn(t,["node","ordered"]);return(0,m.jsx)("ol",Dn(In({},o),{style:{fontFamily:"helvetica",backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",color:x.palette.text.primary,borderRadius:4,paddingTop:5,paddingBottom:5}}))},ul:e=>{var t=e,{node:n,ordered:r}=t,o=Rn(t,["node","ordered"]);return(0,m.jsx)("ul",Dn(In({},o),{style:{fontFamily:"helvetica",backgroundColor:"dark"===x.palette.mode?"#44444444":"#cccccccc",color:x.palette.text.primary,borderRadius:4,paddingTop:5,paddingBottom:5}}))},blockquote:e=>{var t=e,{node:n}=t,r=Rn(t,["node"]);let o="info",i="info",a=[];return r.children.forEach((e=>{var t;"object"==typeof e&&(null==(t=e.props)?void 0:t.children)&&e.props.children.forEach(((t,n)=>{"string"==typeof t&&t.includes("[info]")&&(o="info",i="info",e.props.children[n]=t.replace("[info]","")),"string"==typeof t&&t.includes("[primary]")?(o="info",i="info",e.props.children[n]=t.replace("[primary]","")):"string"==typeof t&&t.includes("[success]")?(o="success",i="success",e.props.children[n]=t.replace("[success]","")):"string"==typeof t&&t.includes("[warn]")?(o="warning",i="warning",e.props.children[n]=t.replace("[warn]","")):"string"==typeof t&&t.includes("[error]")&&(o="error",i="error",e.props.children[n]=t.replace("[error]",""))})),a.push(e)})),(0,m.jsx)(qt.A,{variant:"filled",severity:o,color:i,children:(0,m.jsx)("span",{children:a})})}};let L=[],P=[];const U=w[T];return U&&U.primitiveType===o.WR.Object&&(null==(n=null==U?void 0:U.instanceBlock)?void 0:n.onCanvas)&&(null==(i=null==U?void 0:U.instanceBlock)?void 0:i.connections)&&(L.push("instanceBlock"),P.push(U.instanceBlock.connections)),U&&U.primitiveType===o.WR.Object&&(null==(a=null==U?void 0:U.referenceBlock)?void 0:a.onCanvas)&&(null==(l=null==U?void 0:U.referenceBlock)?void 0:l.connections)&&(L.push("referenceBlock"),P.push(U.referenceBlock.connections)),U&&U.primitiveType===o.WR.Function&&(null==(u=null==U?void 0:U.functionBlock)?void 0:u.onCanvas)&&(null==(d=null==U?void 0:U.functionBlock)?void 0:d.connections)&&(L.push("functionBlock"),P.push(U.functionBlock.connections)),U&&U.primitiveType===o.WR.Function&&(null==(p=null==U?void 0:U.callBlock)?void 0:p.onCanvas)&&(null==(f=null==U?void 0:U.callBlock)?void 0:f.connections)&&(L.push("callBlock"),P.push(U.callBlock.connections)),(0,m.jsxs)("div",{ref:_,className:"nodrag nowheel",style:{zIndex:100,transformOrigin:"left",minWidth:200,maxWidth:350},children:[(0,m.jsx)("div",{style:{backgroundColor:A,borderTopLeftRadius:x.shape.borderRadius,borderTopRightRadius:x.shape.borderRadius},children:(0,m.jsx)(Zt.A,{value:O,onChange:(e,t)=>E(t),indicatorColor:"primary",textColor:"inherit","aria-label":"full width tabs example",sx:{},children:R.map((e=>(0,m.jsx)(Qt.A,{label:e,value:e},e)))},"tabs")}),("description"===O||"usage"===O)&&(0,m.jsx)(S.A,{style:{padding:2,backgroundColor:"dark"===x.palette.mode?"#252525":"#cccccccc"},children:(0,m.jsx)(en.A,{children:j.map((e=>{var t;return(0,m.jsx)(er,{label:(null==(t=w[e])?void 0:t.name)||"Unrecognized",onClick:t=>{t.preventDefault(),B(e)},onDelete:t=>{t.preventDefault(),B(e)},deleteIcon:(0,m.jsx)(ve,{name:"Circle",style:{height:15,width:15,marginRight:5,fill:Vn(w[e],"color")}})},e)}))})},O),(0,m.jsx)(yt,{width:350,height:"50vh",children:(0,m.jsxs)("div",{style:{padding:10},children:["featured"===O&&(0,m.jsx)(cn.Nc,{rehypeReactOptions:{components:F},children:D}),"description"===O&&(0,m.jsx)(cn.Nc,{rehypeReactOptions:{components:F},children:(null==(h=w[T])?void 0:h.description)||"No Description"}),"usage"===O&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsxs)(Yt.A,{children:[(0,m.jsx)("b",{children:(0,m.jsx)("i",{children:(null==(g=w[T])?void 0:g.name)||"Unrecognized"})})," ","Fields"]})}),(0,m.jsxs)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:[0===Object.keys((null==(b=w[T])?void 0:b.properties)||{}).length&&(0,m.jsx)(Yt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block has no fields"}),(0,m.jsx)(s.A,{spacing:1,children:Object.keys((null==(y=w[T])?void 0:y.properties)||{}).map(((e,t)=>(0,m.jsx)(nr,{parent:T,field:e,typeInfo:w,handleLinkClick:B,container:_.current||void 0},`${e}-${t}`)))})]})]},"fields"),(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsxs)(Yt.A,{children:[(0,m.jsx)("b",{children:(0,m.jsx)("i",{children:(null==(v=w[T])?void 0:v.name)||"Unrecognized"})})," ","as a Field"]})}),(0,m.jsx)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:(0,m.jsxs)(s.A,{spacing:1,children:[0===N.length&&(0,m.jsx)(Yt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block is not used anywhere"}),N.map((e=>{var t;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(on.A,{children:(0,m.jsx)(or,{label:null==(t=w[e.parent])?void 0:t.name,color:Vn(w[e.parent],"color"),onClick:t=>{t.preventDefault(),w[e.parent]&&B(e.parent)}})}),e.fields.map((t=>(0,m.jsx)(nr,{parent:e.parent,field:t,typeInfo:w,handleLinkClick:B},`${e.parent}-${t}`)))]})}))]})})]},"as-field"),(0,m.jsxs)(tn.A,{children:[(0,m.jsx)(nn.A,{expandIcon:(0,m.jsx)(ve,{name:"ExpandMoreRounded"}),"aria-controls":"panel1a-content",id:"panel1a-header",children:(0,m.jsx)(Yt.A,{children:"Connections"})}),(0,m.jsx)(rn.A,{sx:{backgroundColor:"dark"===x.palette.mode?"#2D2D2D":"#D2D2D2",padding:1},children:L.length>0?L.map(((e,t)=>(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(on.A,{children:(0,m.jsx)("span",{style:{fontFamily:"Helvetica",textTransform:"capitalize"},children:e.replace("Block","")})}),Object.entries(P[t]).map((([e,t])=>(0,m.jsx)(rr,{side:e,connectionInfo:t,typeInfo:w,handleLinkClick:B})))]}))):(0,m.jsx)(Yt.A,{style:{textAlign:"center"},color:"text.secondary",children:"This block has no connections"})})]},"connections")]})]})},"content"),(0,m.jsx)(an.A,{children:(0,m.jsx)(De,{size:"small",title:"Close",onClick:()=>I(e.id,!1),children:"Close"})})]})},lr={backgroundColor:"#88888800",boxShadow:"none"},cr={height:8},sr={height:30},ur={height:"auto"},dr={disabledPeripheralEmpty:In(In({},sr),cr),disabledNonPeripheralEmpty:In({},sr),validDropPeripheralEmpty:In(In({},sr),cr),validDropNonPeripheralEmpty:In({},sr),defaultPeripheralEmpty:In(In({},sr),cr),defaultNonPeripheralEmpty:In({},sr),disabledPeripheralFilled:In(In(In({},sr),cr),ur),disabledNonPeripheralFilled:In(In({},sr),ur),validDropPeripheralFilled:In(In(In({},sr),cr),ur),validDropNonPeripheralFilled:In(In({},sr),ur),defaultPeripheralFilled:In(In(In({},sr),cr),ur),defaultNonPeripheralFilled:In(In({},sr),ur)},pr=e=>{const t={backgroundColor:(0,c.X4)(e||"white",.7),borderStyle:"solid",borderColor:(0,c.a)(e||"white",.2),borderWidth:4};return{disabledPeripheralEmpty:In(In(In({},sr),cr),lr),disabledNonPeripheralEmpty:In(In({},sr),lr),validDropPeripheralEmpty:In(In(In({},sr),cr),t),validDropNonPeripheralEmpty:In(In({},sr),t),defaultPeripheralEmpty:In(In({},sr),cr),defaultNonPeripheralEmpty:In({},sr),disabledPeripheralFilled:In(In(In(In({},sr),cr),lr),ur),disabledNonPeripheralFilled:In(In(In({},sr),lr),ur),validDropPeripheralFilled:In(In(In(In({},sr),cr),t),ur),validDropNonPeripheralFilled:In(In(In({},sr),t),ur),defaultPeripheralFilled:In(In(In({},sr),cr),ur),defaultNonPeripheralFilled:In(In({},sr),ur)}},fr=e=>e.transferBlock,hr=(0,r.memo)((({id:e,regionInfo:t,peripheral:n=!1,hideText:a=!1,disabled:l=!1,context:c=[],limitedRender:s=!1,commentsEnabled:u=!1})=>{var d,p,h,g,b,y;const v=(0,o.cA)(fr),x=(0,ln.A)(),k=t.fieldInfo,j=(0,o.cA)((0,r.useCallback)((t=>e?t.programData[e]:null),[e])),C=(0,o.cA)((0,r.useCallback)((e=>{var t;return k.accepts.includes((null==(t=e.clipboard.block)?void 0:t.type)||"")&&!e.clipboard.onCanvas&&(0,Wn.isEqual)((0,Wn.intersection)(c,e.clipboard.context),e.clipboard.context)}),[t.parentId])),T=(0,o.cA)((e=>e.clipboard.action)),w=(0,o.cA)((e=>e.paste)),_=t.fieldInfo.type===o.Ut.Block&&t.fieldInfo.isList?[...k.accepts,o.UB.Comment]:k.accepts,[A,I]=(0,i.H)((()=>({accept:_,drop:(e,n)=>{console.log("DROP",e),v(e.data,e.regionInfo,t)},canDrop:t=>!l&&!e&&(t.data.metaType===o.UB.Comment||t.regionInfo.parentId!==o.j$&&(0,Wn.isEqual)((0,Wn.intersection)(c,t.context),t.context)),collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[k,t,c,l]),D=!l&&!e&&_.includes(null==(p=null==(d=A.item)?void 0:d.data)?void 0:p.type)&&(null==(h=A.item)?void 0:h.regionInfo.parentId)!==o.j$&&(0,Wn.isEqual)((0,Wn.intersection)(c,A.item.context),A.item.context),R=j||(A.item&&D&&!l&&A.isOver?A.item.data:null),O=R&&R!==j,E=T===o.zy.Copy||T===o.zy.Paste||T===o.zy.Cut,[N,S]=(0,r.useState)("open"),B=R||!a,F=D||C&&E,L=B&&l&&n?"disabledPeripheralFilled":B&&l&&!n?"disabledNonPeripheralFilled":B&&F&&n?"validDropPeripheralFilled":B&&F&&!n?"validDropNonPeripheralFilled":B&&n?"defaultPeripheralFilled":B?"defaultNonPeripheralFilled":!B&&l&&n?"disabledPeripheralEmpty":B||!l||n?!B&&F&&n?"validDropPeripheralEmpty":B||!F||n?!B&&n?"defaultPeripheralEmpty":"defaultNonPeripheralEmpty":"validDropNonPeripheralEmpty":"disabledNonPeripheralEmpty",P="expanded"===N?k.accepts:k.accepts?k.accepts.slice(0,2):[];return(0,m.jsx)(ct,{data:{},inner:[{disabled:l||!C,left:"ContentPasteRounded",type:"ENTRY",label:"Paste",onClick:(e,n)=>{w({context:c,regionInfo:t}),n.stopPropagation()}},{disabled:l||!u,left:"TagRounded",type:"ENTRY",label:"Add Comment",onClick:(e,n)=>{v({id:(0,o.$C)("comment"),type:o.UB.Comment,metaType:o.UB.Comment},{fieldInfo:{type:o.Ut.Block,accepts:[]},parentId:o.lJ},t),n.stopPropagation()}}],children:(0,m.jsx)(me,{title:(0,m.jsxs)("ul",{style:{display:"flex",maxWidth:200,justifyContent:"center",flexWrap:"wrap",listStyle:"none",padding:.5,margin:0},onClick:e=>{S("open"===N?"expanded":"open"),e.stopPropagation()},children:[P.map((e=>(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsx)(ir,{type:e})},e))),"open"===N&&(null==(g=k.accepts)?void 0:g.length)-P.length>0&&(0,m.jsx)("li",{style:{margin:1},children:(0,m.jsxs)(tr,{sx:{borderRadius:2,backgroundColor:"#00000022",color:"#00000088",padding:"1pt 5pt"},onClick:e=>{S("open"===N?"expanded":"open"),e.stopPropagation()},children:["+ ",k.accepts.length-P.length]})},"show-more")]}),placement:"right",children:(0,m.jsx)("div",{ref:I,style:dr[L],children:(0,m.jsx)(f.P.div,{className:"nodrag",style:{borderRadius:4,minWidth:100,display:"flex",flex:1},animate:L,variants:pr(null==(y=null==(b=null==x?void 0:x.palette)?void 0:b.primary)?void 0:y.main),children:R&&!O?(0,m.jsx)(f.P.div,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1,minHeight:n?8:30,paddingTop:4,paddingBottom:4},children:(0,m.jsx)(zn,{staticData:R,regionInfo:t,bounded:!0,context:c,limitedRender:s})},"not-preview-rendered-data"):R?(0,m.jsx)(f.P.div,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1,paddingBottom:4,paddingTop:4},children:(0,m.jsx)(Nr,{id:R.id,staticData:R,context:c,bounded:!0})},"preview-rendered-data"):a?null:(0,m.jsx)(f.P.span,{initial:{scaleY:0},animate:{scaleY:1},style:{flex:1},children:(0,m.jsx)(Yt.A,{children:"string"==typeof k.name?k.name:k.name.name})},"field-empty")})})})})})),gr=({id:e,regionInfo:t,interactionDisabled:n,context:r,limitedRender:o,hideText:i})=>(0,m.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:"max-content",margin:4,flex:1},children:(0,m.jsx)(hr,{id:e,regionInfo:t,peripheral:!1,disabled:n||!1,context:r,limitedRender:o||!1,hideText:i||!1})}),mr=(0,r.memo)((({ids:e=[],regionInfo:t,interactionDisabled:n,context:r,limitedRender:o})=>0===e.length?(0,m.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:100,margin:4,flex:1},children:(0,m.jsx)(hr,{regionInfo:t,peripheral:!1,disabled:n,hideText:!0,context:r,limitedRender:o,commentsEnabled:!0},"initial")}):(0,m.jsxs)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:100,margin:4,flex:1,display:"flex",flexDirection:"column"},children:[(0,m.jsx)(hr,{regionInfo:Dn(In({},t),{idx:0}),peripheral:!0,disabled:n,hideText:!0,context:r,limitedRender:o,commentsEnabled:!0},"initial"),e.map(((e,i)=>(0,m.jsx)(zn,{id:e,regionInfo:Dn(In({},t),{idx:i}),bounded:!0,context:r,limitedRender:o,after:(0,m.jsx)(hr,{regionInfo:Dn(In({},t),{idx:i+1}),peripheral:!0,disabled:n,hideText:!0,context:r,limitedRender:o,commentsEnabled:!0},`dropzone-${i}`)},e)))]}))),br=({interactionDisabled:e,data:t})=>(0,m.jsx)(Xt,{data:Dn(In({},t),{interactionDisabled:e}),enclose:!0}),yr=On(En()),vr=(0,p.Ay)(un.h7,{shouldForwardProp:e=>!["focused"].includes(e)})((({theme:e,focused:t})=>({boxShadow:t?`0pt 0pt 0pt 2pt ${e.palette.primary.main}`:void 0,backgroundColor:t?e.palette.primary.main:"grey",opacity:t?1:.5}))),xr=(e,t,n,r,i)=>{if(!e)return!1;if(e.handleType&&n===("target"===e.handleType?o.ok.Inbound:o.ok.Outbound))return!1;const a="target"===e.handleType,l=a?e.nodeId:t.id||"",c=a?e.handleId:r||un.yX.Top;return i(a?t.id:e.nodeId||"",a?r:e.handleId||un.yX.Top,l,c)},kr=({nodeData:e,position:t=un.yX.Top,direction:n=o.ok.Inbound,blockSpec:r})=>{const i=(0,o.cA)((e=>e.validateEdge)),a=(0,o.cA)((e=>{var t,n,i;if((null==(t=e.connectionInfo)?void 0:t.nodeId)&&(null==(n=e.connectionInfo)?void 0:n.handleId)){const t=e.programData[e.connectionInfo.nodeId].type;return Dn(In({},e.connectionInfo),{nodeType:t,connectionSpec:(null==(i=null==r?void 0:r.connections)?void 0:i[e.connectionInfo.handleId])||{direction:o.ok.Inbound,allowed:[]},existing:Object.values(e.programData).filter((e=>e.metaType===o.UB.Connection))})}return null})),l=xr(a,e,n,t,i);return(0,m.jsx)(vr,{isConnectable:!a||l,id:t,position:t,type:n===o.ok.Inbound?"target":"source",focused:l})},jr=({children:e,progress:t})=>{const n=(0,ln.A)(),r=(0,fn.z)(0,{damping:10}),i=(0,hn.d)(0),a=(0,o.cA)((e=>e.clock)),l=(0,c.X4)(n.palette.primary.main,.6),s=(0,gn.G)((()=>{const e=360*i.get(),t=360*r.get();return`repeating-conic-gradient(from ${e}deg, ${l} 0deg ${t}deg, #22222222 ${t}deg 360deg)`}));return(0,mn.N)((()=>{a.update();const e=1e3*a.getElapsed(),n="function"==typeof t?t(e):t||0,o="indeterminite"===n?.3:n,l="indeterminite"===n?e%360/360-.05:0;r.set(o),i.set(l)})),(0,m.jsx)(Bn,{variant:"rounded",style:{background:s},children:e})},Cr=(0,r.memo)((({id:e,progress:t,color:n,limitedRender:r,nameId:i,name:a,icon:l,editing:s,setIsEditing:u})=>{const d=(0,o.cA)((e=>e.updateItemName)),p=(0,ln.A)();return(0,m.jsx)(me,{title:a||"",placement:"top",bgOverride:"light"===p.palette.mode?(0,c.a)(n,.5):(0,c.e$)(n,.5),children:(0,m.jsxs)(Pn,{alignContent:"center",direction:"row",spacing:1,style:{cursor:"move",userSelect:"none"},children:[r?(0,m.jsx)(pn.A,{variant:"rectangular",height:35,width:35,sx:{borderRadius:1,bgcolor:"#22222299"}}):(0,m.jsx)(jr,{progress:t,children:(0,m.jsx)(ve,{name:l,size:22})}),r?(0,m.jsx)(pn.A,{variant:"rectangular",height:35,width:"100%",sx:{borderRadius:1,bgcolor:"#22222299"}}):(0,m.jsx)(le,{hideLabelPrefix:!0,value:a||"",onChange:e=>{d(i,e.target.value)},readonly:!s,onBlur:()=>u(!1),onFocus:()=>u(!0),onDoubleClick:e=>{u(!s),e.stopPropagation()},disableDrag:s},`${e}-title`)]})},`${e}-title`)})),Tr=({id:e,interactionDisabled:t,simpleProperties:n,properties:i})=>{const a=(0,o.cA)((e=>e.updateItemSimpleProperty)),[l,c]=(0,r.useState)(!0);return(0,m.jsxs)(Fn,{children:[(0,m.jsx)(Ht.A,{title:(0,m.jsx)(Yt.A,{color:"#eee",children:"Settings"}),onClick:t?e=>{e.stopPropagation()}:e=>{c(!l),e.stopPropagation()},action:(0,m.jsx)(Te,{title:l?"Expand":"Collapse",onClick:t?e=>{e.stopPropagation()}:e=>{c(!l),e.stopPropagation()},icon:l?"KeyboardArrowRightRounded":"KeyboardArrowDownRounded"})}),(0,m.jsx)(dn.A,{in:!l,orientation:"vertical",children:(0,m.jsx)(s.A,{direction:"column",justifyContent:"flex",gap:1,style:{paddingTop:4,paddingBottom:4},children:!l&&Object.entries(n).map((([n,r])=>r.type===o.Ut.Boolean?(0,m.jsx)(Ot,{label:r.name,value:i[n],defaultValue:!1,onChange:t=>a(e,n,t),disabled:t},n):r.type===o.Ut.Number?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(ce,{label:r.name,min:r.min,max:r.max,step:r.step,suffix:r.units,value:i[n],disabled:t,onChange:t=>{console.log(t),a(e,n,t)}})},n):r.type===o.Ut.String?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(le,{label:r.name,value:i[n]?i[n]:"",disabled:t,onChange:t=>a(e,n,t.target.value)})},n):r.type===o.Ut.Options?(0,m.jsx)(xt,{label:r.name,disabled:t,value:i[n]?i[n]:"",onChange:t=>a(e,n,t),options:r.options},n):r.type===o.Ut.Vector3?(0,m.jsx)(S.A,{sx:{maxWidth:200,padding:"3px"},children:(0,m.jsx)(se,{disabled:t,value:i[n]?i[n]:[0,0,0],onChange:t=>a(e,n,t)},n)},n):void 0))})})]})},wr=On(En()),_r=(0,r.memo)((({data:e,blockSpec:t,inDrawer:n=!1,copyFn:r,cutFn:i,deleteFn:a,interactionDisabled:l=!1,isCollapsed:c=!1,setIsCollapsed:u,isSelected:d=!1,setIsSelected:p,docActive:f=!1,setDocActive:h,isDebugging:g=!1,setIsDebugging:b})=>{const y=(0,o.cA)((e=>(0,wr.pickBy)(e,(e=>"function"==typeof e)))),v=(0,o.cA)((e=>e.programSpec.objectTypes));if(0===t.extras.length)return null;const x=Ar(n&&t.extras.length>1?[{label:"Actions",type:o.dW.Dropdown,icon:"MoreHorizRounded",contents:t.extras}]:t.extras,r,i,a,b,p,h,u,((e,t)=>{y.addArgument&&y.addArgument(e,t)}),y,v,l);let k=Dn(In({},e),{blockSpec:t,isCollapsed:c,isSelected:d,docActive:f,isDebugging:g});return(0,m.jsx)(s.A,{direction:"row",gap:1,children:x.map(((e,t)=>"ENTRY"===e.type&&e.inner?(0,m.jsx)(Ze,{data:k,inner:e.inner},t):"ENTRY"===e.type?(0,m.jsx)(Te,{title:"function"==typeof e.label?e.label(k):e.label,onClick:t=>e.onClick?e.onClick(k,t):()=>{},icon:"function"==typeof e.left?e.left(k):"string"==typeof e.left?e.left:"CheckBoxRounded"},t):(0,m.jsx)(on.A,{},t)))})}));function Ar(e,t,n,r,i,a,l,c,s,u,d,p){return e.map((e=>{var f;if(e===o.dW.Divider)return{type:"DIVIDER"};if(e===o.dW.DeleteButton)return{type:"ENTRY",label:"Delete",left:"DeleteRounded",onClick:r,disabled:p};if(e===o.dW.CopyButton)return{type:"ENTRY",label:"Copy",left:"ContentCopyRounded",onClick:t,disabled:p};if(e===o.dW.CutButton)return{type:"ENTRY",label:"Cut",left:"ContentCutRounded",onClick:n,disabled:p};if(e===o.dW.DebugToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isDebugging?"Stop Debugging":"Debug",left:e=>e.isDebugging?"RemoveCircleOutlineRounded":"BugReportRounded",onClick:e=>{i(!e.isDebugging)}};if(e===o.dW.SelectionToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isSelected?"Deselect":"Select",left:e=>e.isSelected?"StarOutlineRounded":"StarRounded",onClick:e=>{a(!e.isSelected)}};if(e===o.dW.DocToggle)return{type:"ENTRY",label:e=>e.docActive?"Close Doc":"Open Doc",left:e=>e.docActive?"RemoveCircleOutlineRounded":"ImportContactsRounded",onClick:e=>{l(!e.docActive)}};if(e===o.dW.CollapseToggle)return{type:"ENTRY",preventCloseOnClick:!0,label:e=>e.isCollapsed?"Expand":"Collapse",left:e=>e.isCollapsed?"FullscreenExitRounded":"FullscreenRounded",onClick:e=>{c(!e.isCollapsed)}};if(e.type===o.dW.Indicator)return{type:"ENTRY",label:e.label,left:e.icon,disabled:!0};if(e.type===o.dW.FunctionButton){const t="function"==typeof e.onClick?e.onClick:u[e.onClick]?u[e.onClick]:e=>{};return{type:"ENTRY",label:e.label,left:e.icon,onClick:t,disabled:p}}return e.type===o.dW.Dropdown?{type:"ENTRY",label:e.label,left:e.icon||"MoreHorizRounded",inner:Ar(e.contents,t,n,r,i,a,l,c,s,u,d,p)}:e.type===o.dW.AddArgument?{type:"ENTRY",label:e.label,left:e.icon,onClick:t=>{s(t.id,e.argumentType)},disabled:p}:e.type===o.dW.AddArgumentGroup?{type:"ENTRY",label:"Add Arguments",left:e.icon,inner:(null==(f=e.allowed)?void 0:f.map((e=>({type:"ENTRY",label:`Add ${d[e].name}`,left:Ir(d[e]),onClick:t=>{s(t.id,e)},disabled:p}))))||[]}:{type:"ENTRY",label:"None",left:"CheckBoxRounded",disabled:!0}}))}var Ir=e=>{if(e.primitiveType===o.WR.Object){if(e.instanceBlock.icon)return e.instanceBlock.icon;if(e.referenceBlock.icon)return e.referenceBlock.icon}else if(e.primitiveType===o.WR.Function){if(e.functionBlock.icon)return e.functionBlock.icon;if(e.callBlock.icon)return e.callBlock.icon}return"BoxIcon"},Dr=(0,r.memo)((({id:e,blockName:t,propertyInfo:n,properties:r,interactionDisabled:i,context:a,limitedRender:l,progress:c,icon:u,inDrawer:d})=>{var p;const f=(0,o.cA)((e=>e.updateItemSimpleProperty)),h=Object.keys(n).length;return(0,m.jsxs)(Pn,{direction:d?"row":h>1?"column":"row",spacing:.5,alignItems:"stretch",justifyContent:"flex-start",style:{paddingTop:4},children:[(0,m.jsx)(jr,{progress:c,children:(0,m.jsx)(ve,{name:u,size:22})}),d?(0,m.jsx)(le,{value:t,readonly:!0}):null==(p=Object.entries(n))?void 0:p.map((([t,n])=>(0,m.jsx)(s.A,{direction:"column",justifyContent:"center",children:l&&Object.keys(o.Ut).includes(n.type)?(0,m.jsx)(pn.A,{variant:"rectangular",height:"39px",width:"100px",sx:{borderRadius:1,bgcolor:"#aaa",margin:"3px"}}):n.type===o.Ut.Options?(0,m.jsx)(xt,{disabled:i,value:r[t]?r[t]:"",onChange:n=>f(e,t,n),options:n.options},t):n.type===o.Ut.Boolean?(0,m.jsx)(Ot,{label:n.name,value:r[t],defaultValue:!1,onChange:n=>f(e,t,n),disabled:i},t):n.type===o.Ut.String?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(le,{value:r[t]?r[t]:"",disabled:i,onChange:n=>f(e,t,n.target.value)})},t):n.type===o.Ut.Number?(0,m.jsx)(S.A,{width:"xsmall",children:(0,m.jsx)(ce,{label:n.name,min:void 0!==n.min?n.min:0,max:void 0!==n.max?n.max:10,step:n.step,suffix:n.units,value:r[t],disabled:i,onChange:n=>{console.log(n),f(e,t,n)}})},t):n.type===o.Ut.Vector3?(0,m.jsx)(S.A,{sx:{maxWidth:200,padding:"3px"},children:(0,m.jsx)(se,{disabled:i,value:r[t]?r[t]:[0,0,0],onChange:n=>f(e,t,n)},t)},t):n.type===o.Ut.Block?(0,m.jsx)(Ln,{children:(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between"},children:[l||i?!n.fullWidth&&(0,m.jsx)(pn.A,{variant:"rectangular",animation:!1,height:"32px",width:"32px",sx:{borderRadius:1,bgcolor:"#44444444",marginLeft:.5}}):"string"==typeof n.name?!n.fullWidth&&(0,m.jsx)(Yt.A,{color:"#eee",style:{margin:"2px 2px 2px 5px"},children:"string"==typeof n.name&&n.name}):(0,m.jsx)(S.A,{style:{paddingLeft:5},children:(0,m.jsx)(xt,{label:"",disabled:i,value:r[n.name.id]?r[n.name.id]:"",onChange:t=>f(e,n.name.id,t),options:n.name.options},n.name.name)}),n.isList?(0,m.jsx)(mr,{ids:r[t],regionInfo:{parentId:e,fieldInfo:n},interactionDisabled:i||!1,context:a||[],limitedRender:l||!1},t):(0,m.jsx)(gr,{id:r[t],regionInfo:{parentId:e,fieldInfo:n},interactionDisabled:i,context:a,limitedRender:l},t)]},t)},t):null},t)))]})})),Rr=["IGNORED","METADATA"],Or=["BOOLEAN","NUMBER","STRING","OPTIONS","IGNORED","METADATA","VECTOR3"],Er=(0,r.forwardRef)((({data:e,refData:t,typeSpec:n,interactionDisabled:i=!1,bounded:a=!1,context:l,regionInfo:c,progress:u,limitedRender:d,copyFn:p=(()=>{}),cutFn:f=(()=>{}),style:h},g)=>{var b;const y=c.parentId===o.j$,v=c.parentId===o.lJ,x=e.metaType===o.UB.ObjectInstance?n.instanceBlock:e.metaType===o.UB.ObjectReference?n.referenceBlock:e.metaType===o.UB.FunctionDeclaration?n.functionBlock:e.metaType===o.UB.FunctionCall?n.callBlock:e.metaType===o.UB.Argument?n.referenceBlock:void 0;if(!x)throw new Error(`Missing BlockSpec for Visual Block ${e.type}, ${e.metaType}`);const[k,j]=(0,r.useState)(!1),[C,T]=(0,r.useState)(!1),w=(0,o.cA)((e=>e.updateItemEditing)),_=(0,o.cA)((e=>e.updateItemSelected)),A=(0,o.cA)((e=>e.programSpec.objectTypes)),I=(0,o.cA)((t=>t.activeDoc===e.id)),D=(0,o.cA)((e=>e.setActiveDoc)),R=(0,o.cA)((e=>e.deleteBlock)),O=(0,o.cA)((0,r.useCallback)((t=>{var n,r;return(null==(r=null==(n=t.clipboard)?void 0:n.block)?void 0:r.id)===e.id&&"COPY"===t.clipboard.action}),[e.id])),E=(0,o.cA)((e=>e.onVPEClick)),N=(0,o.cA)((e=>e.updateItemSimpleProperty)),B=x.minified&&e.metaType===o.UB.ObjectInstance,F=n&&n.properties?(0,yr.pickBy)(n.properties,(e=>Object.values(Or).includes(e.type)&&!Rr.includes(e.type))):{},L=n&&n.properties?(0,yr.pickBy)(n.properties,(t=>((e,t)=>t.type===o.Ut.Block&&(!(e.metaType!==o.UB.FunctionCall||!t.isFunctionArgument)||e.metaType===o.UB.FunctionDeclaration&&!t.isFunctionArgument||e.metaType===o.UB.ObjectInstance))(e,t))):{},P=(null==t?void 0:t.name)||e.name||"",U=e&&e.editing||e&&(null==t?void 0:t.editing),z=e&&e.selected||e&&(null==t?void 0:t.selected),W=y&&x.onCanvas&&!U;if(!e||!x)return null;const $=Dn(In({},e),{blockSpec:x,isCollapsed:k,isSelected:e.selected,docActive:I,isDebugging:C});return(0,m.jsx)(ct,{data:$,inner:Ar(Xn(x.extras),p,f,(()=>R(e,c.parentId,c.fieldInfo)),T,e.metaType===o.UB.ObjectReference||e.metaType===o.UB.FunctionCall?t=>{_(e.ref,t)}:t=>{_(e.id,t)},(t=>D(e.id,t)),j,((e,t)=>{}),{},A,i)||[],children:(0,m.jsxs)(Nn,{ref:g,"aria-labelledby":`${P} (${e.metaType})`,onClick:t=>{E(e),t.stopPropagation()},onDoubleClick:t=>{"OBJECT-REFERENCE"===e.metaType||"FUNCTION-CALL"===e.metaType?_(e.ref,!z):_(e.id,!z),t.stopPropagation()},className:W?void 0:"nodrag",bounded:a,minified:B,selected:z,focused:O,color:x.color,style:h,children:[(0,m.jsxs)(s.A,{justifyContent:"space-between",className:W?void 0:"nodrag",alignItems:"center",spacing:1,direction:"row",sx:{display:"flex",margin:"4px"},children:[!B&&(0,m.jsx)(Cr,{id:e.id,progress:u,color:x.color,limitedRender:d,nameId:t?t.id:e.id,name:P,icon:x.icon?x.icon:"CheckBoxRounded",editing:e.editing,setIsEditing:e.metaType===o.UB.ObjectReference||e.metaType===o.UB.FunctionCall?t=>w(e.ref,t):t=>w(e.id,t)}),B&&(0,m.jsx)(Dr,{id:e.id,blockName:n.name,propertyInfo:n.properties,properties:e.properties,interactionDisabled:i,context:l,limitedRender:d,icon:x.icon?x.icon:"CheckBoxRounded",progress:u,inDrawer:v}),x.extras&&!d&&(0,m.jsx)(_r,{data:e,inDrawer:v,copyFn:p,cutFn:f,deleteFn:()=>R(e,c.parentId,c.fieldInfo),interactionDisabled:i,blockSpec:x,isCollapsed:k,setIsCollapsed:j,isSelected:z,setIsSelected:e.metaType===o.UB.ObjectReference||e.metaType===o.UB.FunctionCall?t=>{_(e.ref,t)}:t=>{_(e.id,t)},docActive:I,setDocActive:t=>D(e.id,t),isDebugging:C,setIsDebugging:T})]}),y&&(0,m.jsx)(m.Fragment,{children:[un.yX.Top,un.yX.Bottom,un.yX.Left,un.yX.Right].filter((e=>{var t;return null==(t=x.connections)?void 0:t[e]})).map((t=>{var n,r;return(0,m.jsx)(kr,{nodeData:e,position:t,blockSpec:x,direction:(null==(r=null==(n=x.connections)?void 0:n[t])?void 0:r.direction)||o.ok.Inbound},t)}))}),(0,m.jsx)(zt,{isOpen:I&&!d||!1,onStateChange:t=>D(e.id,t),showOverlay:!1,draggable:!0,clickableOverlay:!1,children:(0,m.jsx)(ar,{data:e,typeSpec:n})}),(0,m.jsx)(dn.A,{in:!k&&!B,orientation:"vertical",children:(0,m.jsxs)(S.A,{children:[e.metaType===o.UB.FunctionDeclaration&&Object.keys(e.arguments).length>0&&(0,m.jsx)(s.A,{spacing:.5,direction:"column",style:{borderRadius:4,display:"flex",margin:4,padding:5,backgroundColor:"rgba(0,0,0,0.2)"},children:e.arguments.map(((e,t)=>(0,m.jsx)(zn,{id:e,regionInfo:{parentId:o.lJ,fieldInfo:{id:e,name:e,accepts:[],default:null,isList:!1,fullWidth:!1,type:o.Ut.Block}},bounded:!0,context:l||[]},t)))}),!d&&Object.keys(F).length>0&&e.metaType===o.UB.ObjectInstance&&(0,m.jsx)(Tr,{id:e.id,interactionDisabled:i,simpleProperties:F,properties:e.properties}),(e.metaType===o.UB.ObjectInstance||e.metaType===o.UB.FunctionCall||e.metaType===o.UB.FunctionDeclaration)&&(null==(b=Object.entries(L))?void 0:b.map((([t,n])=>{const r=n.fullWidth?"":n.name;return(0,m.jsx)(Ln,{children:(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between"},children:["string"==typeof r?!n.fullWidth&&(0,m.jsx)(Yt.A,{color:"#eee",style:{margin:"2px 2px 2px 5px"},children:"string"==typeof r&&r}):(0,m.jsx)(S.A,{style:{paddingLeft:5},children:(0,m.jsx)(xt,{label:"",disabled:i,value:e.properties[r.id]?e.properties[r.id]:"",onChange:t=>N(e.id,r.id,t),options:r.options},r.name)}),n.isList?(0,m.jsx)(mr,{ids:e.properties[t],regionInfo:{parentId:e.id,fieldInfo:n},interactionDisabled:i,context:l||[],limitedRender:d||!1}):(0,m.jsx)(gr,{id:e.properties[t],regionInfo:{parentId:e.id,fieldInfo:n},hideText:!n.fullWidth,interactionDisabled:i||v,context:l||[],limitedRender:d||!1})]},t)},t)})))]})}),(0,m.jsx)(dn.A,{in:C,orientation:"vertical",children:C&&(0,m.jsx)(br,{interactionDisabled:i,data:{data:e,typeSpec:n}})})]})})})),Nr=(0,r.memo)((({id:e,staticData:t,bounded:n,context:r,style:i})=>{const[a,l,c,s]=(0,o.cA)((n=>(0,o.jA)(n.programData,n.executionData,n.programSpec.objectTypes,t||e||""))),u=[...r,...(null==a?void 0:a.metaType)===o.UB.FunctionDeclaration?a.arguments:[]],d={parentId:o.ov,fieldInfo:{id:"PREVIEW",name:"PREVIEW",accepts:[a?a.type:"null"],default:null,isList:!1,fullWidth:!1,type:o.Ut.Block}};return console.log(a),a?a.metaType===o.UB.Comment?(0,m.jsx)(Un,{data:a,bounded:!0,regionInfo:d}):(0,m.jsx)(Er,{data:a,regionInfo:d,typeSpec:l,interactionDisabled:!0,bounded:n,context:u,style:i,limitedRender:!0}):null})),Sr=n(90326),Br=n(2360),Fr=n(38334),Lr=n(72611),Pr=n(5664),Ur=n(51090),zr=n(2094),Wr=n(52964),$r=n(89661),Mr=n(66576),Vr=n(95910),Xr=(n(27852),n(92095)),Yr=n(84873),Jr=n(89751),Hr=n(95039),Gr=n(73477),Kr=Object.defineProperty,qr=Object.defineProperties,Zr=Object.getOwnPropertyDescriptors,Qr=Object.getOwnPropertySymbols,eo=Object.prototype.hasOwnProperty,to=Object.prototype.propertyIsEnumerable,no=(e,t,n)=>t in e?Kr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ro=(e,t)=>{for(var n in t||(t={}))eo.call(t,n)&&no(e,n,t[n]);if(Qr)for(var n of Qr(t))to.call(t,n)&&no(e,n,t[n]);return e},oo=(e,t)=>qr(e,Zr(t)),io=(0,p.Ay)("div")({width:"100%",display:"grid",height:"45px",alignItems:"center",gridTemplateColumns:"auto 46px"},(({theme:e})=>({backgroundColor:"dark"===e.palette.mode?(0,c.a)(e.palette.background.default,.1):(0,c.e$)(e.palette.background.default,.1)}))),ao=({})=>{var e;const t=(0,o.cA)((e=>e.tabs.filter((e=>e.visible)))),n=(0,o.cA)((e=>e.tabs.filter((e=>!e.visible)))),i=(0,o.cA)((e=>e.setTabs)),a=(0,o.cA)((e=>e.activeTab)),l=(0,o.cA)((e=>e.setActiveTab)),c=(0,o.cA)((e=>e.removeTab)),s=(0,o.cA)((e=>e.addTab)),u=(0,o.cA)((e=>e.setTabVisibility)),[d,p]=(0,r.useState)(null);return(0,m.jsxs)(io,{children:[(0,m.jsx)(Sr._.Group,{as:"ul",axis:"x",values:t,onReorder:i,style:{listStyle:"none",display:"flex",flexWrap:"nowrap",padding:5,margin:0},children:(0,m.jsx)(Br.N,{initial:!1,children:t.map((e=>(0,m.jsx)(lo,{item:e,onSelect:()=>{l(e)},isSelected:a===e.id,onRemove:()=>{return n=e.id,void t.some((e=>{if(e.id===n)return p(e),!0}));var n},removable:t.length>1,peerCount:t.length-1},e.id)))})}),(0,m.jsx)("div",{style:{width:34,height:34,display:"flex"},children:(0,m.jsx)(Ze,{data:{},label:"Edit Tabs",icon:"AddRounded",inner:[{type:"HEADER",label:"Tab Actions"},{type:"DIVIDER"},{type:"ENTRY",label:"Add Tab",left:"AddRounded",onClick:s,preventCloseOnClick:!0},{type:"ENTRY",label:"Open Existing...",right:"FolderOpenRounded",inner:n.length>=0?[{type:"HEADER",label:"Open Existing Tab"},...n.map((e=>({type:"ENTRY",onClick:()=>u(e.id,!0),label:e.title,left:"InsertDriveFileRounded"})))]:[{type:"ENTRY",label:"No Hidden Tabs"}]}]})}),(0,m.jsxs)(zt,{isOpen:null!==d,onStateChange:()=>p(null),children:[(0,m.jsxs)(Fr.A,{children:['Delete "',null==d?void 0:d.title,'"?']}),(0,m.jsx)(Lr.A,{children:(0,m.jsxs)(Pr.A,{noWrap:!1,children:["Are you sure you want to delete this tab?"," ",(null==(e=null==d?void 0:d.blocks)?void 0:e.length)?`Deleting this tab will remove  ${d.blocks.length}+ blocks.`:"This tab has no contents."]})}),(0,m.jsxs)(Ur.A,{children:[(0,m.jsx)(De,{title:"Delete",color:"error",onClick:()=>{(null==d?void 0:d.id)&&(c(d.id),p(null))},children:"Delete"},"confirm-delete"),(0,m.jsx)(De,{title:"Cancel",onClick:()=>p(null),children:"Cancel"},"confirm-cancel")]})]})]})},lo=({item:e,onRemove:t,isSelected:n,peerCount:i=2,onSelect:a})=>{const[l,c]=(0,r.useState)(!1),s=(0,o.cA)((e=>e.renameTab)),u=(0,o.cA)((e=>e.setTabVisibility)),d={inactive:{flex:1,boxShadow:"0px 0px 0px 0px transparent",transition:{type:"tween",duration:.4}},active:{boxShadow:`0px 0px 0px 2px ${(0,ln.A)().palette.primary.main}`,flex:i+1,transition:{type:"tween",duration:.4}},initial:{flex:1,boxShadow:"0px 0px 0px 0px transparent",transition:{type:"tween",duration:.4}}};return(0,r.useEffect)((()=>{c(n)}),[n]),(0,m.jsx)(zr.x,{onClickAway:()=>c(!1),children:(0,m.jsx)(Sr._.Item,{value:e,id:e.id,dragListener:!l,onClick:a,onDoubleClick:()=>c(!0),style:{borderRadius:5,marginRight:5,backgroundColor:"transparent"},animate:n?"active":"inactive",initial:"initial",variants:d,exit:{opacity:0,y:0,transition:{duration:.3}},whileDrag:"active",className:n?"selected":"",children:(0,m.jsx)(le,{value:e.title,hideLabelPrefix:!0,onFocus:()=>{a(),c(!0)},onBlur:()=>c(!1),onChange:t=>s(e.id,t.target.value),extra:(0,m.jsx)(Ze,{data:{},label:"Edit Tab",size:"small",icon:"CloseRounded",inner:[{type:"HEADER",label:"Tab Actions"},{type:"ENTRY",label:"Hide Tab",left:"VisibilityOffRounded",onClick:()=>{u(e.id,!1)}},{type:"ENTRY",label:"Delete Tab",left:"DeleteRounded",onClick:()=>{t()}}]})})})})},co={highlighted:{strokeWidth:30,stroke:"#777"},default:{strokeWidth:20,stroke:"#333"}},so=({fromX:e,fromY:t,fromPosition:n,toX:r,toY:o,toPosition:i})=>{const[a]=(0,un.oN)({sourceX:e,sourceY:t,sourcePosition:n,targetX:r,targetY:o,targetPosition:i}),l=(0,ln.A)();return(0,m.jsxs)("g",{children:[(0,m.jsx)("path",{fill:"none",stroke:"dark"===l.palette.mode?"#ffffff99":"#00000099",strokeWidth:1.5,d:a}),(0,m.jsx)("circle",{cx:r,cy:o,fill:"dark"===l.palette.mode?"#fff":"#000",r:3,stroke:"#222",strokeWidth:1.5})]})},uo=({id:e,sourceX:t,sourceY:n,targetX:i,targetY:a,sourcePosition:l,targetPosition:c,style:u={},markerEnd:d})=>{const p=(0,o.cA)((e=>e.updateEdgeValue)),h=(0,o.cA)((e=>e.deleteEdge)),g=(0,o.cA)((e=>e.toggleEdgeMode)),b=((0,o.cA)((e=>e.onVPEClick)),(0,o.cA)((0,r.useCallback)((t=>t.programData[e]),[e]))),[y,v]=(0,r.useState)(!1),[x,k,j]=(0,un.oN)({sourceX:t,sourceY:n,sourcePosition:l,targetX:i,targetY:a,targetPosition:c});return b&&(0,m.jsxs)("g",{style:{zIndex:y?100:1,userSelect:"none"},onClick:()=>{console.log("click"),v(!y)},children:[(0,m.jsx)(f.P.path,{id:e,style:oo(ro({},u),{strokeWidth:3.5,fill:"transparent",userSelect:"none"}),stroke:y?"#ccc":"#aaa",d:x,markerEnd:d,strokeDasharray:"10 6",initial:{strokeDashoffset:16},animate:{strokeDashoffset:0},transition:{duration:.5,repeat:1/0,ease:!1}}),(0,m.jsx)(f.P.path,{id:`inner-${e}`,style:oo(ro({},u),{fill:"transparent",userSelect:"none"}),opacity:.5,d:x,markerEnd:d,strokeLinecap:"round",variants:co,animate:y?"highlighted":"default"}),(0,m.jsx)(un.rV,{children:(0,m.jsx)(Mr.A,{in:y,children:(0,m.jsx)(s.A,{className:"nodrag nopan",direction:"row",alignItems:"center",onClick:e=>e.stopPropagation(),gap:1,style:{position:"absolute",transform:`translate(-50%, -50%) translate(${k}px,${j}px)`,borderRadius:5,flexDirection:"row",userSelect:"none",pointerEvents:"all"},children:b.type===o.Xt.Number?(0,m.jsx)(ce,{label:"Edge",value:Number(b.value),onChange:e=>p(b.id,e),extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,children:[(0,m.jsx)(Te,{title:"Toggle Edge Type",size:"small",onClick:e=>{g(b.id),e.stopPropagation()},icon:"TagRounded"}),(0,m.jsx)(Te,{title:"Delete edge",size:"small",onClick:e=>{h(b.id),e.stopPropagation()},icon:"DeleteRounded"})]})}):(0,m.jsx)(le,{label:"Edge",value:b.value,onChange:e=>p(b.id,e.target.value),extra:(0,m.jsxs)(s.A,{direction:"row",gap:1,children:[(0,m.jsx)(Te,{title:"Toggle Edge Type",size:"small",onClick:e=>{g(b.id),e.stopPropagation()},icon:"TextFieldsRounded"}),(0,m.jsx)(Te,{title:"Delete edge",size:"small",onClick:e=>{h(b.id),e.stopPropagation()},icon:"DeleteRounded"})]})})})})})]})},po=(0,p.Ay)(s.A)({WebkitBackdropFilter:"blur(15px)",backdropFilter:"blur(15px)",borderRadius:5,padding:5},(({theme:e})=>({backgroundColor:"dark"===e.palette.mode?"rgba(200,200,200,0.05)":"rgba(100,100,100,0.05)"})));function fo(){const{zoom:e,x:t,y:n}=(0,un.kW)(),{fitView:r,zoomIn:o,zoomOut:i,setViewport:a}=(0,un.VH)();return(0,m.jsx)(un.Zk,{position:"bottom-left",children:(0,m.jsxs)(po,{direction:"column",gap:1,alignItems:"center",children:[(0,m.jsx)(Te,{title:"Zoom In",disabled:e>=1,onClick:()=>o({duration:300}),placement:"right",icon:"AddRounded"}),(0,m.jsx)(vt,{value:e,sx:{height:100},min:.25,max:1,step:.05,onChange:(e,r)=>a({zoom:"number"==typeof r?r:r[0],x:t,y:n},{duration:200})}),(0,m.jsx)(Te,{title:"Zoom Out",disabled:e<=.25,onClick:()=>i({duration:300}),placement:"right",icon:"RemoveRounded"}),(0,m.jsx)(Te,{title:"Fit View",onClick:()=>r({duration:300}),placement:"right",icon:"FullscreenRounded"})]})})}var ho=(0,r.memo)((({id:e})=>(0,m.jsx)(zn,{id:e,regionInfo:{parentId:o.j$,fieldInfo:{id:o.j$,name:o.j$,accepts:[],default:null,type:o.Ut.Block}},dragDisabled:!0,context:[]})));function go({snapToGrid:e=!0,drawerWidth:t,bounds:n,reactflowProOptions:a}){const l=(0,ln.A)(),c=(0,o.cA)((e=>e.setTabViewport)),s=(0,o.cA)((e=>e.setClipboardBlock)),u=(0,o.cA)((e=>e.updateItemSelected)),d=(0,o.cA)((e=>e.setSelections)),p=(0,o.cA)((e=>null!==e.activeDrawer)),f=(0,o.cA)((e=>{let t=null;return e.tabs.some((n=>n.id===e.activeTab&&(t=n,!0))),t})),h=(0,o.cA)((e=>e.createEdge)),g=(0,o.cA)((e=>e.paste)),y=(0,o.cA)((e=>{var t,n;return(null==(n=null==(t=e.clipboard)?void 0:t.regionInfo)?void 0:n.parentId)===o.j$&&[o.zy.Paste,o.zy.Copy,o.zy.Cut].includes(e.clipboard.action||o.zy.Select)})),v=(0,o.cA)((e=>e.validateEdge)),x=(0,o.cA)((e=>e.onOffVPEClick)),k=(0,o.cA)((e=>e.setConnectionInfo)),j=(0,o.cA)((e=>e.getTabViewport)),C=(0,o.cA)((0,r.useCallback)((e=>{var t,n;return(null==(n=null==(t=null==f?void 0:f.blocks)?void 0:t.map((t=>{const n=e.programData[t];return n?n.metaType===o.UB.Argument?null:{id:n.id,position:n.position,type:"canvasNode",data:{typeSpec:e.programSpec.objectTypes[n.type]},selected:n.selected}:null})))?void 0:n.filter((e=>null!==e)))||[]}),[f])),T=(0,o.cA)((e=>Object.values(e.programData).filter((e=>e.metaType===o.UB.Connection)).map((e=>({id:e.id,source:e.parent.id,target:e.child.id,sourceHandle:e.parent.handle,targetHandle:e.child.handle,type:"canvasEdge"}))))),w=(0,o.cA)((e=>Object.entries(e.programSpec.objectTypes).filter((([e,t])=>t.primitiveType===o.WR.Object&&(t.instanceBlock.onCanvas||t.referenceBlock.onCanvas)||t.primitiveType===o.WR.Function&&(t.functionBlock.onCanvas||t.callBlock.onCanvas))).map((([e])=>e)))),_={parentId:o.j$,fieldInfo:{id:o.j$,name:o.j$,accepts:w,default:null,type:o.Ut.Block}},A=(0,o.cA)((e=>e.moveBlocks)),I=(0,o.cA)((e=>e.createPlacedBlock)),{screenToFlowPosition:D,fitView:R,setViewport:O}=(0,un.VH)(),E=(0,i.H)({accept:w,canDrop:e=>{var t,n,r;return e&&((null==(t=null==e?void 0:e.regionInfo)?void 0:t.parentId)===o.j$||(null==(n=null==e?void 0:e.regionInfo)?void 0:n.parentId)===o.lJ&&(null==e?void 0:e.typeSpec)&&Vn(null==e?void 0:e.typeSpec,"onCanvas",null==(r=null==e?void 0:e.data)?void 0:r.metaType))},drop:(e,t)=>{const n=t.getClientOffset();if(!n)return;const r=D(n);(null==e?void 0:e.data)&&I(e.data,r.x,r.y)}},[t,w,t,n,p])[1];(0,r.useEffect)((()=>{const e=j((null==f?void 0:f.id)||"");return e?O(e):R(),()=>{}}),[null==f?void 0:f.id]);const N=e=>{A(e),e.forEach((e=>{"select"===e.type&&(console.log(e),u(e.id,e.selected))}))};return(0,m.jsx)(mo,{pastable:y,children:(0,m.jsx)(Vr.A,{children:({width:t,height:n})=>(0,m.jsx)(ct,{data:{},inner:[{type:"ENTRY",label:"Paste",left:"ContentCopyRounded",disabled:!y,onClick:(e,t)=>{const n=j((null==f?void 0:f.id)||""),r=(null==n?void 0:n.zoom)||1,{x:o,y:i}=D({x:t.clientX,y:t.clientY}),a={coordinates:{x:o-100/r,y:i-100/r},tab:null==f?void 0:f.id,regionInfo:_};g(a),t.stopPropagation()}}],children:(0,m.jsxs)(un.Gc,{ref:E,maxZoom:1,style:{height:n,width:t},minZoom:.25,nodesConnectable:!0,elevateNodesOnSelect:!0,onDoubleClick:e=>{s(),d([])},onClick:e=>{x(null),s(),e.stopPropagation()},onMove:(0,b.debounce)(((e,t)=>{f&&c(f.id,t)}),3e3),elementsSelectable:!0,nodeTypes:(0,r.useMemo)((()=>({canvasNode:ho})),[]),edgeTypes:(0,r.useMemo)((()=>({canvasEdge:uo})),[]),nodes:C,edges:T,connectionLineComponent:so,onConnect:e=>{v(e.source||"",e.sourceHandle,e.target||"",e.targetHandle)&&h(e.source||"",e.sourceHandle,e.target||"",e.targetHandle)},onConnectStart:(e,t)=>{k(t)},onConnectEnd:e=>{k(null)},onNodesChange:N,fitView:!0,snapToGrid:e,snapGrid:[30,30],proOptions:a,children:[(0,m.jsx)(Wr.o,{style:{backgroundColor:"transparent",WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)",borderRadius:5,overflow:"hidden",padding:0,height:100},maskColor:"dark"===l.palette.mode?"#d0d0d070":"#20202070",nodeStrokeColor:"transparent",nodeColor:e=>Vn(e.data.typeSpec,"color",e.data.metaType)||"#fff",nodeBorderRadius:10,pannable:!0,zoomable:!0}),(0,m.jsx)(fo,{}),(0,m.jsx)($r.V,{variant:$r._.Dots,color:"#555",gap:30,size:2})]})})})})}var mo=(0,p.Ay)("div")({alignItems:"center",justifyContent:"center",display:"flex",flex:1,flexDirection:"row",height:"100%"},(({theme:e,pastable:t})=>({backgroundColor:t?(0,c.a)(e.palette.background.default,.3):e.palette.background.default,"& .react-flow__selection":{background:(0,c.X4)((0,c.e$)(e.palette.primary.main,.5),.3),border:`1px dotted ${(0,c.X4)(e.palette.primary.main,.8)}`,borderRadius:3,outline:"none"},"& .react-flow__nodesselection-rect":{background:(0,c.X4)((0,c.e$)(e.palette.primary.main,.5),.3),border:`1px dotted ${(0,c.X4)(e.palette.primary.main,.8)}`,borderRadius:3,outline:"none",zIndex:1},"& .react-flow__nodesselection":{background:"transparent"}}))),bo=({setSearchTerm:e,setActiveDrawer:t})=>{const n=(0,o.cA)((e=>e.programSpec.drawers)),r=(0,o.cA)((e=>e.activeDrawer));return(0,m.jsxs)(s.A,{direction:"column",sx:{padding:"5px",userSelect:"none"},spacing:1,children:[0===n.length&&(0,m.jsx)(Te,{title:"Default",placement:"right",canToggle:!0,toggled:!1,onClick:()=>{},icon:"AddBox"},"default-drawer-tt"),n.map(((n,o)=>(0,m.jsx)(Te,{title:n.title,placement:"right",canToggle:!0,toggled:r===o,onClick:()=>{e(""),t(r===o?null:o)},icon:n.icon},`${n.title}-${o}-drawer-tt`)))]})},yo=({searchTerm:e,setSearchTerm:t,drawerWidth:n})=>{const r=(0,o.cA)((e=>e.programSpec.drawers)),i=(0,o.cA)((e=>e.activeDrawer)),a=(0,o.cA)((e=>e.addInstance)),[l,u,d,p,f]=(0,o.cA)((e=>{if(null!==i){const t=e.programSpec.drawers[i];if(t.type===o._g.Multiple){return[{},(0,b.pick)(e.programSpec.objectTypes,t.objectTypes),o._g.Multiple,null,null]}if(t.type===o._g.Singular){return[(0,b.pickBy)(e.programData,(e=>e.type===t.objectType&&(e.metaType===o.UB.ObjectInstance||e.metaType===o.UB.FunctionDeclaration))),{},o._g.Singular,t.objectType,e.programSpec.objectTypes[t.objectType]]}}return[{},{},null,null,null]})),h=d===o._g.Multiple?Object.keys(u).map((e=>(0,o.JF)(e,u[e],!1))):d===o._g.Singular&&p&&f?Object.keys(l).map((e=>(0,o.x1)(p,l[e],f))):[],[g,y]=(0,N.A)(),[v,x]=(0,N.A)(),k=(0,ln.A)();return(0,m.jsxs)(s.A,{ref:g,direction:"column",sx:{userSelect:"none",width:n,backgroundColor:"light"===k.palette.mode?(0,c.e$)(k.palette.background.paper,.1):(0,c.a)(k.palette.background.paper,.1),height:"100%"},children:[(0,m.jsxs)(s.A,{ref:v,sx:{backgroundColor:"light"===k.palette.mode?(0,c.e$)(k.palette.background.paper,.15):(0,c.a)(k.palette.background.paper,.15),padding:"10px"},direction:"column",spacing:1,children:[(0,m.jsxs)(s.A,{direction:"row",sx:{alignItems:"center",justify:"space-between",width:"100%"},justifyContent:"space-between",children:[(0,m.jsx)(Yt.A,{style:{color:k.palette.text.secondary},children:null!==i&&r[i].title}),null!==i&&r[i].type===o._g.Singular&&(null==f?void 0:f.primitiveType)===o.WR.Object&&!f.instanceBlock.onCanvas&&(0,m.jsx)(Te,{size:"small",placement:"bottom",title:`Add ${f.name}`,onClick:()=>a(r[i].objectType),icon:"AddRounded"})]}),(0,m.jsx)("div",{children:(0,m.jsx)(le,{label:"Search",value:e,onChange:e=>t(e.target.value)})})]}),(0,m.jsx)(S.A,{sx:{flex:1,width:n},children:(0,m.jsx)(yt,{height:y.height-x.height,width:n,vertical:!0,children:(0,m.jsx)(s.A,{direction:"column",gap:.5,sx:{padding:"4px"},children:h.filter((t=>""===e||t.name.toLowerCase().includes(e.toLowerCase()))).map((e=>(0,m.jsx)(zn,{staticData:e,bounded:!0,context:[],interactionDisabled:!0,regionInfo:{fieldInfo:{id:"",name:"",accepts:[e.type],default:null,type:o.Ut.Block},parentId:o.lJ}},e.id)))})})})]})},vo=({drawerWidth:e=235,snapToGrid:t=!0,animateDrawer:n=!0,bounds:i,reactflowProOptions:a})=>{const[l,s]=(0,r.useState)(""),u=(0,o.cA)((e=>e.activeDrawer)),p=(0,o.cA)((e=>e.setActiveDrawer)),f=(0,o.cA)((e=>e.activeTab)),h=(0,o.cA)((e=>e.addTab)),g=(0,ln.A)();return(0,m.jsxs)(S.A,{sx:{overflow:"hidden",display:"flex",flexDirection:"row",height:"100%",flex:1,padding:0,backgroundColor:"light"===g.palette.mode?(0,c.e$)(g.palette.background.paper,.2):(0,c.a)(g.palette.background.paper,.2)},children:[(0,m.jsx)(bo,{setActiveDrawer:p,setSearchTerm:s}),n?(0,m.jsx)(dn.A,{in:n&&null!==u,orientation:"horizontal",children:null!==u&&(0,m.jsx)(yo,{searchTerm:l,drawerWidth:e,setSearchTerm:s})}):null!==u?(0,m.jsx)(yo,{searchTerm:l,drawerWidth:e,setSearchTerm:s}):null,(0,m.jsxs)(S.A,{sx:{display:"flex",flexDirection:"column",height:"100%",flex:1,padding:0},children:[(0,m.jsx)(ao,{}),f?(0,m.jsx)(go,{drawerWidth:e,snapToGrid:t,bounds:i,reactflowProOptions:a}):(0,m.jsx)(mo,{sx:{backgroundColor:"dark"===g.palette.mode?(0,c.a)(g.palette.background.default,.05):(0,c.e$)(g.palette.background.default,.05)},children:(0,m.jsxs)(d.A,{children:[(0,m.jsxs)(Gt.A,{children:[(0,m.jsx)(Yt.A,{gutterBottom:!0,variant:"h5",component:"div",children:"No Tab Selected"}),"Create or open a tab to begin"]}),(0,m.jsx)(an.A,{children:(0,m.jsx)(De,{title:"Create Tab",startIcon:"AddRounded",onClick:()=>h(),children:"Create Tab"})})]})})]})]})},xo=({bounds:e})=>{const{isDragging:t,item:n,currentOffset:r}=(0,Xr.V)((e=>({item:e.getItem(),currentOffset:e.getClientOffset(),isDragging:e.isDragging()})));return t&&n?(0,m.jsxs)("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:0,height:0,opacity:.5,WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"},children:[n.data&&n.data.metaType===o.UB.Comment&&(0,m.jsx)("div",{style:{transform:`translate(${r?r.x:0}px, ${r?r.y:0}px)`},children:(0,m.jsx)(Un,{data:n.data,regionInfo:n.regionInfo,interactionDisabled:!0,limitedRender:!0})}),n.data&&n.data.metaType!==o.UB.Comment&&(0,m.jsx)("div",{style:{transform:`translate(${r?r.x:0}px, ${r?r.y:0}px)`},children:(0,m.jsx)(Er,{data:n.data,regionInfo:n.regionInfo,typeSpec:n.typeSpec,context:n.context,interactionDisabled:!0,limitedRender:!0})})]}):null};function ko({store:e,muiTheme:t,drawerWidth:n=235,snapToGrid:r=!1,animateDrawer:i=!0,initial:a,reactflowProOptions:l}){const[c,s]=(0,N.A)(),u=()=>(0,m.jsx)(Hr.Q,{backend:Jr.U2,options:Yr.P,children:(0,m.jsxs)(un.Ln,{children:[(0,m.jsx)("div",{ref:c,style:{userSelect:"none",padding:0,margin:0,display:"flex",height:"inherit",width:"inherit"},children:(0,m.jsx)(vo,{drawerWidth:n,snapToGrid:r,animateDrawer:i,bounds:s,reactflowProOptions:l})}),(0,m.jsx)(xo,{bounds:s})]})});return t?(0,m.jsx)(o.JT,{store:e,initial:a,children:(0,m.jsx)(Gr.A,{theme:t,children:u()})}):(0,m.jsx)(o.JT,{store:e,initial:a,children:u()})}var jo=e=>{const[t,n,i]=(0,o.cA)((0,r.useCallback)((t=>(0,o.jA)(t.programData,t.executionData,t.programSpec.objectTypes,e.data)),[e.data])),a={x:0,z:0,scale:1,onCanvas:!1,interactionDisabled:!0,bounded:!0,fieldInfo:o.ov,parentId:o.ov},l={parentId:o.ov,fieldInfo:{id:"PREVIEW",name:"PREVIEW",accepts:[(null==t?void 0:t.type)||""],default:null,isList:!1,fullWidth:!1,type:o.Ut.Block}};if(!n)throw new Error(`Missing typeSpec entry for ${e.data.type}`);return(0,m.jsx)(Er,oo(ro(ro({},e),a),{regionInfo:l,data:t,typeSpec:n,context:e.context,progress:i||void 0}))},Co=({store:e,muiTheme:t,data:n,style:r={},initial:i,context:a})=>{const l=()=>(0,m.jsx)(Hr.Q,{backend:Jr.U2,options:Yr.P,children:(0,m.jsx)(jo,{data:n,style:r,context:a})});return t?(0,m.jsx)(o.JT,{store:e,initial:i,children:(0,m.jsx)(Gr.A,{theme:t,children:l()})}):(0,m.jsx)(o.JT,{store:e,initial:i,children:l()})}}}]);