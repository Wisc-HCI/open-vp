(self.webpackChunksimple_vp=self.webpackChunksimple_vp||[]).push([[179],{"./src/stories/Embedded.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Embedded:function(){return Embedded},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),_components_Constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Constants.js"),react_use_measure__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/react-use-measure/dist/web.js"),_components_Block_Utility__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Block/Utility.jsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["drawers","objectTypes","programData","drawerWidth"];__webpack_exports__.default={title:"Embedded",component:_components__WEBPACK_IMPORTED_MODULE_1__.qA};var Embedded=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,drawerWidth=args.drawerWidth,otherArgs=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.Z)(args,_excluded),_useMeasure=(0,react_use_measure__WEBPACK_IMPORTED_MODULE_6__.Z)(),_useMeasure2=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_7__.Z)(_useMeasure,2),ref=_useMeasure2[0],bounds=_useMeasure2[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){_components__WEBPACK_IMPORTED_MODULE_1__.y6.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData})})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{style:{display:"flex",height:"100vh",flexDirection:"row",backgroundColor:otherArgs.highlightColor},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{style:{flex:1,backgroundColor:"darkgray"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_Block_Utility__WEBPACK_IMPORTED_MODULE_3__.II,{onChange:function onChange(e){return console.log(e)},defaultValue:"horse"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{ref:ref,style:{flex:1,margin:10},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components__WEBPACK_IMPORTED_MODULE_1__.qA,(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({},otherArgs),{},{store:_components__WEBPACK_IMPORTED_MODULE_1__.y6,height:bounds.height,width:bounds.width,drawerWidth:drawerWidth}))})]})}.bind({});Embedded.args={highlightColor:"#ff00ff",drawerWidth:235,drawers:[{title:"Structures",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,objectTypes:["functionType","operationType","blockType"],icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.j4u},{title:"Functions",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.CALL,objectType:"functionType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.xqh},{title:"Hats",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"hatType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.aCJ},{title:"Boots",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"bootType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.Wpg}],objectTypes:{programType:{name:"Program",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.ggF,extras:[{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,label:"More Options",type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.fxx}]}]},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},blockType:{name:"Block",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#7f7f7f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.yG,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.fxx},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},functionType:{name:"Function",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.xqh,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.SELECTION_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT,argumentType:"hatType"}]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.xqh},properties:{children:{name:"Children",accepts:["functionType","blockType","operationType"],default:[],isList:!0,fullWidth:!0}}},operationType:{name:"Operation",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.j4u,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}],hideNewPrefix:!0},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},speed:{name:"Speed",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.NUMBER,default:1,min:0,max:2},doFunky:{name:"Do Funky",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.BOOLEAN,default:!1},greeting:{name:"Greeting",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.STRING,default:""},time:{name:"Time",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.OPTIONS,options:[{value:"am",label:"AM"},{value:"pm",label:"PM"}],default:"am"}}},hatType:{name:"Hat",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},bootType:{name:"Boot",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}}},programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{children:["2dfsessfs"]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,arguments:[],properties:{children:[]},position:{x:400,y:10},canDelete:!0,canEdit:!0,selected:!0,editing:!1},s3siakawme:{id:"s3siakawme",name:"Passed Hat",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.ARGUMENT,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{hat:null,boot:null,speed:1,doFunky:!0,greeting:"Hello!"},canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},Embedded.parameters=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_8__.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, drawerWidth, ...otherArgs } = args;\n\n  const [ref, bounds] = useMeasure();\n\n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData});\n  })\n  \n  return (\n    <div style={{display:'flex',height:'100vh',flexDirection:'row',backgroundColor:otherArgs.highlightColor}}>\n      <div style={{flex:1,backgroundColor:'darkgray'}}>\n      <Input onChange={(e)=>console.log(e)} defaultValue='horse'/>\n      </div>\n    <div ref={ref} style={{flex:1,margin:10}}>\n      <Environment {...otherArgs} store={useDefaultProgrammingStore} height={bounds.height} width={bounds.width} drawerWidth={drawerWidth}/>\n    </div>\n    </div>\n    )\n}"}},Embedded.parameters);var __namedExportsOrder=["Embedded"]},"./src/stories/Environment.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Fullscreen:function(){return Fullscreen},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return Environment_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),components=__webpack_require__("./src/components/index.js"),index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),Constants=__webpack_require__("./src/components/Constants.js"),web=__webpack_require__("./node_modules/react-use-measure/dist/web.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["drawers","objectTypes","programData","executionData","drawerWidth"],Synchonizing=function Synchonizing(){return(0,jsx_runtime.jsx)(index_esm.Bw1,{className:"rotate"})},Environment_stories={title:"Fullscreen",component:components.qA},Fullscreen=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,executionData=args.executionData,drawerWidth=args.drawerWidth,otherArgs=(0,objectWithoutProperties.Z)(args,_excluded),_useMeasure=(0,web.Z)(),_useMeasure2=(0,slicedToArray.Z)(_useMeasure,2),ref=_useMeasure2[0],bounds=_useMeasure2[1];return(0,react.useLayoutEffect)((function(){components.y6.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData,executionData:executionData})})),(0,jsx_runtime.jsx)("div",{ref:ref,style:{display:"flex",height:"100vh",flexDirection:"row",backgroundColor:otherArgs.highlightColor},children:(0,jsx_runtime.jsx)(components.qA,(0,objectSpread2.Z)((0,objectSpread2.Z)({},otherArgs),{},{store:components.y6,height:bounds.height,width:bounds.width,drawerWidth:drawerWidth}))})}.bind({});Fullscreen.args={highlightColor:"#ff00ff",drawerWidth:235,snapToGrid:!0,drawers:[{title:"Structures",dataType:components.D3.INSTANCE,objectTypes:["functionType","operationType","blockType"],icon:index_esm.j4u},{title:"Functions",dataType:components.D3.CALL,objectType:"functionType",icon:index_esm.xqh},{title:"Hats",dataType:components.D3.REFERENCE,objectType:"hatType",icon:index_esm.aCJ},{title:"Boots",dataType:components.D3.REFERENCE,objectType:"bootType",icon:index_esm.Wpg}],objectTypes:{programType:{name:"Program",type:components.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:index_esm.ggF,extras:[{type:components.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:components.fY.INDICATOR_ICON,accessor:function accessor(data){return(0,jsx_runtime.jsx)(Synchonizing,{})},label:"Size"},{icon:index_esm.K9M,type:components.fY.DROPDOWN,label:"Custom More...",contents:[components.fY.NAME_EDIT_TOGGLE,components.fY.LOCKED_INDICATOR,components.fY.SELECTION_TOGGLE,components.fY.DIVIDER,{label:"More Options",type:components.fY.DROPDOWN,contents:[components.fY.NAME_EDIT_TOGGLE,components.fY.COLLAPSE_TOGGLE,components.fY.LOCKED_INDICATOR,{type:components.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:components.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:index_esm.fxx},{type:components.fY.INDICATOR_ICON,accessor:function accessor(data){return(0,jsx_runtime.jsx)(Synchonizing,{})},label:"Synchronizing"}]}]},components.fY.DIVIDER,components.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},blockType:{name:"Block",type:components.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#7f7f7f",icon:index_esm.yG,extras:[components.fY.COLLAPSE_TOGGLE,{type:components.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:components.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:index_esm.fxx},components.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},functionType:{name:"Function",type:components.vK.FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:index_esm.xqh,extras:[components.fY.LOCKED_INDICATOR,{icon:index_esm.K9M,type:components.fY.DROPDOWN,contents:[components.fY.SELECTION_TOGGLE,components.fY.NAME_EDIT_TOGGLE,components.fY.DELETE_BUTTON,components.fY.LOCKED_INDICATOR,components.fY.DEBUG_TOGGLE,{type:components.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]},{type:components.fY.ADD_ARGUMENT,argumentType:"hatType"}]},{type:components.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:index_esm.xqh,extras:[{icon:index_esm.K9M,type:components.fY.DROPDOWN,contents:[components.fY.DEBUG_TOGGLE]}]},properties:{children:{name:"Children",accepts:["functionType","blockType","operationType"],default:[],isList:!0,fullWidth:!0}}},operationType:{name:"Operation",type:components.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:index_esm.j4u,extras:[components.fY.LOCKED_INDICATOR,{icon:index_esm.K9M,type:components.fY.DROPDOWN,contents:[components.fY.DELETE_BUTTON,components.fY.DEBUG_TOGGLE,components.fY.SELECTION_TOGGLE]}],hideNewPrefix:!0},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},speed:{name:"Speed",type:Constants.Rb.NUMBER,default:1,min:0,max:20,step:.1,units:"m/s",visualScaling:.1,visualPrecision:1},doFunky:{name:"Do Funky",type:Constants.Rb.BOOLEAN,default:!1},greeting:{name:"Greeting",type:Constants.Rb.STRING,default:""},time:{name:"Time",type:Constants.Rb.OPTIONS,options:[{value:"am",label:"AM"},{value:"pm",label:"PM"}],default:"am"}}},hatType:{name:"Hat",type:components.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:index_esm.aCJ,extras:[components.fY.LOCKED_INDICATOR,{icon:index_esm.K9M,type:components.fY.DROPDOWN,contents:[components.fY.DELETE_BUTTON,components.fY.DEBUG_TOGGLE,components.fY.NAME_EDIT_TOGGLE,components.fY.SELECTION_TOGGLE]}]}},bootType:{name:"Boot",type:components.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:index_esm.aCJ,extras:[components.fY.LOCKED_INDICATOR,{icon:index_esm.K9M,type:components.fY.DROPDOWN,contents:[components.fY.DELETE_BUTTON,components.fY.DEBUG_TOGGLE,components.fY.SELECTION_TOGGLE]}]}}},executionData:{"45535153s":1,"655sssefs":null,"2dfsessfs":function dfsessfs(time){return Math.sin(time/5e3)/2+.3}},programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:components.D3.INSTANCE,properties:{children:["2dfsessfs"]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:components.D3.INSTANCE,arguments:["s3siakawme"],properties:{children:[]},position:{x:400,y:10},canDelete:!0,canEdit:!0,selected:!1,editing:!1},s3siakawme:{id:"s3siakawme",name:"Passed Hat",type:"hatType",dataType:components.D3.ARGUMENT,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:components.D3.INSTANCE,properties:{hat:null,boot:null,speed:1,doFunky:!0,greeting:"Hello!"},canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:components.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:components.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},Fullscreen.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, executionData, drawerWidth, ...otherArgs } = args;\n\n  const [ref, bounds] = useMeasure();\n  \n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData,executionData});\n  })\n  return (\n    <div ref={ref} style={{display:'flex',height:'100vh',flexDirection:'row',backgroundColor:otherArgs.highlightColor}}>\n      <Environment {...otherArgs} store={useDefaultProgrammingStore} height={bounds.height} width={bounds.width} drawerWidth={drawerWidth}/>\n    </div>\n    )\n}"}},Fullscreen.parameters);var __namedExportsOrder=["Fullscreen"]},"./src/stories/External.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{External:function(){return External},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"External",component:_components__WEBPACK_IMPORTED_MODULE_1__.Ty};var External=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,highlightColor=args.highlightColor;(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){_components__WEBPACK_IMPORTED_MODULE_1__.y6.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData})}));var instRef=(0,_components__WEBPACK_IMPORTED_MODULE_1__.HU)("hatType",programData["6dewwwwww"],objectTypes.hatType);return console.log(instRef),console.log(programData["2dfsessfs"]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsxs)("div",{style:{width:300,padding:4},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{paddingBottom:4},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components__WEBPACK_IMPORTED_MODULE_1__.Ty,{store:_components__WEBPACK_IMPORTED_MODULE_1__.y6,data:programData["2dfsessfs"],highlightColor:highlightColor,context:{}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{style:{paddingBottom:4},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components__WEBPACK_IMPORTED_MODULE_1__.Ty,{store:_components__WEBPACK_IMPORTED_MODULE_1__.y6,data:instRef,highlightColor:highlightColor,context:{}})})]})}.bind({});External.args={highlightColor:"#ff00ff",drawerWidth:235,drawers:[{title:"Structures",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,objectTypes:["functionType","operationType","blockType"],icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.j4u},{title:"Functions",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.CALL,objectType:"functionType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.xqh},{title:"Hats",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"hatType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.aCJ},{title:"Boots",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"bootType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.Wpg}],objectTypes:{programType:{name:"Program",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.ggF,extras:[{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,label:"More Options",type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.fxx}]}]},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},blockType:{name:"Block",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#7f7f7f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.yG,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.fxx},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},functionType:{name:"Function",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.xqh,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.SELECTION_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT,argumentType:"hatType"}]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.xqh},properties:{children:{name:"Children",accepts:["functionType","blockType","operationType"],default:[],isList:!0,fullWidth:!0}}},operationType:{name:"Operation",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.j4u,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}],hideNewPrefix:!0},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},speed:{name:"Speed",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.NUMBER,default:1,min:0,max:2},doFunky:{name:"Do Funky",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.BOOLEAN,default:!1},greeting:{name:"Greeting",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.STRING,default:""},time:{name:"Time",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.OPTIONS,options:[{value:"am",label:"AM"},{value:"pm",label:"PM"}],default:"am"}}},hatType:{name:"Hat",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},bootType:{name:"Boot",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_3__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}}},programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{children:["2dfsessfs"]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,arguments:[],properties:{children:[]},position:{x:400,y:10},canDelete:!0,canEdit:!0,selected:!0,editing:!1},s3siakawme:{id:"s3siakawme",name:"Passed Hat",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.ARGUMENT,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{hat:null,boot:null,speed:1,doFunky:!0,greeting:"Hello!"},canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},External.parameters=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_4__.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, highlightColor } = args;\n\n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData});\n  })\n\n  const instRef = referenceTemplateFromSpec('hatType',programData['6dewwwwww'],objectTypes.hatType)\n\n  console.log(instRef)\n  console.log(programData['2dfsessfs'])\n\n  return (\n    <div style={{width:300,padding:4}}>\n      <div style={{paddingBottom:4}}>\n        <ExternalBlock \n          store={useDefaultProgrammingStore} \n          data={programData['2dfsessfs']} \n          highlightColor={highlightColor}\n          context={{}}\n        />\n      </div>\n      <div style={{paddingBottom:4}}>\n        <ExternalBlock \n          store={useDefaultProgrammingStore} \n          data={instRef} \n          highlightColor={highlightColor}\n          context={{}}\n        />\n      </div>\n      \n    </div>\n    )\n}"}},External.parameters);var __namedExportsOrder=["External"]},"./src/stories/SOBORO.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{SOBORO:function(){return SOBORO},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),react_use_measure__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react-use-measure/dist/web.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["drawers","objectTypes","programData","drawerWidth"];__webpack_exports__.default={title:"SOBORO",component:_components__WEBPACK_IMPORTED_MODULE_1__.qA};var STATE_EXPRESSIONS=["notStateExprType","allStateExprType","anyStateExprType"],RETURNS_STATE=["stateType"].concat(STATE_EXPRESSIONS),SOBORO=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,drawerWidth=args.drawerWidth,otherArgs=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_3__.Z)(args,_excluded),_useMeasure=(0,react_use_measure__WEBPACK_IMPORTED_MODULE_4__.Z)(),_useMeasure2=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useMeasure,2),ref=_useMeasure2[0],bounds=_useMeasure2[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){_components__WEBPACK_IMPORTED_MODULE_1__.y6.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData})})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("div",{ref:ref,style:{display:"flex",height:"100vh",flexDirection:"row",backgroundColor:otherArgs.highlightColor},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_components__WEBPACK_IMPORTED_MODULE_1__.qA,(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)((0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({},otherArgs),{},{store:_components__WEBPACK_IMPORTED_MODULE_1__.y6,height:bounds.height,width:bounds.width,drawerWidth:drawerWidth}))})}.bind({});SOBORO.args={highlightColor:"#ff00ff",drawerWidth:235,drawers:[{title:"Rules",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,objectTypes:["whenType","whileType"],icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.j4u},{title:"Actions",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"actionType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.Wpg},{title:"States",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"stateType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ},{title:"State Expressions",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,objectTypes:STATE_EXPRESSIONS,icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ},{title:"Events",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"eventType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ}],objectTypes:{whenType:{name:"When",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#8790a3",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.ggF,hideNewPrefix:!0,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.SELECTION_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE]}]},referenceBlock:null,properties:{listenFor:{name:"Listen For",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.OPTIONS,options:[{value:"first",label:"First Occurance"},{value:"all",label:"All Occurances"}],default:"first"},eventExpression:{name:"When",accepts:["eventType","notEventType","isConstantEventType","orEventType","toEventType","constantEventType","emptyEventType"],default:null,isList:!1,fullWidth:!1},actionExpression:{name:"Do",accepts:["actionType"],default:null,isList:!1,fullWidth:!1}}},whileType:{name:"While",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#6C5799",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.ggF,hideNewPrefix:!0,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.SELECTION_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE]}]},referenceBlock:null,properties:{stateExpression:{name:"While",accepts:RETURNS_STATE,default:null,isList:!1,fullWidth:!1},actionExpression:{name:"Do",accepts:["actionType"],default:null,isList:!1,fullWidth:!1}}},actionType:{name:"Action",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#fa7645",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},eventType:{name:"Event",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#8a645f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},stateType:{name:"State",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#89b18d",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},notStateExprType:{name:"Not-State",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,minified:!0,color:"#677a69",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]},referenceBlock:null,properties:{stateExpression:{name:"Not",accepts:["stateType","notStateType","isConstantStateType","notStateExprType","anyStateExprType","toStateType","constantStateType"],default:null,isList:!1,fullWidth:!1}}},allStateExprType:{name:"Not-State",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,minified:!0,color:"#677a69",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]},referenceBlock:null,properties:{expressionType:{name:"Type",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.OPTIONS,options:[{value:"not",label:"Not"},{value:"is",label:"Is"}],default:"not"},doFunky:{name:"Do Funky",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.BOOLEAN,default:!1},speed:{name:"Speed",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.NUMBER,default:1,min:-2,max:2,step:.1,units:"m/s",visualScaling:.1,visualPrecision:1},hat:{name:"Hat",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.STRING,default:"Funny"},stateExpression:{name:"State",accepts:["stateType","notStateType","isConstantStateType","andStateType","orStateType","toStateType","constantStateType"],default:null,isList:!1,fullWidth:!1}}},anyStateExprType:{name:"Not-State",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,minified:!0,color:"#677a69",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.aCJ,extras:[{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_7__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]},referenceBlock:null,properties:{expressionType:{name:"Type",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.OPTIONS,options:[{value:"not",label:"Not"},{value:"is",label:"Is"}],default:"not"},doFunky:{name:"Do Funky",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.BOOLEAN,default:!1},speed:{name:"Speed",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.NUMBER,default:1,min:-2,max:2,step:.1,units:"m/s",visualScaling:.1,visualPrecision:1},hat:{name:"Hat",type:_components__WEBPACK_IMPORTED_MODULE_1__.Rb.STRING,default:"Funny"},stateExpression:{name:"State",accepts:["stateType","notStateType","isConstantStateType","andStateType","orStateType","toStateType","constantStateType"],default:null,isList:!1,fullWidth:!1}}}},programData:{"6dewwwwww":{id:"6dewwwwww",name:"Play Music",type:"actionType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Human Speech",type:"eventType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},sgssdds32:{id:"sgssdds32",name:"Human Face",type:"stateType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},SOBORO.parameters=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_6__.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, drawerWidth, ...otherArgs } = args;\n\n  const [ref, bounds] = useMeasure();\n  \n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData});\n  })\n  return (\n    <div ref={ref} style={{display:'flex',height:'100vh',flexDirection:'row',backgroundColor:otherArgs.highlightColor}}>\n      <Environment {...otherArgs} store={useDefaultProgrammingStore} height={bounds.height} width={bounds.width} drawerWidth={drawerWidth}/>\n    </div>\n    )\n}"}},SOBORO.parameters);var __namedExportsOrder=["SOBORO"]},"./src/stories/Stress.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Stress:function(){return Stress},__namedExportsOrder:function(){return __namedExportsOrder}});var _Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/components/index.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),_components_Constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Constants.js"),react_use_measure__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-use-measure/dist/web.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["drawers","objectTypes","programData","drawerWidth"];__webpack_exports__.default={title:"Stress",component:_components__WEBPACK_IMPORTED_MODULE_1__.qA};var Stress=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,drawerWidth=args.drawerWidth,otherArgs=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_4__.Z)(args,_excluded),_useMeasure=(0,react_use_measure__WEBPACK_IMPORTED_MODULE_5__.Z)(),_useMeasure2=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(_useMeasure,2),ref=_useMeasure2[0],bounds=_useMeasure2[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)((function(){_components__WEBPACK_IMPORTED_MODULE_1__.y6.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData})})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{ref:ref,style:{display:"flex",height:"100vh",flexDirection:"row",backgroundColor:otherArgs.highlightColor},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_components__WEBPACK_IMPORTED_MODULE_1__.qA,(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},otherArgs),{},{store:_components__WEBPACK_IMPORTED_MODULE_1__.y6,height:bounds.height,width:bounds.width,drawerWidth:drawerWidth}))})}.bind({});Stress.args={highlightColor:"#ff00ff",drawerWidth:235,drawers:[{title:"Structures",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,objectTypes:["functionType","operationType","blockType"],icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.j4u},{title:"Functions",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.CALL,objectType:"functionType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.xqh},{title:"Hats",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"hatType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.aCJ},{title:"Boots",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.REFERENCE,objectType:"bootType",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.Wpg}],objectTypes:{programType:{name:"Program",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.ggF,extras:[{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,label:"More Options",type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.NAME_EDIT_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.fxx}]}]},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0},description:{name:"Description",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.IGNORED,default:"Some description text"}}},blockType:{name:"Block",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#7f7f7f",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.yG,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.COLLAPSE_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.INDICATOR_TEXT,accessor:function accessor(data){return data.properties.children.length},label:"Size"},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.fxx},_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},functionType:{name:"Function",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.xqh,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.SELECTION_TOGGLE,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE,{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT,argumentType:"hatType"}]},{type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.xqh},properties:{children:{name:"Children",accepts:["functionType","blockType","operationType"],default:[],isList:!0,fullWidth:!0}}},operationType:{name:"Operation",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.j4u,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}],hideNewPrefix:!0},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},speed:{name:"Speed",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.NUMBER,default:1,min:0,max:2,visualScaling:100},doFunky:{name:"Do Funky",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.BOOLEAN,default:!1},greeting:{name:"Greeting",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.STRING,default:""},time:{name:"Time",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.OPTIONS,options:[{value:"am",label:"AM"},{value:"pm",label:"PM"}],default:"am"},description:{name:"Description",type:_components_Constants__WEBPACK_IMPORTED_MODULE_2__.Rb.IGNORED,default:"Some description text"}}},hatType:{name:"Hat",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}},bootType:{name:"Boot",type:_components__WEBPACK_IMPORTED_MODULE_1__.vK.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.aCJ,extras:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.LOCKED_INDICATOR,{icon:react_icons_fi__WEBPACK_IMPORTED_MODULE_8__.K9M,type:_components__WEBPACK_IMPORTED_MODULE_1__.fY.DROPDOWN,contents:[_components__WEBPACK_IMPORTED_MODULE_1__.fY.DELETE_BUTTON,_components__WEBPACK_IMPORTED_MODULE_1__.fY.DEBUG_TOGGLE]}]}}},programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{children:["2dfsessfs"]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,arguments:["s3siakawme"],properties:{children:[]},position:{x:400,y:10},canDelete:!0,canEdit:!0,selected:!0,editing:!1},s3siakawme:{id:"s3siakawme",name:"Passed Hat",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.ARGUMENT,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,properties:{hat:null,boot:null,speed:1,doFunky:!0,greeting:"Hello!"},canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse64:{id:"pspssse64",name:"Leather Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},sdfsdsq64:{id:"sdfsdsq64",name:"Funky Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"8423ljdso8s3":{id:"8423ljdso8s3",name:"Magenta Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"p-pspssse32":{id:"p-pspssse32",name:"Pricy Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"55pspssse64":{id:"55pspssse64",name:"Fast Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6556sdfsdsq64":{id:"6556sdfsdsq64",name:"Jazzy Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"448423ljdso8s3":{id:"448423ljdso8s3",name:"Cute Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"45p-pspssse32":{id:"45p-pspssse32",name:"Black Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},bb55pspssse64:{id:"bb55pspssse64",name:"Brown Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},yy6556sdfsdsq64:{id:"yy6556sdfsdsq64",name:"Ugly Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"44448423ljdso8s3":{id:"44448423ljdso8s3",name:"Ugg Boots",type:"bootType",dataType:_components__WEBPACK_IMPORTED_MODULE_1__.D3.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},Stress.parameters=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, drawerWidth, ...otherArgs } = args;\n\n  const [ref, bounds] = useMeasure();\n  \n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData});\n  })\n  return (\n    <div ref={ref} style={{display:'flex',height:'100vh',flexDirection:'row',backgroundColor:otherArgs.highlightColor}}>\n      <Environment {...otherArgs} store={useDefaultProgrammingStore} height={bounds.height} width={bounds.width} drawerWidth={drawerWidth}/>\n    </div>\n    )\n}"}},Stress.parameters);var __namedExportsOrder=["Stress"]},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{__namedExportsOrder:function(){return __namedExportsOrder},parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},layout:"fullscreen",controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}},__namedExportsOrder=["parameters"];function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/components/Block/Utility.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{$F:function(){return DropdownMenuTrigger},$_:function(){return ScrollRegion},$c:function(){return ContextMenuCheckboxItem},AW:function(){return DropdownMenuContent},Gv:function(){return OtherStyledSeparator},II:function(){return Input},Ju:function(){return DropdownMenuLabel},OF:function(){return DropdownMenuTriggerItem},OS:function(){return ContextMenuLabel},P_:function(){return RightSlot},RD:function(){return ContextMenuItemIndicator},SE:function(){return DropdownMenu},VD:function(){return DropdownMenuSeparator},W4:function(){return ContextMenuTrigger},Y2:function(){return NumberInput},_x:function(){return DropdownMenuRadioGroup},bE:function(){return ContextMenuTriggerItem},bO:function(){return DropdownMenuCheckboxItem},eE:function(){return ToolTip},h_:function(){return ContextMenuContent},nC:function(){return DropdownMenuItemIndicator},qB:function(){return DropdownMenuRadioItem},rs:function(){return Switch},uP:function(){return ContextMenuSeparator},xV:function(){return ContextMenu}});var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18,_templateObject19,_templateObject20,_templateObject21,_templateObject22,_templateObject23,_templateObject24,_templateObject25,_templateObject26,_templateObject27,_templateObject28,_templateObject29,_templateObject30,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@radix-ui/react-dropdown-menu/dist/index.module.js"),_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@radix-ui/react-context-menu/dist/index.module.js"),_radix_ui_react_separator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@radix-ui/react-separator/dist/index.module.js"),_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/@radix-ui/react-switch/dist/index.module.js"),_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/@radix-ui/react-label/dist/index.module.js"),_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/@radix-ui/react-tooltip/dist/index.module.js"),_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@radix-ui/react-scroll-area/dist/index.module.js"),react_icons_fi__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),number_precision__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/number-precision/build/index.es.js"),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/lodash/lodash.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_excluded=["prefix","suffix","style","innerStyle","step","onChange","min","max","value","visualScaling","disabled"],GlobalSpinnerStyle=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.createGlobalStyle)(_templateObject||(_templateObject=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(['\ninput[type="number"]::-webkit-inner-spin-button,\ninput[type="number"]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}']))),slideUpAndFade=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.keyframes)(_templateObject2||(_templateObject2=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  from {\n    opacity: 0;\n    transform: translateY(2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0)\n  }\n"]))),slideRightAndFade=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.keyframes)(_templateObject3||(_templateObject3=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  from {\n    opacity: 0;\n    transform: translateX(-2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]))),slideDownAndFade=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.keyframes)(_templateObject4||(_templateObject4=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  from {\n    opacity: 0;\n    transform: translateY(-2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0)\n  }\n"]))),slideLeftAndFade=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.keyframes)(_templateObject5||(_templateObject5=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  from {\n    opacity: 0;\n    transform: translateX(2px);\n  }\n  to {\n    opacity: 1;\n    transform: translateX(0)\n  }\n"]))),contentStyle={fontFamily:"Helvetica",minWidth:"100px",backgroundColor:"#303030f5",color:"#efefef",borderRadius:"6px",padding:"5px",boxShadow:"0px 10px 38px -10px rgba(22, 23, 24, 0.35), 0px 10px 20px -15px rgba(22, 23, 24, 0.2)",animationFillMode:"forwards",willChange:"transform, opacity",'&[data-state="open"]':{'&[data-side="top"]':{animation:(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.css)(_templateObject6||(_templateObject6=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)([""," 400ms cubic-bezier(0.16, 1, 0.3, 1)"])),slideDownAndFade)},'&[data-side="right"]':{animation:(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.css)(_templateObject7||(_templateObject7=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)([""," 400ms cubic-bezier(0.16, 1, 0.3, 1)"])),slideLeftAndFade)},'&[data-side="bottom"]':{animation:(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.css)(_templateObject8||(_templateObject8=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)([""," 400ms cubic-bezier(0.16, 1, 0.3, 1)"])),slideUpAndFade)},'&[data-side="left"]':{animation:(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.css)(_templateObject9||(_templateObject9=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)([""," 400ms cubic-bezier(0.16, 1, 0.3, 1)"])),slideRightAndFade)}}},itemStyle=function itemStyle(props){return{all:"unset",fontSize:"12px",lineHeight:1,color:"#efefef",borderRadius:"3px",display:"flex",alignItems:"center",height:"25px",padding:"0 5px",position:"relative",paddingLeft:"25px",userSelect:"none","&[data-disabled]":{color:"#dedede",pointerEvents:"none"},'&[data-state="open"]':{background:"".concat(props.$highlightColor,"77"),color:"#efefef"},"&:focus":{background:props.$highlightColor,color:"#efefef"},"&:hover":{background:props.$highlightColor,color:"#efefef"}}},StyledScrollArea=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__.fC)(_templateObject10||(_templateObject10=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  overflow: hidden;\n  height: ",";\n  width: ",";\n"])),(function(props){return props.$containerHeight?"".concat(props.$containerHeight,"px"):"100%"}),(function(props){return props.$containerWidth?"".concat(props.$containerWidth,"px"):"100%"})),StyledViewport=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__.l_)(_templateObject11||(_templateObject11=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  width: 100%;\n  height: 100%;\n  border-radius: inherit;\n  padding: 4px;\n"]))),StyledScrollbar=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__.LW)(_templateObject12||(_templateObject12=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  display: flex;\n  user-select: none;\n  touch-action: none;\n  padding: 2px;\n  background: #55555525;\n  transition: background 160ms ease-out;\n  &:hover: { \n    background: #45454540 \n  };\n"]))),VerticalScrollBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(StyledScrollbar)(_templateObject13||(_templateObject13=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  width: 8px;\n"]))),HorizontalScrollBar=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(StyledScrollbar)(_templateObject14||(_templateObject14=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  height: 8px;\n  flex-direction: column;\n"]))),StyledScrollThumb=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__.bU)(_templateObject15||(_templateObject15=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  flex: 1;\n  background: #eeeeee66;\n  border-radius: 8px;\n"]))),OtherStyledSeparator=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_separator__WEBPACK_IMPORTED_MODULE_7__.f)((function(props){return{background:"#efefef",backgroundColor:"#efefef",height:"horizontal"===props.orientation?"1px":props.$height?props.$height:"100%",width:"vertical"===props.orientation?"1px":props.$width?props.$width:"100%"}})),StyledDropdownContent=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.VY)(contentStyle),StyledContextContent=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.VY)(contentStyle),StyledTooltipContent=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_10__.VY)(contentStyle),HoverDropdownCheckboxItem=((0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.ck)(itemStyle),(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.oC)(itemStyle)),HoverDropdownRadioItem=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.Rk)(itemStyle),HoverDropdownTriggerItem=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.ce)(itemStyle),HoverContextCheckboxItem=((0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.ck)(itemStyle),(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.oC)(itemStyle)),HoverContextTriggerItem=((0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.Rk)(itemStyle),(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.ce)(itemStyle)),StyledDropdownLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.__)(_templateObject16||(_templateObject16=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  padding-left: 25px;\n  font-size: 12px;\n  line-height: 25px;\n  color: #a0a0a0;\n"]))),StyledContextLabel=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.__)(_templateObject17||(_templateObject17=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\npadding-left: 25px;\nfont-size: 12px;\nline-height: 25px;\ncolor: #a0a0a0;\n"]))),StyledDropdownSeparator=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.Z0)(_templateObject18||(_templateObject18=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  height: 1px;\n  background-color: #efefef;\n  margin: 5px;\n"]))),StyledContextSeparator=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.Z0)(_templateObject19||(_templateObject19=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  height: 1px;\n  background-color: #efefef;\n  margin: 5px;\n"]))),StyledDropdownItemIndicator=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.wU)(_templateObject20||(_templateObject20=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  position: absolute;\n  left: 0px;\n  width: 25px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n"]))),StyledContextItemIndicator=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.wU)(_templateObject21||(_templateObject21=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  position: absolute;\n  left: 0px;\n  width: 25px;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n"]))),Tooltip=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_10__.fC,TooltipTrigger=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_10__.xz,RightSlot=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.div(_templateObject22||(_templateObject22=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  margin-left: auto;\n  padding-left: 20px;\n  color: #efefef;\n  :focus > &: { color: white };\n  [data-disabled] &: { color: #efefef };\n"]))),StyledSwitch=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_11__.fC)(_templateObject23||(_templateObject23=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  all: unset;\n  width: 42px;\n  height: 25px;\n  opacity: ",";\n  background-color: ",";\n  border-radius: 9999px;\n  position: relative;\n  box-shadow: inset 0.5px 0.5px 0px 0px rgba(55,55,55,0.25);\n  WebkitTapHighlightColor: rgba(0, 0, 0, 0);\n"])),(function(props){return props.disabled?.7:1}),(function(props){return props.checked?props.$highlightColor:"#111111"})),SwitchThumb=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_11__.bU)(_templateObject24||(_templateObject24=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  display: block;\n  width: 21px;\n  height: 21px;\n  background-color: white;\n  border-radius: 9999px;\n  box-shadow: 0.5px 0.5px 0px 0px rgba(55,55,55,0.25);\n  transition: transform 100ms;\n  transform: ",";\n  will-change: transform;\n"])),(function(props){return props.checked?"translateX(19px)":"translateX(2px)"})),Label=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_label__WEBPACK_IMPORTED_MODULE_12__.fC)(_templateObject25||(_templateObject25=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  font-size: 12px;\n  font-weight: 500px;\n  color: white;\n  user-select: none;\n"]))),StyledArrow=(0,styled_components__WEBPACK_IMPORTED_MODULE_4__.default)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_10__.Eh)(_templateObject26||(_templateObject26=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["fill: #303030f5"]))),Switch=function Switch(_ref){var onCheckedChange=_ref.onCheckedChange,disabled=_ref.disabled,value=_ref.value,highlightColor=_ref.highlightColor,label=_ref.label;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Label,{htmlFor:"switch-".concat(label),style:{paddingRight:5},children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledSwitch,{id:"switch-".concat(label),checked:value,disabled:disabled,$highlightColor:highlightColor,onCheckedChange:onCheckedChange,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SwitchThumb,{checked:value})})]})},ToolTip=function ToolTip(_ref2){var children=_ref2.children,content=_ref2.content,hideArrow=_ref2.hideArrow;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(Tooltip,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(TooltipTrigger,{asChild:!0,children:children},"trigger"),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(StyledTooltipContent,{sideOffset:hideArrow?10:5,children:[content,!hideArrow&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledArrow,{},"arrow")]},"content")]})},Input=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.input(_templateObject27||(_templateObject27=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  border-width: 0;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n  padding: 0 10px;\n  height: 35px;\n  font-size: 12px;\n  line-height: 1;\n  color: white;\n  background-color: #22222299;\n  box-shadow: 0 0 0 1px #222222;\n  &:focus: { box-shadow: 0 0 0 2px #222222 };\n"]))),VALID_CHARS=["0","1","2","3","4","5","6","7","8","9",".","-"],BasicInput=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.input(_templateObject28||(_templateObject28=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  border-width: 0;\n  width: 40px;\n  outline: none;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 0px;\n  padding: 0 5px;\n  height: 35px;\n  font-size: 12px;\n  line-height: 1;\n  color: white;\n  background-color: transparent;\n"]))),InputContainer=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.div(_templateObject29||(_templateObject29=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  padding: 0 5px 0 10px;\n  color: white;\n  border-radius: 4px;\n  display: inline-flex;\n  align-items: center;\n  align-content: center;\n  justify-content: center;\n  background-color: #22222299;\n  vertical-align: center;\n  box-shadow: 0 0 0 1px #222222;\n  &:focus: { box-shadow: 0 0 0 2px #222222 };\n"]))),SpinnerButton=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.button({all:"unset",display:"flex",flexDirection:"column",padding:"2px",margin:"0px",alignItems:"center",justifyContent:"center",borderRadius:"4px",lineHeight:1,height:"10px",background:"#22222299","&:focus":{background:"#222222"},"&:hover":{background:"#222222"}}),Spinner=function Spinner(_ref3){var onClickUp=_ref3.onClickUp,onClickDown=_ref3.onClickDown,disabled=_ref3.disabled;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{style:{marginLeft:3,display:"inline-flex",flexDirection:"column",borderRadius:3,justifyContent:"center",alignItems:"center"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SpinnerButton,{disabled:disabled,onClick:onClickUp,style:{borderBottomLeftRadius:0,borderBottomRightRadius:0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.rH8,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(SpinnerButton,{disabled:disabled,onClick:onClickDown,style:{borderTopLeftRadius:0,borderTopRightRadius:0},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_icons_fi__WEBPACK_IMPORTED_MODULE_13__.bTu,{})})]})},InnerInputField=styled_components__WEBPACK_IMPORTED_MODULE_4__.default.div(_templateObject30||(_templateObject30=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_5__.Z)(["\n  display: inline-flex;\n  font-size: 12pt;\n"]))),NumberInput=function NumberInput(_ref4){var _ref4$prefix=_ref4.prefix,prefix=void 0===_ref4$prefix?"":_ref4$prefix,_ref4$suffix=_ref4.suffix,suffix=void 0===_ref4$suffix?"":_ref4$suffix,_ref4$style=_ref4.style,style=void 0===_ref4$style?{}:_ref4$style,_ref4$innerStyle=_ref4.innerStyle,innerStyle=void 0===_ref4$innerStyle?{}:_ref4$innerStyle,_ref4$step=_ref4.step,step=void 0===_ref4$step?1:_ref4$step,onChange=_ref4.onChange,min=_ref4.min,max=_ref4.max,value=_ref4.value,_ref4$visualScaling=_ref4.visualScaling,visualScaling=void 0===_ref4$visualScaling?1:_ref4$visualScaling,_ref4$disabled=_ref4.disabled,disabled=void 0!==_ref4$disabled&&_ref4$disabled,otherProps=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_14__.Z)(_ref4,_excluded),setNewFromButton=function setNewFromButton(change){var numericNew=(0,number_precision__WEBPACK_IMPORTED_MODULE_1__.PD)(value,(0,number_precision__WEBPACK_IMPORTED_MODULE_1__.cs)(change,visualScaling)),scaledMax=(0,number_precision__WEBPACK_IMPORTED_MODULE_1__.cs)(max,visualScaling),scaledMin=(0,number_precision__WEBPACK_IMPORTED_MODULE_1__.cs)(min,visualScaling);console.log({change:change,value:value,visualScaling:visualScaling,numericNew:numericNew,scaledMax:scaledMax,scaledMin:scaledMin}),numericNew>scaledMax?(setAbove(!0),setBelow(!1),onChange(scaledMax)):numericNew<scaledMin?(setAbove(!1),setBelow(!0),onChange(scaledMin)):(setAbove(!1),setBelow(!1),onChange(numericNew))},_useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState2=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(_useState,2),above=_useState2[0],setAbove=_useState2[1],_useState3=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),_useState4=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(_useState3,2),below=_useState4[0],setBelow=_useState4[1],valid=!above&&!below,_useState5=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0),_useState6=(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_15__.Z)(_useState5,2),storedValue=_useState6[0],setStoredValue=_useState6[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){"-"!==storedValue&&""!==storedValue&&value*visualScaling!==Number(storedValue)&&setStoredValue((0,number_precision__WEBPACK_IMPORTED_MODULE_1__.DZ)(value,visualScaling))}),[storedValue,value,visualScaling]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(GlobalSpinnerStyle,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(InputContainer,(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__.Z)((0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__.Z)({},otherProps),{},{style:(0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__.Z)((0,_Users_schoen_Projects_simple_vp_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_16__.Z)({},style),{},{backgroundColor:valid?null:"red"}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InnerInputField,{className:"nodrag",children:prefix}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(BasicInput,{type:"text",className:"nodrag",value:storedValue,onChange:function setNewFromInput(event){var _event$nativeEvent;if(console.log(event),null==event||null===(_event$nativeEvent=event.nativeEvent)||void 0===_event$nativeEvent||!_event$nativeEvent.data||VALID_CHARS.includes(event.nativeEvent.data)){if("-"===event.target.value)return onChange(0),void setStoredValue("-");var numericNew=Number(event.target.value);(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isNumber)(numericNew)&&!(0,lodash__WEBPACK_IMPORTED_MODULE_2__.isNaN)(numericNew)&&(numericNew>max?(setAbove(!0),setBelow(!1),onChange(max/visualScaling)):numericNew<min?(setAbove(!1),setBelow(!0),onChange(min/visualScaling)):(setAbove(!1),setBelow(!1),onChange(numericNew/visualScaling),setStoredValue(event.target.value)))}},style:innerStyle,disabled:disabled}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InnerInputField,{className:"nodrag",children:suffix}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(InnerInputField,{className:"nodrag",style:{marginLeft:2},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Spinner,{disabled:disabled,onClickDown:function onClickDown(e){return setNewFromButton(-1*step)},onClickUp:function onClickUp(e){return setNewFromButton(step)}})})]}))]})},ScrollRegion=function ScrollRegion(_ref5){var children=_ref5.children,horizontal=_ref5.horizontal,vertical=_ref5.vertical,height=_ref5.height,width=_ref5.width;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)(StyledScrollArea,{$containerHeight:height,$containerWidth:width,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledViewport,{children:children}),horizontal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(HorizontalScrollBar,{orientation:"horizontal",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledScrollThumb,{})}),vertical&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(VerticalScrollBar,{orientation:"vertical",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(StyledScrollThumb,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_radix_ui_react_scroll_area__WEBPACK_IMPORTED_MODULE_6__.Ns,{})]})},DropdownMenu=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.fC,DropdownMenuTrigger=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.xz,DropdownMenuContent=StyledDropdownContent,DropdownMenuCheckboxItem=HoverDropdownCheckboxItem,DropdownMenuRadioGroup=_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_8__.Ee,DropdownMenuRadioItem=HoverDropdownRadioItem,DropdownMenuItemIndicator=StyledDropdownItemIndicator,DropdownMenuTriggerItem=HoverDropdownTriggerItem,DropdownMenuLabel=StyledDropdownLabel,DropdownMenuSeparator=StyledDropdownSeparator,ContextMenu=_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.fC,ContextMenuTrigger=_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.xz,ContextMenuContent=StyledContextContent,ContextMenuCheckboxItem=HoverContextCheckboxItem,ContextMenuItemIndicator=(_radix_ui_react_context_menu__WEBPACK_IMPORTED_MODULE_9__.Ee,StyledContextItemIndicator),ContextMenuTriggerItem=HoverContextTriggerItem,ContextMenuLabel=StyledContextLabel,ContextMenuSeparator=StyledContextSeparator;Switch.__docgenInfo={description:"",methods:[],displayName:"Switch"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/Utility.jsx"]={name:"Switch",docgenInfo:Switch.__docgenInfo,path:"src/components/Block/Utility.jsx"}),ToolTip.__docgenInfo={description:"",methods:[],displayName:"ToolTip"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/Utility.jsx"]={name:"ToolTip",docgenInfo:ToolTip.__docgenInfo,path:"src/components/Block/Utility.jsx"}),NumberInput.__docgenInfo={description:"",methods:[],displayName:"NumberInput",props:{prefix:{defaultValue:{value:'""',computed:!1},required:!1},suffix:{defaultValue:{value:'""',computed:!1},required:!1},style:{defaultValue:{value:"{}",computed:!1},required:!1},innerStyle:{defaultValue:{value:"{}",computed:!1},required:!1},step:{defaultValue:{value:"1",computed:!1},required:!1},visualScaling:{defaultValue:{value:"1",computed:!1},required:!1},disabled:{defaultValue:{value:"false",computed:!1},required:!1}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/Utility.jsx"]={name:"NumberInput",docgenInfo:NumberInput.__docgenInfo,path:"src/components/Block/Utility.jsx"}),ScrollRegion.__docgenInfo={description:"",methods:[],displayName:"ScrollRegion"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/Utility.jsx"]={name:"ScrollRegion",docgenInfo:ScrollRegion.__docgenInfo,path:"src/components/Block/Utility.jsx"})},"./src/components/Constants.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D3:function(){return DATA_TYPES},Rb:function(){return SIMPLE_PROPERTY_TYPES},fY:function(){return EXTRA_TYPES},vK:function(){return TYPES}});var DATA_TYPES={INSTANCE:"INSTANCE",REFERENCE:"REFERENCE",CALL:"CALL",ARGUMENT:"ARGUMENT"},TYPES={OBJECT:"OBJECT",FUNCTION:"FUNCTION"},EXTRA_TYPES={LOCKED_INDICATOR:"LOCKED_INDICATOR",NAME_EDIT_TOGGLE:"NAME_EDIT_TOGGLE",SELECTION_TOGGLE:"SELECTION_TOGGLE",COLLAPSE_TOGGLE:"COLLAPSE_TOGGLE",FUNCTION_BUTTON:"FUNCTION_BUTTON",DROPDOWN:"DROPDOWN",DELETE_BUTTON:"DELETE_BUTTON",ADD_ARGUMENT:"ADD_ARGUMENT",ADD_ARGUMENT_GROUP:"ADD_ARGUMENT_GROUP",DEBUG_TOGGLE:"DEBUG_TOGGLE",INDICATOR_TEXT:"INDICATOR_TEXT",INDICATOR_ICON:"INDICATOR_ICON",DIVIDER:"DIVIDER",LABEL:"LABEL"},SIMPLE_PROPERTY_TYPES={BOOLEAN:"BOOLEAN",NUMBER:"NUMBER",STRING:"STRING",OPTIONS:"OPTIONS",IGNORED:"IGNORED"}},"./src/components/index.js":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{D3:function(){return Constants.D3},fY:function(){return Constants.fY},qA:function(){return Environment},Ty:function(){return ExternalBlock},Rb:function(){return Constants.Rb},vK:function(){return Constants.vK},HU:function(){return referenceTemplateFromSpec},y6:function(){return useDefaultProgrammingStore}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),esm=__webpack_require__("./node_modules/zustand/esm/index.js"),immer_esm=__webpack_require__("./node_modules/immer/dist/immer.esm.mjs"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),lodash=__webpack_require__("./node_modules/lodash/lodash.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),Constants=__webpack_require__("./src/components/Constants.js"),instanceTemplateFromSpec=function instanceTemplateFromSpec(type,objectSpec,isArg){var _objectSpec$instanceB,_objectSpec$instanceB2,data={id:type,type:type,dataType:Constants.D3.INSTANCE,properties:{},name:"".concat(null!==(_objectSpec$instanceB=objectSpec.instanceBlock)&&void 0!==_objectSpec$instanceB&&_objectSpec$instanceB.hideNewPrefix?"":"New ").concat(objectSpec.name).concat(isArg?" Argument":""),canDelete:!0,canEdit:!0,editing:!1,selected:!1};return objectSpec.properties&&Object.entries(objectSpec.properties).forEach((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),propKey=_ref2[0],propInfo=_ref2[1];data.properties[propKey]=propInfo.default})),null!==(_objectSpec$instanceB2=objectSpec.instanceBlock)&&void 0!==_objectSpec$instanceB2&&_objectSpec$instanceB2.onCanvas&&(data.position={x:0,y:0}),objectSpec.type===Constants.vK.FUNCTION&&(data.arguments=[]),data},referenceTemplateFromSpec=function referenceTemplateFromSpec(type,instanceReference,objectSpec){var data={id:type,type:type,ref:instanceReference.id,dataType:Constants.D3.REFERENCE,name:instanceReference.name,canDelete:!0,canEdit:!0,editing:!1,selected:!1};return objectSpec.referenceBlock.onCanvas&&(data.position={x:0,y:0}),data},combinedBlockData=function combinedBlockData(state,staticData,id){var data=staticData||(state.programData[id]?state.programData[id]:null),progress=state.executionData[id],typeSpec=state.programSpec.objectTypes[null==data?void 0:data.type]?state.programSpec.objectTypes[null==data?void 0:data.type]:{instanceBlock:{},referenceBlock:{},callBlock:{}},refData=null!=data&&data.ref?state.programData[null==data?void 0:data.ref]:null,selected=(null==data?void 0:data.selected)||(null==refData?void 0:refData.selected),editing=(null==data?void 0:data.editing)||(null==refData?void 0:refData.editing),argumentBlockData=(null!=data&&data.arguments?data.arguments:null!=refData&&refData.arguments?refData.arguments:[]).map((function(instanceId){var inst=state.programData[instanceId],instType=state.programSpec.objectTypes[inst.type];return referenceTemplateFromSpec(inst.type,inst,instType)}));return[(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{refData:refData,selected:selected,editing:editing,argumentBlockData:argumentBlockData}),typeSpec,progress]},classCallCheck=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),createClass=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/createClass.js"),Timer=function(){function Timer(){(0,classCallCheck.Z)(this,Timer),this._previousTime=0,this._currentTime=0,this._delta=0,this._elapsed=0,this._timescale=1,this._useFixedDelta=!1,this._fixedDelta=16.67,this._usePageVisibilityAPI="undefined"!=typeof document&&void 0!==document.hidden,!0===this._usePageVisibilityAPI&&(this._pageVisibilityHandler=handleVisibilityChange.bind(this),document.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}return(0,createClass.Z)(Timer,[{key:"disableFixedDelta",value:function disableFixedDelta(){return this._useFixedDelta=!1,this}},{key:"dispose",value:function dispose(){return!0===this._usePageVisibilityAPI&&document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this}},{key:"enableFixedDelta",value:function enableFixedDelta(){return this._useFixedDelta=!0,this}},{key:"getDelta",value:function getDelta(){return this._delta/1e3}},{key:"getElapsed",value:function getElapsed(){return this._elapsed/1e3}},{key:"getFixedDelta",value:function getFixedDelta(){return this._fixedDelta/1e3}},{key:"getTimescale",value:function getTimescale(){return this._timescale}},{key:"reset",value:function reset(){return this._currentTime=this._now(),this}},{key:"setFixedDelta",value:function setFixedDelta(fixedDelta){return this._fixedDelta=1e3*fixedDelta,this}},{key:"setTimescale",value:function setTimescale(timescale){return this._timescale=timescale,this}},{key:"update",value:function update(){return!0===this._useFixedDelta?this._delta=this._fixedDelta:(this._previousTime=this._currentTime,this._currentTime=this._now(),this._delta=this._currentTime-this._previousTime),this._delta*=this._timescale,this._elapsed+=this._delta,this}},{key:"_now",value:function _now(){return("undefined"==typeof performance?Date:performance).now()}}]),Timer}();function handleVisibilityChange(){!1===document.hidden&&this.reset()}var randInt8=function randInt8(){return Math.floor(256*Math.random())},DEFAULT_PROGRAM_SPEC={drawers:[],objectTypes:{}},generateUuid=function generateUuid(type){return"".concat(type,"-").concat((0,v4.Z)())};function deleteFromChildren(state,idsToDelete,parentData){if(parentData.dataType===Constants.D3.CALL){var _Object$keys;null===(_Object$keys=Object.keys(parentData.properties))||void 0===_Object$keys||_Object$keys.forEach((function(propName){var _state$programData$pa;idsToDelete.includes(null===(_state$programData$pa=state.programData[parentData.properties[propName]])||void 0===_state$programData$pa?void 0:_state$programData$pa.ref)&&(delete state.programData[parentData.properties[propName]],state.programData[parentData.id].properties[propName]=null)}));for(var i=0;i<idsToDelete.length;i++)delete state.programData[parentData.id].properties[idsToDelete[i]]}else{var _state$programSpec$ob;null!==(_state$programSpec$ob=state.programSpec.objectTypes[parentData.type])&&void 0!==_state$programSpec$ob&&_state$programSpec$ob.properties&&Object.keys(state.programSpec.objectTypes[parentData.type].properties).forEach((function(propName){if(propName){var _state$programData$pa2,property=state.programSpec.objectTypes[parentData.type].properties[propName];property&&(property.type||property.type===Constants.vK.OBJECT)||(property&&property.isList?(parentData.properties[propName].forEach((function(child){state=deleteFromChildren(state,idsToDelete,state.programData[child])})),idsToDelete.forEach((function(idToDelete){var newList=state.programData[parentData.id].properties[propName].filter((function(field){var _state$programData$fi;return(null===(_state$programData$fi=state.programData[field])||void 0===_state$programData$fi?void 0:_state$programData$fi.ref)!==idToDelete}));state.programData[parentData.id].properties[propName]=newList}))):property&&parentData.properties[propName]&&idsToDelete.includes(null===(_state$programData$pa2=state.programData[parentData.properties[propName]])||void 0===_state$programData$pa2?void 0:_state$programData$pa2.ref)&&(delete state.programData[parentData.properties[propName]],state.programData[parentData.id].properties[propName]=null))}}))}return state}function deleteSelfBlock(state,data,parentId,fieldInfo){var _data$typeSpec;if((null===(_data$typeSpec=data.typeSpec)||void 0===_data$typeSpec?void 0:_data$typeSpec.type)===Constants.vK.FUNCTION){var callReferences=(0,lodash.pickBy)(state.programData,(function(entry){return entry.dataType===Constants.D3.CALL&&entry.refData.id===data.id})),callIds=Object.keys(callReferences);callIds.forEach((function(cID){state=deleteChildren(state,state.programData[cID],parentId,fieldInfo)})),data.arguments&&data.arguments.forEach((function(argumentId){delete state.programData[argumentId]})),Object.keys(state.programData).forEach((function(entryId){var entry=state.programData[entryId];state.programSpec.objectTypes[entry.type].properties&&Object.keys(state.programSpec.objectTypes[entry.type].properties).forEach((function(propName){if(propName){var property=state.programSpec.objectTypes[entry.type].properties[propName];if(property&&(property.type||property.type===Constants.vK.OBJECT));else if(property&&property.isList)for(var _loop=function _loop(i){var _entry$properties$pro;null!==(_entry$properties$pro=entry.properties[propName])&&void 0!==_entry$properties$pro&&_entry$properties$pro.includes(callIds[i])&&(0,lodash.remove)(state.programData[entryId].properties[propName],(function(field){return field===callIds[i]}))},i=0;i<callIds.length;i++)_loop(i);else property&&entry.properties[propName]&&callIds.includes(entry.properties[propName])&&(entry.properties[propName]=null,state.programData[entryId].properties[propName]=null)}}))})),callIds.forEach((function(reference){delete(state=deleteChildren(state,state.programData[reference])).programData[reference]}))}else if(null!=fieldInfo&&fieldInfo.isSpawner){var _state$programData$pa3,_state$programData$pa4;if("spawner"===parentId)delete(state=function deleteFromProgram(state,idsToDelete){var searches=(0,lodash.pickBy)(state.programData,(function(entry){return entry.dataType===Constants.D3.INSTANCE}));return Object.keys(searches).forEach((function(entry){state.programData[entry]&&(state=deleteFromChildren(state,idsToDelete,state.programData[entry]))})),state}(state,[data.ref])).programData[data.ref];else if(null!==(_state$programData$pa3=(state=deleteFromChildren(state,[data.ref],state.programData[parentId])).programData[parentId])&&void 0!==_state$programData$pa3&&_state$programData$pa3.arguments)(0,lodash.remove)(null===(_state$programData$pa4=state.programData[parentId])||void 0===_state$programData$pa4?void 0:_state$programData$pa4.arguments,(function(field){return field===data.ref}))}return delete state.programData[data.id],state}function deleteChildren(state,data,parentId,fieldInfo){return data.dataType===Constants.D3.CALL?state.programData[data.ref].arguments.forEach((function(argument){data.properties[argument]&&state.programData[data.properties[argument]]&&(state=deleteSelfBlock(state,state.programData[data.properties[argument]],parentId,fieldInfo))})):data.dataType!==Constants.D3.REFERENCE&&state.programSpec.objectTypes[data.type].properties&&Object.keys(state.programSpec.objectTypes[data.type].properties).forEach((function(propName){if(propName){var property=state.programSpec.objectTypes[data.type].properties[propName];property&&(property.type||property.type===Constants.vK.OBJECT)||(property&&property.isList?data.properties[propName]&&data.properties[propName].forEach((function(child){state=deleteSelfBlock(state=deleteChildren(state,state.programData[child],parentId,fieldInfo),state.programData[child],parentId,fieldInfo)})):property&&data.properties[propName]&&(state=deleteSelfBlock(state=deleteChildren(state,state.programData[data.properties[propName]],parentId,fieldInfo),state.programData[data.properties[propName]],parentId,fieldInfo)))}})),state}var ImmerProgrammingSlice=function immer(config){return function(set,get,api){return config((function(partial,replace){var nextState="function"==typeof partial?(0,immer_esm.ZP)(partial):partial;return set(nextState,replace)}),get,api)}}((function ProgrammingSlice(set,get){return{locked:!1,setLocked:function setLocked(locked){return set({locked:locked})},activeDrawer:null,setActiveDrawer:function setActiveDrawer(activeDrawer){return set({activeDrawer:activeDrawer})},programSpec:DEFAULT_PROGRAM_SPEC,programData:{},executionData:{},transferBlock:function transferBlock(data,sourceInfo,destInfo){set((function(state){var _sourceInfo$fieldInfo,newSpawn=!1,id=data.id;state.programData[data.id]||(id=generateUuid(data.type),state.programData[id]=(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{id:id}),newSpawn=!0);var sourceIsList=null===(_sourceInfo$fieldInfo=sourceInfo.fieldInfo)||void 0===_sourceInfo$fieldInfo?void 0:_sourceInfo$fieldInfo.isList,destIsList=destInfo.fieldInfo.isList;destIsList&&sourceIsList&&sourceInfo.parentId===destInfo.parentId?state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value]=function move(array,moveIndex,toIndex){var item=array[moveIndex],length=array.length,diff=moveIndex-toIndex;if(diff>0)return[].concat((0,toConsumableArray.Z)(array.slice(0,toIndex)),[item],(0,toConsumableArray.Z)(array.slice(toIndex,moveIndex)),(0,toConsumableArray.Z)(array.slice(moveIndex+1,length)));if(diff<0){var targetIndex=toIndex+1;return[].concat((0,toConsumableArray.Z)(array.slice(0,moveIndex)),(0,toConsumableArray.Z)(array.slice(moveIndex+1,targetIndex)),[item],(0,toConsumableArray.Z)(array.slice(targetIndex,length)))}return array}(state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value],sourceInfo.idx,destInfo.idx):(destIsList?state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value].splice(destInfo.idx,0,id):state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value]=id,(newSpawn||sourceInfo.parentId!==destInfo.parentId||sourceInfo.fieldInfo!==destInfo.fieldInfo)&&(!newSpawn&&sourceIsList?state.programData[sourceInfo.parentId].properties[destInfo.fieldInfo.value].splice(sourceInfo.idx,1):newSpawn||sourceIsList||(console.log("removing from previous by setting to null"),state.programData[sourceInfo.parentId].properties[sourceInfo.fieldInfo.value]=null)))}))},moveBlocks:function moveBlocks(changes){return set((function(state){changes.forEach((function(change){"position"===change.type&&state.programData[change.id]&&change.position&&(state.programData[change.id].position=change.position)}))}))},deleteBlock:function deleteBlock(data,parentId,fieldInfo){set((function(state){state=deleteSelfBlock(state=deleteChildren(state,data,parentId,fieldInfo),data,parentId,fieldInfo),"spawner"!==parentId&&(parentId&&fieldInfo&&!fieldInfo.isList?state.programData[parentId].properties[fieldInfo.value]=null:parentId&&fieldInfo&&fieldInfo.isList&&(0,lodash.remove)(state.programData[parentId].properties[fieldInfo.value],(function(entry){return entry===data.id})))}))},createPlacedBlock:function createPlacedBlock(data,x,y){set((function(state){var id=data.id;state.programData[data.id]||(id=generateUuid(data.type),state.programData[id]=(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{id:id})),state.programData[id].position={x:x,y:y}}))},addInstance:function addInstance(instanceType){set((function(state){var id=generateUuid(instanceType),template=(0,objectSpread2.Z)((0,objectSpread2.Z)({},instanceTemplateFromSpec(instanceType,state.programSpec.objectTypes[instanceType],!1)),{},{id:id,dataType:Constants.D3.INSTANCE});state.programData[id]=template}))},addArgument:function addArgument(parentFunctionId,argumentType){set((function(state){var id=generateUuid(argumentType),template=(0,objectSpread2.Z)((0,objectSpread2.Z)({},instanceTemplateFromSpec(argumentType,state.programSpec.objectTypes[argumentType],!0)),{},{id:id,dataType:Constants.D3.ARGUMENT});state.programData[id]=template,state.programData[parentFunctionId].arguments.push(id)}))},updateItemName:function updateItemName(id,value){set((function(state){var item=state.programData[id],usedId=item.dataType===Constants.D3.REFERENCE||item.dataType===Constants.D3.CALL?item.ref:id;state.programData[usedId].name=value}))},updateItemSelected:function updateItemSelected(id,value){set((function(state){var item=state.programData[id],usedId=item.dataType===Constants.D3.REFERENCE||item.dataType===Constants.D3.CALL?item.ref:id;state.programData[usedId].selected=value}))},updateItemEditing:function updateItemEditing(id,value){set((function(state){state.programData[id].editing=value}))},updateItemSimpleProperty:function updateItemSimpleProperty(id,property,value){set((function(state){state.programData[id].properties[property]=value}))},updateItemBlockColors:function updateItemBlockColors(data){set((function(state){var color=function randomColor(){return"rgb(".concat(randInt8(),",").concat(randInt8(),",").concat(randInt8(),")")}();["instanceBlock","referenceBlock","callBlock"].forEach((function(blockType){state.programSpec.objectTypes[data.type][blockType]&&(state.programSpec.objectTypes[data.type][blockType].color=color)}))}))},clock:new Timer,pause:function pause(){get().clock.setTimescale(0)},play:function play(speed){get().clock.setTimescale(speed||1)},reset:function reset(time){get().clock._elapsed=time?1e3*time:0}}})),useDefaultProgrammingStore=(0,esm.ZP)(ImmerProgrammingSlice),react=__webpack_require__("./node_modules/react/index.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),dist_esm=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index.js"),useReactFlow_00c92446=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/useReactFlow-00c92446.js"),index_ac3b1637=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index-ac3b1637.js"),index_97ceaccb=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index-97ceaccb.js"),index_d8b8470d=__webpack_require__("./node_modules/react-flow-renderer/dist/esm/index-d8b8470d.js"),useDrop=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrop/useDrop.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ProgrammingContext=(0,react.createContext)(),useProgrammingStore=function useProgrammingStore(selector,equalityFn){var store=(0,react.useContext)(ProgrammingContext);return(0,esm.oR)(store,selector,equalityFn)},ProgrammingProvider=function ProgrammingProvider(_ref){var store=_ref.store,children=_ref.children;return(0,jsx_runtime.jsx)(ProgrammingContext.Provider,{value:store||useDefaultProgrammingStore,children:children})};ProgrammingProvider.__docgenInfo={description:"",methods:[],displayName:"ProgrammingProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ProgrammingContext.jsx"]={name:"ProgrammingProvider",docgenInfo:ProgrammingProvider.__docgenInfo,path:"src/components/ProgrammingContext.jsx"});var useDrag=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDrag/useDrag.js"),getEmptyImage=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"),transferBlockSelector=function transferBlockSelector(state){return state.transferBlock},DropRegion=function DropRegion(_ref){var _dropProps$item,_dropProps$item$data,_dropProps$item2,id=_ref.id,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,minHeight=_ref.minHeight,hideText=_ref.hideText,disabled=_ref.disabled,highlightColor=_ref.highlightColor,context=_ref.context,showBuffer=_ref.showBuffer,transferBlock=useProgrammingStore(transferBlockSelector),data=useProgrammingStore((0,react.useCallback)((function(store){return store.programData[id]}),[id])),_useDrop=(0,useDrop.L)((function(){return{accept:fieldInfo.accepts,drop:function drop(item,_){transferBlock(item.data,item,{fieldInfo:fieldInfo,parentId:parentId,idx:idx})},canDrop:function canDrop(item){return!disabled&&!item.onCanvas&&(0,lodash.isEqual)((0,lodash.intersection)(context,item.context),item.context)},collect:function collect(monitor){return{isOver:monitor.isOver(),item:monitor.getItem()}}}}),[fieldInfo,parentId,idx,disabled]),_useDrop2=(0,slicedToArray.Z)(_useDrop,2),dropProps=_useDrop2[0],drop=_useDrop2[1],validDropType=fieldInfo.accepts.includes(null===(_dropProps$item=dropProps.item)||void 0===_dropProps$item||null===(_dropProps$item$data=_dropProps$item.data)||void 0===_dropProps$item$data?void 0:_dropProps$item$data.type)&&!(null!==(_dropProps$item2=dropProps.item)&&void 0!==_dropProps$item2&&_dropProps$item2.onCanvas)&&(0,lodash.isEqual)((0,lodash.intersection)(context,dropProps.item.context),dropProps.item.context),renderedData=data||(dropProps.item&&validDropType&&!disabled&&dropProps.isOver?dropProps.item.data:null),isPreview=renderedData&&renderedData!==data;return(0,jsx_runtime.jsx)("div",{className:"nodrag",ref:drop,style:{borderRadius:4,backgroundColor:dropProps.isOver&&validDropType?"#44884488":validDropType?"#88888888":null,minHeight:minHeight,minWidth:100,display:"flex",flex:1},children:renderedData&&!isPreview?(0,jsx_runtime.jsx)(Block,{staticData:renderedData,idx:idx,parentId:parentId,fieldInfo:fieldInfo,bounded:!0,style:{marginTop:4,marginBottom:4},highlightColor:highlightColor,context:context}):renderedData?(0,jsx_runtime.jsx)(PreviewBlock,{staticData:renderedData,idx:idx,parentId:parentId,fieldInfo:fieldInfo,bounded:!0,highlightColor:highlightColor,context:context,style:{marginBottom:showBuffer?minHeight:null,marginTop:showBuffer?minHeight:null}}):hideText?null:fieldInfo.name})};DropRegion.__docgenInfo={description:"",methods:[],displayName:"DropRegion"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/DropRegion.jsx"]={name:"DropRegion",docgenInfo:DropRegion.__docgenInfo,path:"src/components/Block/DropRegion.jsx"});var DropZone=function DropZone(_ref){var id=_ref.id,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,interactionDisabled=_ref.interactionDisabled,highlightColor=_ref.highlightColor,context=_ref.context;return(0,jsx_runtime.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:"max-content",margin:4,flex:1},children:(0,jsx_runtime.jsx)(DropRegion,{id:id,parentId:parentId,fieldInfo:fieldInfo,idx:idx,minHeight:30,bounded:!0,disabled:id||interactionDisabled,highlightColor:highlightColor,context:context})})};DropZone.__docgenInfo={description:"",methods:[],displayName:"DropZone"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/DropZone.jsx"]={name:"DropZone",docgenInfo:DropZone.__docgenInfo,path:"src/components/Block/DropZone.jsx"});var List=function List(_ref){var ids=_ref.ids,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,interactionDisabled=_ref.interactionDisabled,highlightColor=_ref.highlightColor,context=_ref.context,minHeight=0===ids.length?30:8;return(0,jsx_runtime.jsxs)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:100,margin:4,flex:1},children:[(0,jsx_runtime.jsx)(DropRegion,{id:null,parentId:parentId,fieldInfo:fieldInfo,idx:0,minHeight:minHeight,disabled:interactionDisabled,hideText:!0,highlightColor:highlightColor,context:context},"initial"),ids.map((function(id,idx){return(0,jsx_runtime.jsx)(Block,{id:id,parentId:parentId,fieldInfo:fieldInfo,idx:idx,bounded:!0,highlightColor:highlightColor,context:context,after:(0,jsx_runtime.jsx)(DropRegion,{id:null,parentId:parentId,fieldInfo:fieldInfo,idx:idx+1,minHeight:8,hideText:!0,showBuffer:!0,disabled:interactionDisabled,highlightColor:highlightColor,context:context},"dropzone-".concat(idx))},id)}))]})};List.__docgenInfo={description:"",methods:[],displayName:"List"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/List.jsx"]={name:"List",docgenInfo:List.__docgenInfo,path:"src/components/Block/List.jsx"});var index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),RadioButtonGroup=__webpack_require__("./node_modules/grommet/es6/components/RadioButtonGroup/RadioButtonGroup.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),react_spring_esm=__webpack_require__("./node_modules/react-spring/dist/react-spring.esm.js"),ExpandCarrot=function ExpandCarrot(_ref){var expanded=_ref.expanded,onClick=_ref.onClick,carrotStyle=(0,react_spring_web_esm.useSpring)({rotate:expanded?"90deg":"0deg",config:react_spring_esm.config.wobbly,height:20,width:20});return(0,jsx_runtime.jsx)(react_spring_web_esm.animated.div,{onClick:onClick,style:carrotStyle,children:(0,jsx_runtime.jsx)(index_esm.Tfp,{})})};ExpandCarrot.__docgenInfo={description:"",methods:[],displayName:"ExpandCarrot"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/ExpandCarrot.jsx"]={name:"ExpandCarrot",docgenInfo:ExpandCarrot.__docgenInfo,path:"src/components/Block/ExpandCarrot.jsx"});var Utility=__webpack_require__("./src/components/Block/Utility.jsx"),MENU_TYPES_DROPDOWN="DROPDOWN",MENU_TYPES_CONTEXT="CONTEXT",Pill=function Pill(_ref){var value=_ref.value;return(0,jsx_runtime.jsx)("div",{style:{borderRadius:20,minWidth:6,backgroundColor:"#00000022",paddingLeft:7,paddingRight:7,borderStyle:"solid",borderColor:"#00000088",borderWidth:1,textAlign:"center",fontSize:10},children:value})},FunctionButtonExtra=function FunctionButtonExtra(_ref2){var actionInfo=_ref2.actionInfo,data=_ref2.data,blockSpec=_ref2.blockSpec,inTopLevel=_ref2.inTopLevel,interactionDisabled=_ref2.interactionDisabled,highlightColor=_ref2.highlightColor,menuType=_ref2.menuType,_onClick=useProgrammingStore((0,react.useCallback)((function(state){return"function"==typeof actionInfo.onClick?actionInfo.onClick:state[actionInfo.onClick]}),[actionInfo])),Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,ExtraActionIcon=actionInfo.icon?actionInfo.icon:index_esm.Q8x,inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",focusIndicator:!1,hoverIndicator:!1,disabled:interactionDisabled,plain:!0,style:{padding:inTopLevel?null:"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(ExtraActionIcon,{}):null,label:inTopLevel?null:actionInfo.label,onClick:function onClick(){return _onClick(data,blockSpec)}});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:interactionDisabled,onSelect:function onSelect(){return _onClick(data,blockSpec)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(ExtraActionIcon,{})}),inner]})},LabelExtra=function LabelExtra(_ref3){var inTopLevel=_ref3.inTopLevel,menuType=_ref3.menuType,label=_ref3.label,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.Ju:Utility.OS;return inTopLevel?(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:!0,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},label:label}):(0,jsx_runtime.jsx)(Wrapper,{children:label})},LockIndicatorExtra=function LockIndicatorExtra(_ref4){var locked=_ref4.locked,inTopLevel=_ref4.inTopLevel,highlightColor=_ref4.highlightColor,menuType=_ref4.menuType,Icon=locked?index_esm.UIZ:index_esm.PdD,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:!0,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(Icon,{}):null,label:inTopLevel?null:locked?"Locked":"Unlocked"});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:!0,children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Icon,{})}),inner]})},NameEditToggleExtra=function NameEditToggleExtra(_ref5){var isEditing=_ref5.isEditing,setIsEditing=_ref5.setIsEditing,locked=_ref5.locked,interactionDisabled=_ref5.interactionDisabled,inTopLevel=_ref5.inTopLevel,highlightColor=_ref5.highlightColor,menuType=_ref5.menuType,data=_ref5.data,Icon=isEditing?index_esm.mW3:index_esm.Nte,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,disabled=locked||interactionDisabled&&data.dataType!==Constants.D3.REFERENCE,inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:disabled,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(Icon,{}):null,label:inTopLevel?null:isEditing?"Save":"Edit Name",onClick:function onClick(){return setIsEditing(!isEditing)}});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:disabled,onSelect:function onSelect(){return setIsEditing(!isEditing)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Icon,{})}),inner]})},SelectionToggleExtra=function SelectionToggleExtra(_ref6){var isSelected=_ref6.isSelected,setIsSelected=_ref6.setIsSelected,inTopLevel=_ref6.inTopLevel,data=_ref6.data,locked=_ref6.locked,highlightColor=_ref6.highlightColor,menuType=_ref6.menuType,Icon=isSelected?index_esm.rzC:index_esm.rDJ,disabled=data.dataType===Constants.D3.INSTANCE&&locked,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{plain:!0,disabled:disabled,focusIndicator:!1,hoverIndicator:!1,size:"small",style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(Icon,{}):null,label:inTopLevel?null:isSelected?"Deselect":"Select",onClick:function onClick(){return setIsSelected(!isSelected)}});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:disabled,onSelect:function onSelect(){return setIsSelected(!isSelected)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Icon,{})}),inner]})},CollapseToggleExtra=function CollapseToggleExtra(_ref7){var isCollapsed=_ref7.isCollapsed,setIsCollapsed=_ref7.setIsCollapsed,inTopLevel=_ref7.inTopLevel,highlightColor=_ref7.highlightColor,menuType=_ref7.menuType,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{plain:!0,focusIndicator:!1,hoverIndicator:!1,size:"small",style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(ExpandCarrot,{expanded:!isCollapsed}):null,onClick:function onClick(){return setIsCollapsed(!isCollapsed)},label:inTopLevel?null:isCollapsed?"Expand":"Collapse"});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,onSelect:function onSelect(){return setIsCollapsed(!isCollapsed)},children:[(0,jsx_runtime.jsx)(Indicator,{children:isCollapsed?(0,jsx_runtime.jsx)(index_esm.bTu,{}):(0,jsx_runtime.jsx)(index_esm.Tfp,{})}),inner]})},DebugToggleExtra=function DebugToggleExtra(_ref8){var isDebugging=_ref8.isDebugging,setIsDebugging=_ref8.setIsDebugging,inTopLevel=_ref8.inTopLevel,highlightColor=_ref8.highlightColor,menuType=_ref8.menuType,Icon=isDebugging?index_esm.ti2:index_esm.Wqx,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{plain:!0,focusIndicator:!1,hoverIndicator:!1,size:"small",style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(Icon,{}):null,onClick:function onClick(){return setIsDebugging(!isDebugging)},label:inTopLevel?null:isDebugging?"Cancel Debug":"Debug"});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,onSelect:function onSelect(){return setIsDebugging(!isDebugging)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Icon,{})}),inner]})},IndicatorTextExtra=function IndicatorTextExtra(_ref9){var value=_ref9.value,label=_ref9.label,inTopLevel=_ref9.inTopLevel,highlightColor=_ref9.highlightColor,menuType=_ref9.menuType,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD;return inTopLevel?(0,jsx_runtime.jsx)(Pill,{value:value}):(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Pill,{value:value})}),(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},label:label})]})},IndicatorIconExtra=function IndicatorIconExtra(_ref10){var value=_ref10.value,label=_ref10.label,inTopLevel=_ref10.inTopLevel,highlightColor=_ref10.highlightColor,menuType=_ref10.menuType,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:!0,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?value:null,label:inTopLevel?null:label});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,children:[(0,jsx_runtime.jsx)(Indicator,{children:value}),inner]})},AddArgumentExtra=function AddArgumentExtra(_ref11){var _typeSpec$referenceBl,data=_ref11.data,argumentType=_ref11.argumentType,interactionDisabled=_ref11.interactionDisabled,inTopLevel=_ref11.inTopLevel,highlightColor=_ref11.highlightColor,menuType=_ref11.menuType,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,typeSpec=useProgrammingStore((0,react.useCallback)((function(store){return store.programSpec.objectTypes[argumentType]}),[argumentType])),Icon=null!=typeSpec&&null!==(_typeSpec$referenceBl=typeSpec.referenceBlock)&&void 0!==_typeSpec$referenceBl&&_typeSpec$referenceBl.icon?typeSpec.referenceBlock.icon:index_esm.OvN,addArgument=useProgrammingStore((function(store){return store.addArgument})),inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:interactionDisabled,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(Icon,{}):null,onClick:function onClick(){return inTopLevel?addArgument(data.id,argumentType):{}},label:inTopLevel?null:"Add ".concat(typeSpec.name," Argument")});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:interactionDisabled,onSelect:function onSelect(){return addArgument(data.id,argumentType)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(Icon,{})}),inner]})},AddArgumentGroupExtra=function AddArgumentGroupExtra(_ref12){var data=_ref12.data,allowed=_ref12.allowed,interactionDisabled=_ref12.interactionDisabled,inTopLevel=_ref12.inTopLevel,highlightColor=_ref12.highlightColor,menuType=_ref12.menuType;return(0,jsx_runtime.jsx)(DropdownExtra,{icon:index_esm.OvN,label:"Add Argument",contents:allowed.map((function(argumentType){return{type:Constants.fY.ADD_ARGUMENT,argumentType:argumentType}})),inTopLevel:inTopLevel,data:data,interactionDisabled:interactionDisabled,highlightColor:highlightColor,menuType:menuType})},DeleteExtra=function DeleteExtra(_ref13){var _data$refData,data=_ref13.data,inTopLevel=_ref13.inTopLevel,locked=_ref13.locked,fieldInfo=_ref13.fieldInfo,parentId=_ref13.parentId,highlightColor=_ref13.highlightColor,menuType=_ref13.menuType,deleteFunc=useProgrammingStore((function(state){return state.deleteBlock})),canDeleteInstance="spawner"===parentId&&data.dataType===Constants.D3.REFERENCE&&(null===(_data$refData=data.refData)||void 0===_data$refData?void 0:_data$refData.canDelete),canDelete=!locked&&data.canDelete||canDeleteInstance,Wrapper=menuType===MENU_TYPES_DROPDOWN?Utility.bO:Utility.$c,Indicator=menuType===MENU_TYPES_DROPDOWN?Utility.nC:Utility.RD,inner=(0,jsx_runtime.jsx)(Button.z,{size:"small",plain:!0,focusIndicator:!1,hoverIndicator:!1,disabled:!canDelete,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(index_esm.Ybf,{}):null,label:inTopLevel?null:"Delete",onClick:function onClick(){return deleteFunc(data,parentId,fieldInfo)}});return inTopLevel?inner:(0,jsx_runtime.jsxs)(Wrapper,{checked:!0,$highlightColor:highlightColor,disabled:!canDelete,onSelect:function onSelect(){return deleteFunc(data,parentId,fieldInfo)},children:[(0,jsx_runtime.jsx)(Indicator,{children:(0,jsx_runtime.jsx)(index_esm.Ybf,{})}),inner]})},DropdownExtra=function DropdownExtra(_ref14){var icon=_ref14.icon,contents=_ref14.contents,label=_ref14.label,inTopLevel=_ref14.inTopLevel,data=_ref14.data,blockSpec=_ref14.blockSpec,isEditing=_ref14.isEditing,isCollapsed=_ref14.isCollapsed,isSelected=_ref14.isSelected,isDebugging=_ref14.isDebugging,setIsEditing=_ref14.setIsEditing,setIsCollapsed=_ref14.setIsCollapsed,setIsSelected=_ref14.setIsSelected,setIsDebugging=_ref14.setIsDebugging,interactionDisabled=_ref14.interactionDisabled,parentId=_ref14.parentId,fieldInfo=_ref14.fieldInfo,highlightColor=_ref14.highlightColor,menuType=_ref14.menuType,DropIcon=icon||(inTopLevel?index_esm.K9M:index_esm.Tfp),TriggerComponent=menuType===MENU_TYPES_CONTEXT?Utility.bE:inTopLevel?Utility.$F:Utility.OF,ContentComponent=menuType===MENU_TYPES_CONTEXT?Utility.h_:Utility.AW,MenuComponent=menuType===MENU_TYPES_CONTEXT?Utility.xV:Utility.SE,usedLabel=label||"More Options";return(0,jsx_runtime.jsxs)(MenuComponent,{children:[(0,jsx_runtime.jsx)(TriggerComponent,{asChild:inTopLevel,$highlightColor:highlightColor,children:inTopLevel?(0,jsx_runtime.jsx)(Button.z,{size:"small",as:"div",focusIndicator:!1,hoverIndicator:!1,plain:!0,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(DropIcon,{}):null,label:inTopLevel?null:usedLabel}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(Button.z,{size:"small",as:"div",focusIndicator:!1,hoverIndicator:!1,plain:!0,style:{padding:inTopLevel?"5pt 2pt 5pt 2pt":"5pt 10pt 5pt 10pt"},icon:inTopLevel?(0,jsx_runtime.jsx)(DropIcon,{}):null,label:inTopLevel?null:usedLabel}),(0,jsx_runtime.jsx)(Utility.P_,{children:(0,jsx_runtime.jsx)(DropIcon,{})})]})}),(0,jsx_runtime.jsx)(ContentComponent,{children:null==contents?void 0:contents.map((function(feature,featureIdx){return(0,jsx_runtime.jsx)(ButtonSwitch,{feature:feature,data:data,blockSpec:blockSpec,inTopLevel:!1,isEditing:isEditing,isCollapsed:isCollapsed,isSelected:isSelected,isDebugging:isDebugging,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,setIsSelected:setIsSelected,setIsDebugging:setIsDebugging,interactionDisabled:interactionDisabled,fieldInfo:fieldInfo,parentId:parentId,highlightColor:highlightColor,menuType:menuType},featureIdx)}))})]})},ButtonSwitch=function ButtonSwitch(_ref15){var data=_ref15.data,blockSpec=_ref15.blockSpec,highlightColor=_ref15.highlightColor,isEditing=_ref15.isEditing,setIsEditing=_ref15.setIsEditing,isCollapsed=_ref15.isCollapsed,setIsCollapsed=_ref15.setIsCollapsed,isSelected=_ref15.isSelected,setIsSelected=_ref15.setIsSelected,isDebugging=_ref15.isDebugging,setIsDebugging=_ref15.setIsDebugging,interactionDisabled=_ref15.interactionDisabled,inTopLevel=_ref15.inTopLevel,feature=_ref15.feature,fieldInfo=_ref15.fieldInfo,parentId=_ref15.parentId,menuType=_ref15.menuType,inner=null;return feature===Constants.fY.LOCKED_INDICATOR?inner=(0,jsx_runtime.jsx)(LockIndicatorExtra,{highlightColor:highlightColor,locked:!data.canEdit,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled,menuType:menuType}):feature===Constants.fY.NAME_EDIT_TOGGLE?inner=(0,jsx_runtime.jsx)(NameEditToggleExtra,{highlightColor:highlightColor,isEditing:isEditing,setIsEditing:setIsEditing,locked:!data.canEdit,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled,menuType:menuType,data:data}):feature===Constants.fY.COLLAPSE_TOGGLE?inner=(0,jsx_runtime.jsx)(CollapseToggleExtra,{highlightColor:highlightColor,isCollapsed:isCollapsed,setIsCollapsed:setIsCollapsed,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled,menuType:menuType}):feature===Constants.fY.SELECTION_TOGGLE?inner=(0,jsx_runtime.jsx)(SelectionToggleExtra,{highlightColor:highlightColor,locked:interactionDisabled,data:data,isSelected:isSelected,setIsSelected:setIsSelected,inTopLevel:inTopLevel,menuType:menuType}):feature===Constants.fY.DEBUG_TOGGLE?inner=(0,jsx_runtime.jsx)(DebugToggleExtra,{highlightColor:highlightColor,isDebugging:isDebugging,setIsDebugging:setIsDebugging,inTopLevel:inTopLevel,menuType:menuType}):feature===Constants.fY.DELETE_BUTTON?inner=(0,jsx_runtime.jsx)(DeleteExtra,{highlightColor:highlightColor,data:data,inTopLevel:inTopLevel,locked:interactionDisabled,fieldInfo:fieldInfo,parentId:parentId,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.LABEL?inner=(0,jsx_runtime.jsx)(LabelExtra,{inTopLevel:inTopLevel,label:feature.label,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.ADD_ARGUMENT?inner=(0,jsx_runtime.jsx)(AddArgumentExtra,{highlightColor:highlightColor,data:data,argumentType:null==feature?void 0:feature.argumentType,interactionDisabled:interactionDisabled,inTopLevel:inTopLevel,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.ADD_ARGUMENT_GROUP?inner=(0,jsx_runtime.jsx)(AddArgumentGroupExtra,{highlightColor:highlightColor,data:data,allowed:null==feature?void 0:feature.allowed,interactionDisabled:interactionDisabled,inTopLevel:inTopLevel,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.FUNCTION_BUTTON?inner=(0,jsx_runtime.jsx)(FunctionButtonExtra,{highlightColor:highlightColor,actionInfo:feature,data:data,blockSpec:blockSpec,interactionDisabled:interactionDisabled,inTopLevel:inTopLevel,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.INDICATOR_TEXT?inner=(0,jsx_runtime.jsx)(IndicatorTextExtra,{highlightColor:highlightColor,value:feature.accessor(data),label:feature.label,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.INDICATOR_ICON?inner=(0,jsx_runtime.jsx)(IndicatorIconExtra,{highlightColor:highlightColor,value:feature.accessor(data),label:feature.label,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.ADD_ARGUMENT?inner=(0,jsx_runtime.jsx)(AddArgumentGroupExtra,{data:data,allowed:null==feature?void 0:feature.allowed,interactionDisabled:interactionDisabled,inTopLevel:inTopLevel,highlightColor:highlightColor,menuType:menuType}):(null==feature?void 0:feature.type)===Constants.fY.DROPDOWN?inner=(0,jsx_runtime.jsx)(DropdownExtra,{data:data,blockSpec:blockSpec,icon:null==feature?void 0:feature.icon,contents:null==feature?void 0:feature.contents,label:null==feature?void 0:feature.label,inTopLevel:inTopLevel,isEditing:isEditing,isCollapsed:isCollapsed,isSelected:isSelected,isDebugging:isDebugging,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,setIsSelected:setIsSelected,setIsDebugging:setIsDebugging,interactionDisabled:interactionDisabled,parentId:parentId,fieldInfo:fieldInfo,highlightColor:highlightColor,menuType:menuType}):feature!==Constants.fY.DIVIDER||inTopLevel?feature===Constants.fY.DIVIDER&&inTopLevel&&(inner=(0,jsx_runtime.jsx)(Utility.Gv,{decorative:!0,orientation:"vertical",$height:"15px"})):inner=menuType===MENU_TYPES_DROPDOWN?(0,jsx_runtime.jsx)(Utility.VD,{}):(0,jsx_runtime.jsx)(Utility.uP,{}),inner},ExtraBar=function ExtraBar(_ref16){var _blockSpec$extras,data=_ref16.data,blockSpec=_ref16.blockSpec,highlightColor=_ref16.highlightColor,isEditing=_ref16.isEditing,setIsEditing=_ref16.setIsEditing,isCollapsed=_ref16.isCollapsed,setIsCollapsed=_ref16.setIsCollapsed,isSelected=_ref16.isSelected,setIsSelected=_ref16.setIsSelected,isDebugging=_ref16.isDebugging,setIsDebugging=_ref16.setIsDebugging,interactionDisabled=_ref16.interactionDisabled,fieldInfo=_ref16.fieldInfo,parentId=_ref16.parentId;return(0,jsx_runtime.jsx)(Box.x,{direction:"row",margin:{left:"xsmall"},gap:"none",align:"center",alignContent:"center",justify:"between",flex:!1,children:(0,jsx_runtime.jsx)(Utility.SE,{children:null==blockSpec||null===(_blockSpec$extras=blockSpec.extras)||void 0===_blockSpec$extras?void 0:_blockSpec$extras.map((function(extra,extraIdx){return(0,jsx_runtime.jsx)(ButtonSwitch,{data:data,blockSpec:blockSpec,inTopLevel:!0,isEditing:isEditing,isCollapsed:isCollapsed,isSelected:isSelected,isDebugging:isDebugging,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,setIsSelected:setIsSelected,setIsDebugging:setIsDebugging,interactionDisabled:interactionDisabled,feature:extra,fieldInfo:fieldInfo,parentId:parentId,highlightColor:highlightColor,menuType:MENU_TYPES_DROPDOWN},extraIdx)}))})})},RightClickMenu=function RightClickMenu(_ref17){var data=_ref17.data,blockSpec=_ref17.blockSpec,highlightColor=_ref17.highlightColor,isEditing=_ref17.isEditing,setIsEditing=_ref17.setIsEditing,isCollapsed=_ref17.isCollapsed,setIsCollapsed=_ref17.setIsCollapsed,isSelected=_ref17.isSelected,setIsSelected=_ref17.setIsSelected,isDebugging=_ref17.isDebugging,setIsDebugging=_ref17.setIsDebugging,interactionDisabled=_ref17.interactionDisabled,fieldInfo=_ref17.fieldInfo,parentId=_ref17.parentId,flattenedExtras=function flattenMenuOnce(extras){var pancaked=[];return extras.forEach((function(extra){extra.type===Constants.fY.DROPDOWN?(pancaked[pancaked.length-1]!==Constants.fY.DIVIDER&&pancaked.push(Constants.fY.DIVIDER),extra.label&&pancaked.push({label:extra.label,type:Constants.fY.LABEL}),extra.contents.forEach((function(child){child===Constants.fY.DIVIDER?pancaked[pancaked.length-1]!==Constants.fY.DIVIDER&&pancaked.push(Constants.fY.DIVIDER):pancaked.push(child)})),pancaked[pancaked.length-1]!==Constants.fY.DIVIDER&&pancaked.push(Constants.fY.DIVIDER)):extra===Constants.fY.DIVIDER?pancaked[pancaked.length-1]!==Constants.fY.DIVIDER&&pancaked.push(Constants.fY.DIVIDER):pancaked.push(extra)})),pancaked[pancaked.length-1]===Constants.fY.DIVIDER&&pancaked.pop(),pancaked.length>0&&pancaked[0]===Constants.fY.DIVIDER&&pancaked.shift(),pancaked}(null==blockSpec?void 0:blockSpec.extras);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:flattenedExtras.map((function(extra,extraIdx){return(0,jsx_runtime.jsx)(ButtonSwitch,{data:data,blockSpec:blockSpec,inTopLevel:!1,isEditing:isEditing,isCollapsed:isCollapsed,isSelected:isSelected,isDebugging:isDebugging,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,setIsSelected:setIsSelected,setIsDebugging:setIsDebugging,interactionDisabled:interactionDisabled,feature:extra,fieldInfo:fieldInfo,parentId:parentId,highlightColor:highlightColor,menuType:MENU_TYPES_CONTEXT},extraIdx)}))})};ExtraBar.__docgenInfo={description:"",methods:[],displayName:"ExtraBar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/ExtraBar.jsx"]={name:"ExtraBar",docgenInfo:ExtraBar.__docgenInfo,path:"src/components/Block/ExtraBar.jsx"}),RightClickMenu.__docgenInfo={description:"",methods:[],displayName:"RightClickMenu"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/ExtraBar.jsx"]={name:"RightClickMenu",docgenInfo:RightClickMenu.__docgenInfo,path:"src/components/Block/ExtraBar.jsx"});var _templateObject,_templateObject2,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Selectable=styled_components_browser_esm.default.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    animation: "," 2s ease-in-out infinite reverse;\n"])),(function selectKeyframes(props){return(0,styled_components_browser_esm.keyframes)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    0% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 2pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n\n    50% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 5pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n    \n    100% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 2pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n"])),props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent",props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent",props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent")})),ProgressBar=function ProgressBar(_ref){var progress=_ref.progress,color=_ref.color,_useState=(0,react.useState)(0),_useState2=(0,slicedToArray.Z)(_useState,2),progressValue=_useState2[0],setProgressValue=_useState2[1],clock=useProgrammingStore((function(state){return state.clock})),shown=progressValue>0&&null!=progress&&null!=progressValue,width=shown?Math.min(100,100*progressValue):0,outerStyle=(0,react_spring_web_esm.useSpring)({transform:shown?"scaleY(1)":"scaleY(0)",opacity:shown?1:0,config:react_spring_esm.config.stiff}),innerStyle=(0,react_spring_web_esm.useSpring)({width:"calc(".concat(width,"% - 2pt)"),config:react_spring_esm.config.stiff});return(0,react.useEffect)((function(){clock.update();var time=1e3*clock.getElapsed(),newProgressValue="function"==typeof progress?progress(time):progress;if(setProgressValue(newProgressValue),"function"==typeof progress){var interval=setInterval((function(){clock.update();var time=1e3*clock.getElapsed(),newProgressValue="function"==typeof progress?progress(time):progress;setProgressValue(newProgressValue)}),300);return function(){return clearInterval(interval)}}}),[clock,progress]),(0,jsx_runtime.jsx)(react_spring_web_esm.animated.div,{hidden:!shown,style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},outerStyle),{},{height:8,borderRadius:100,backgroundColor:"#00000044",marginLeft:4,marginRight:4}),children:(0,jsx_runtime.jsx)(react_spring_web_esm.animated.div,{style:(0,objectSpread2.Z)((0,objectSpread2.Z)({},innerStyle),{},{backgroundColor:color,borderRadius:100,margin:1,height:6,boxShadow:"0 0 1 1 #00000022"})})})};ProgressBar.__docgenInfo={description:"",methods:[],displayName:"ProgressBar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/Progress.jsx"]={name:"ProgressBar",docgenInfo:ProgressBar.__docgenInfo,path:"src/components/Block/Progress.jsx"});var VisualBlock=(0,react.memo)((0,react.forwardRef)((function(_ref,ref){var _data$refData,_data$refData2,_data$refData3,_data$refData4,_Object$entries,_Object$entries2,data=_ref.data,x=_ref.x,y=_ref.y,scale=_ref.scale,typeSpec=_ref.typeSpec,_ref$onCanvas=_ref.onCanvas,onCanvas=void 0!==_ref$onCanvas&&_ref$onCanvas,_ref$interactionDisab=_ref.interactionDisabled,interactionDisabled=void 0!==_ref$interactionDisab&&_ref$interactionDisab,_ref$bounded=_ref.bounded,bounded=void 0!==_ref$bounded&&_ref$bounded,highlightColor=_ref.highlightColor,context=_ref.context,fieldInfo=_ref.fieldInfo,parentId=_ref.parentId,style=_ref.style,progress=_ref.progress,blockSpec=data.dataType===Constants.D3.REFERENCE?typeSpec.referenceBlock:data.dataType===Constants.D3.CALL?typeSpec.callBlock:typeSpec.instanceBlock,blockStyle=style||{},_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isCollapsed=_useState2[0],setIsCollapsed=_useState2[1],_useState3=(0,react.useState)(!1),_useState4=(0,slicedToArray.Z)(_useState3,2),isDebugging=_useState4[0],setIsDebugging=_useState4[1],_useState5=(0,react.useState)(!0),_useState6=(0,slicedToArray.Z)(_useState5,2),simplePropertiesCollapsed=_useState6[0],setSimplePropertiesCollapsed=_useState6[1],updateItemName=useProgrammingStore((function(store){return store.updateItemName})),setIsEditing=useProgrammingStore((function(store){return store.updateItemEditing})),setIsSelected=useProgrammingStore((function(store){return store.updateItemSelected})),updateItemSimpleProperty=useProgrammingStore((function(store){return store.updateItemSimpleProperty})),setLocked=useProgrammingStore((function(state){return state.setLocked})),locked=useProgrammingStore((function(state){return state.locked})),minified=blockSpec.minified&&data.dataType===Constants.D3.INSTANCE,simpleProperties=typeSpec.properties?(0,lodash.pickBy)(typeSpec.properties,(function(entry){return Object.values(Constants.Rb).includes(entry.type)&&entry.type!==Constants.Rb.IGNORED})):{},standardProperties=typeSpec.properties?(0,lodash.omitBy)(typeSpec.properties,(function(entry){return Object.values(Constants.Rb).includes(entry.type)})):{},Icon=blockSpec.icon?blockSpec.icon:index_esm.jxP,name=[Constants.D3.CALL,Constants.D3.REFERENCE].includes(data.dataType)?null==data||null===(_data$refData=data.refData)||void 0===_data$refData?void 0:_data$refData.name:null==data?void 0:data.name,editing=data.editing||(null===(_data$refData2=data.refData)||void 0===_data$refData2?void 0:_data$refData2.editing),selected=data.selected||(null===(_data$refData3=data.refData)||void 0===_data$refData3?void 0:_data$refData3.selected),canDragBlockRFR=onCanvas&&blockSpec.onCanvas&&!editing&&!locked,stopPropFn=function stopPropFn(e){e.stopPropagation()},stopPropArgs={onClick:stopPropFn,onMouseDown:stopPropFn,onDrag:stopPropFn};return(0,jsx_runtime.jsxs)(Utility.xV,{children:[(0,jsx_runtime.jsx)(Utility.W4,{asChild:!0,children:(0,jsx_runtime.jsxs)(Selectable,{selected:selected,highlightColor:highlightColor,className:canDragBlockRFR?null:"nodrag",ref:ref,style:(0,objectSpread2.Z)({minWidth:175,width:bounded?"inherit":"max-content",backgroundColor:blockSpec.color,borderRadius:3,padding:minified?0:4,flex:bounded?1:null,transform:"translate(".concat(x||0,"px, ").concat(y||0,"px) scale(").concat(scale||1,")"),WebkitTransform:"translate(".concat(x||0,"px, ").concat(y||0,"px) scale(").concat(scale||1,")")},blockStyle),children:[(0,jsx_runtime.jsxs)(Box.x,{className:canDragBlockRFR?null:"nodrag",flex:!0,gap:"xsmall",direction:"row",justify:"between",margin:"".concat(minified?1:4,"pt"),alignContent:"between",align:"center",children:[!minified&&(0,jsx_runtime.jsxs)(Box.x,{flex:!0,align:"center",direction:"row",gap:"xsmall",children:[(0,jsx_runtime.jsx)("div",(0,objectSpread2.Z)((0,objectSpread2.Z)({},stopPropArgs),{},{style:{backgroundColor:"#22222299",color:"white",padding:9,borderRadius:5,boxShadow:"0 0 0 1px #222222",height:17,width:17},children:(0,jsx_runtime.jsx)(Icon,{})})),(0,jsx_runtime.jsx)(Box.x,{flex:!0,children:(0,jsx_runtime.jsx)(Utility.II,{className:canDragBlockRFR?null:"nodrag",onMouseEnter:editing?function(_){return setLocked(!0)}:null,onMouseLeave:editing?function(_){return setLocked(!1)}:null,value:name,disabled:!(data.editing||null!==(_data$refData4=data.refData)&&void 0!==_data$refData4&&_data$refData4.editing),highlightColor:highlightColor,style:{boxShadow:editing?"0 0 0 1px ".concat(highlightColor):"0 0 0 1px #222222","&:focus":{boxShadow:"0 0 0 2px ".concat(highlightColor)},backgroundColor:editing?"".concat(highlightColor,"99"):"#22222299"},onChange:function onChange(e){console.log("changing",e),updateItemName(data.refData?data.refData.id:data.id,e.target.value)}})})]}),minified&&(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(Utility.$_,{className:canDragBlockRFR?null:"nodrag",width:"100%",horizontal:!0,children:(0,jsx_runtime.jsx)(Box.x,{className:canDragBlockRFR?null:"nodrag",direction:"row",gap:"xxsmall",border:"right",alignContent:"center",align:"center",children:null===(_Object$entries=Object.entries(typeSpec.properties))||void 0===_Object$entries?void 0:_Object$entries.map((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),fieldKey=_ref3[0],fieldInfo=_ref3[1];if(!Object.values(Constants.Rb).includes(fieldInfo.type)||fieldInfo.type===Constants.Rb.IGNORED)return(0,jsx_runtime.jsx)(Utility.eE,{content:(0,jsx_runtime.jsx)("div",{style:{textAlign:"center"},children:fieldInfo.name},"label"),children:(0,jsx_runtime.jsx)(Box.x,{focusIndicator:!1,children:fieldInfo.isList?(0,jsx_runtime.jsx)(List,{ids:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor,context:context}):(0,jsx_runtime.jsx)(DropZone,{id:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey,name:fieldInfo.fullWidth?fieldInfo.name:""}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor,context:context})},fieldKey)},fieldKey);if(fieldInfo.type===Constants.Rb.OPTIONS){var currentText=fieldInfo.options.filter((function(option){return option.value===data.properties[fieldKey]})).map((function(option){return option.label}))[0];return(0,jsx_runtime.jsxs)(Utility.SE,{children:[(0,jsx_runtime.jsx)(Utility.$F,{asChild:!0,children:(0,jsx_runtime.jsx)(Box.x,{as:"div",style:{minWidth:12*currentText.length},direction:"row",align:"center",hoverIndicator:"#00000055",focusIndicator:!1,onClick:function onClick(){},alignContent:"center",background:"#00000022",round:"xxsmall",margin:"xxsmall",height:"30pt",pad:{left:"xxsmall",right:"xxsmall"},children:currentText})}),(0,jsx_runtime.jsx)(Utility.AW,{children:(0,jsx_runtime.jsx)(Utility._x,{value:data.properties[fieldKey],onValueChange:function onValueChange(value){return updateItemSimpleProperty(data.id,fieldKey,value)},children:fieldInfo.options.map((function(option,idx){return(0,jsx_runtime.jsxs)(Utility.qB,{value:option.value,highlightColor:highlightColor,disabled:interactionDisabled,children:[(0,jsx_runtime.jsx)(Utility.nC,{children:(0,jsx_runtime.jsx)(index_esm.UgA,{})}),option.label]},idx)}))})})]},fieldKey)}if(fieldInfo.type===Constants.Rb.BOOLEAN)return(0,jsx_runtime.jsx)(Box.x,{style:{minWidth:43},children:(0,jsx_runtime.jsx)(Utility.eE,{content:(0,jsx_runtime.jsx)("div",{style:{textAlign:"center"},children:fieldInfo.name},"label"),children:(0,jsx_runtime.jsx)(Box.x,{style:{minWidth:43},focusIndicator:!1,children:(0,jsx_runtime.jsx)(Utility.rs,{value:data.properties[fieldKey],onCheckedChange:function onCheckedChange(value){return updateItemSimpleProperty(data.id,fieldKey,value)},highlightColor:highlightColor,disabled:interactionDisabled})},"sliderContainer")},fieldKey)},fieldKey);if(fieldInfo.type===Constants.Rb.STRING){var currentValue=data.properties[fieldKey];return(0,jsx_runtime.jsx)(Box.x,{style:{minWidth:11*currentValue.length+3,maxWidth:11*currentValue.length+5},children:(0,jsx_runtime.jsx)(Utility.eE,{content:(0,jsx_runtime.jsx)("div",{style:{textAlign:"center"},children:fieldInfo.name},"label"),children:(0,jsx_runtime.jsx)(Utility.II,{className:"nodrag",placeholder:fieldInfo.name,onMouseEnter:function onMouseEnter(_){return setLocked(!0)},onMouseLeave:function onMouseLeave(_){return setLocked(!1)},value:currentValue,disabled:interactionDisabled,onChange:function onChange(e){return updateItemSimpleProperty(data.id,fieldKey,e.target.value)}},fieldKey)})},fieldKey)}return fieldInfo.type===Constants.Rb.NUMBER?(0,jsx_runtime.jsx)(Box.x,{style:{minWidth:40},children:(0,jsx_runtime.jsx)(Utility.eE,{content:(0,jsx_runtime.jsx)("div",{style:{textAlign:"center"},children:fieldInfo.name},"label"),children:(0,jsx_runtime.jsx)(Box.x,{focusIndicator:!1,children:(0,jsx_runtime.jsx)(Utility.Y2,{onMouseEnter:function onMouseEnter(_){return setLocked(!0)},onMouseLeave:function onMouseLeave(_){return setLocked(!1)},className:"nodrag",style:{width:105,marginRight:3},min:void 0!==fieldInfo.min?fieldInfo.min:0,max:void 0!==fieldInfo.max?fieldInfo.max:10,step:fieldInfo.step,suffix:fieldInfo.units,value:data.properties[fieldKey],disabled:interactionDisabled,visualScaling:fieldInfo.visualScaling,onChange:function onChange(value){return updateItemSimpleProperty(data.id,fieldKey,value)}},fieldKey)})})},fieldKey):null}))})})}),(null==blockSpec?void 0:blockSpec.extras)&&(0,jsx_runtime.jsx)(ExtraBar,{highlightColor:highlightColor,fieldInfo:fieldInfo,parentId:parentId,interactionDisabled:interactionDisabled,data:data,blockSpec:blockSpec,isEditing:editing,isCollapsed:isCollapsed,isSelected:selected,isDebugging:isDebugging,setIsEditing:data.dataType===Constants.D3.REFERENCE||data.dataType===Constants.D3.CALL?function(v){return setIsEditing(data.ref,v)}:function(v){return setIsEditing(data.id,v)},setIsSelected:data.dataType===Constants.D3.REFERENCE||data.dataType===Constants.D3.CALL?function(v){setIsSelected(data.ref,v)}:function(v){setIsSelected(data.id,v)},setIsCollapsed:setIsCollapsed,setIsDebugging:setIsDebugging})]}),(0,jsx_runtime.jsx)(ProgressBar,{progress:progress,color:highlightColor}),!isCollapsed&&!minified&&(0,jsx_runtime.jsxs)(Box.x,{animation:["fadeIn","zoomIn"],children:[data.dataType===Constants.D3.INSTANCE&&typeSpec.type===Constants.vK.FUNCTION&&data.arguments&&Object.keys(data.arguments).length>0&&(0,jsx_runtime.jsx)(Box.x,{gap:"xsmall",direction:"column",style:{borderRadius:4,display:"flex",margin:4,padding:5,backgroundColor:"rgba(0,0,0,0.2)"},children:data.argumentBlockData.map((function(argBlockData,argIdx){return(0,jsx_runtime.jsx)(Block,{staticData:argBlockData,parentId:data.id,bounded:!0,highlightColor:highlightColor,context:context,fieldInfo:{name:"",value:null,accepts:[],isSpawner:!0}},argIdx)}))}),Object.keys(simpleProperties).length>0&&data.dataType===Constants.D3.INSTANCE&&(0,jsx_runtime.jsxs)(Box.x,{margin:"xsmall",background:"#ffffff50",round:"xxsmall",align:"center",justify:"between",direction:"column",pad:"xsmall",flex:!0,children:[(0,jsx_runtime.jsxs)(Box.x,{direction:"row",align:"center",justify:"between",flex:!0,style:{width:"100%"},children:[(0,jsx_runtime.jsx)(Text.x,{margin:{left:"medium"},children:"Settings"}),(0,jsx_runtime.jsx)(Button.z,{plain:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(ExpandCarrot,{expanded:!simplePropertiesCollapsed}),onClick:interactionDisabled?function(e){e.stopPropagation()}:function(e){setSimplePropertiesCollapsed(!simplePropertiesCollapsed),e.stopPropagation()}})]}),!simplePropertiesCollapsed&&(0,jsx_runtime.jsx)(Box.x,{flex:!0,animation:["fadeIn","slideDown"],style:{width:"100%"},children:Object.entries(simpleProperties).map((function(_ref4){var _ref5=(0,slicedToArray.Z)(_ref4,2),propKey=_ref5[0],propInfo=_ref5[1];return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",background:"#ffffff50",round:"xsmall",flex:!0,pad:"small",justify:"between",align:"center",margin:{bottom:"xsmall"},children:[(0,jsx_runtime.jsx)(Text.x,{size:"small",color:"#00000088",children:propInfo.name}),propInfo.type===Constants.Rb.BOOLEAN&&(0,jsx_runtime.jsx)(Utility.rs,{value:data.properties[propKey],onCheckedChange:function onCheckedChange(value){return updateItemSimpleProperty(data.id,propKey,value)},highlightColor:highlightColor,disabled:interactionDisabled}),propInfo.type===Constants.Rb.NUMBER&&(0,jsx_runtime.jsx)(Box.x,{width:"small",align:"end",children:(0,jsx_runtime.jsx)(Utility.Y2,{onMouseEnter:function onMouseEnter(_){return setLocked(!0)},onMouseLeave:function onMouseLeave(_){return setLocked(!1)},className:"nodrag",min:void 0!==propInfo.min?propInfo.min:0,max:void 0!==propInfo.max?propInfo.max:10,style:{width:105},step:propInfo.step,suffix:propInfo.units,value:data.properties[propKey],disabled:interactionDisabled,visualScaling:propInfo.visualScaling,onChange:function onChange(value){return updateItemSimpleProperty(data.id,propKey,value)}})}),propInfo.type===Constants.Rb.STRING&&(0,jsx_runtime.jsx)(Box.x,{width:"xsmall",children:(0,jsx_runtime.jsx)(Utility.II,{className:"nodrag",onMouseEnter:function onMouseEnter(_){return setLocked(!0)},onMouseLeave:function onMouseLeave(_){return setLocked(!1)},size:"xsmall",textAlign:"right",value:data.properties[propKey],disabled:interactionDisabled,onChange:function onChange(e){return updateItemSimpleProperty(data.id,propKey,e.target.value)}})}),propInfo.type===Constants.Rb.OPTIONS&&(0,jsx_runtime.jsx)(RadioButtonGroup.S,{name:propInfo.name,disabled:interactionDisabled,size:"xsmall",style:{color:"#00000088",fontSize:13},options:propInfo.options,value:data.properties[propKey],onChange:function onChange(e){return updateItemSimpleProperty(data.id,propKey,e.target.value)}})]},propKey)}))})]}),data.dataType===Constants.D3.CALL&&data.argumentBlockData.map((function(argInfo,argIdx){return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",margin:"xsmall",background:"#ffffff20",round:"xxsmall",alignContent:"between",align:"center",justify:"between",flex:!0,children:[(0,jsx_runtime.jsx)(Box.x,{pad:"xsmall",alignContent:"center",align:"center",children:argInfo.name}),(0,jsx_runtime.jsx)(DropZone,{id:data.properties[argInfo.ref],fieldInfo:{name:"",value:argInfo.ref,accepts:[argInfo.type]},parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor,context:context})]},argIdx)})),data.dataType===Constants.D3.INSTANCE&&(null===(_Object$entries2=Object.entries(standardProperties))||void 0===_Object$entries2?void 0:_Object$entries2.map((function(_ref6){var _ref7=(0,slicedToArray.Z)(_ref6,2),fieldKey=_ref7[0],fieldInfo=_ref7[1],innerLabel=fieldInfo.fullWidth?"":fieldInfo.name;return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",margin:fieldInfo.fullWidth?"none":"xsmall",background:fieldInfo.fullWidth?null:"#ffffff20",round:"xxsmall",alignContent:"between",align:"center",justify:"between",flex:!0,children:[(0,jsx_runtime.jsx)(Box.x,{pad:fieldInfo.fullWidth?"none":"xsmall",alignContent:"center",align:"center",children:innerLabel}),fieldInfo.isList?(0,jsx_runtime.jsx)(List,{ids:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor,context:context}):(0,jsx_runtime.jsx)(DropZone,{id:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey,name:fieldInfo.fullWidth?fieldInfo.name:""}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor,context:context})]},fieldKey)})))]}),isDebugging&&(0,jsx_runtime.jsx)(Box.x,{round:"small",pad:"small",background:"#00000044",style:{whiteSpace:"pre",color:"white",fontFamily:"monospace"},children:JSON.stringify((0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{interactionDisabled:!!interactionDisabled}),null,"  ")})]})}),(0,jsx_runtime.jsx)(Utility.h_,{children:(0,jsx_runtime.jsx)(RightClickMenu,{highlightColor:highlightColor,fieldInfo:fieldInfo,parentId:parentId,interactionDisabled:interactionDisabled,data:data,blockSpec:blockSpec,isEditing:editing,isCollapsed:isCollapsed,isSelected:selected,isDebugging:isDebugging,setIsEditing:data.dataType===Constants.D3.REFERENCE||data.dataType===Constants.D3.CALL?function(v){return setIsEditing(data.ref,v)}:function(v){return setIsEditing(data.id,v)},setIsSelected:data.dataType===Constants.D3.REFERENCE||data.dataType===Constants.D3.CALL?function(v){console.log(data),setIsSelected(data.ref,v)}:function(v){console.log(data),setIsSelected(data.id,v)},setIsCollapsed:setIsCollapsed,setIsDebugging:setIsDebugging})})]})}))),PreviewBlock=(0,react.memo)((function(_ref){var id=_ref.id,staticData=_ref.staticData,bounded=_ref.bounded,highlightColor=_ref.highlightColor,context=_ref.context,style=_ref.style,_useProgrammingStore=useProgrammingStore((0,react.useCallback)((function(state){return combinedBlockData(state,staticData,id)}),[id,staticData])),_useProgrammingStore2=(0,slicedToArray.Z)(_useProgrammingStore,2),data=_useProgrammingStore2[0],typeSpec=_useProgrammingStore2[1],blockContext=data.arguments?data.arguments:[],wholeContext=[].concat((0,toConsumableArray.Z)(context),(0,toConsumableArray.Z)(blockContext));return data?(0,jsx_runtime.jsx)(VisualBlock,{data:data,typeSpec:typeSpec,interactionDisabled:!0,bounded:bounded,highlightColor:highlightColor,context:wholeContext,style:style}):null})),Block=(0,react.memo)((function(_ref){var id=_ref.id,staticData=_ref.staticData,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,dragDisabled=_ref.dragDisabled,bounded=_ref.bounded,after=_ref.after,highlightColor=_ref.highlightColor,context=_ref.context,interactionDisabled=_ref.interactionDisabled,_useProgrammingStore=useProgrammingStore((0,react.useCallback)((function(state){return combinedBlockData(state,staticData,id)}),[id,staticData])),_useProgrammingStore2=(0,slicedToArray.Z)(_useProgrammingStore,3),data=_useProgrammingStore2[0],typeSpec=_useProgrammingStore2[1],progress=_useProgrammingStore2[2],locked=useProgrammingStore((function(state){return state.locked})),blockContext=data.arguments?data.arguments:[],wholeContext=[].concat((0,toConsumableArray.Z)(context),(0,toConsumableArray.Z)(blockContext)),onCanvas=data.dataType===Constants.D3.REFERENCE?typeSpec.referenceBlock.onCanvas:data.dataType===Constants.D3.CALL?typeSpec.callBlock.onCanvas:data.dataType===Constants.D3.INSTANCE?typeSpec.instanceBlock.onCanvas:"null",_useDrag=(0,useDrag.c)((function(){return{type:null!=data&&data.type?data.type:"null",item:function item(){return{data:data,typeSpec:typeSpec,parentId:parentId,fieldInfo:fieldInfo,idx:idx,onCanvas:onCanvas,context:wholeContext}},canDrag:!dragDisabled&&!data.editing&&!locked,collect:function collect(monitor){return{isDragging:monitor.isDragging()}}}}),[data,typeSpec,parentId,fieldInfo,idx,dragDisabled]),_useDrag2=(0,slicedToArray.Z)(_useDrag,3),dragProps=_useDrag2[0],drag=_useDrag2[1],preview=_useDrag2[2],hidden=!(null!=fieldInfo&&fieldInfo.isSpawner)&&dragProps.isDragging;return(0,react.useEffect)((function(){preview((0,getEmptyImage.r)(),{captureDraggingState:!1})}),[preview]),data&&"null"!==onCanvas?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{hidden:hidden,style:{flex:1,display:hidden?"none":"flex"},children:(0,jsx_runtime.jsx)(VisualBlock,{data:data,ref:drag,typeSpec:typeSpec,bounded:bounded,highlightColor:highlightColor,context:wholeContext,interactionDisabled:interactionDisabled,fieldInfo:fieldInfo,parentId:parentId,progress:progress})}),(0,jsx_runtime.jsx)("div",{hidden:hidden,style:{display:hidden?"none":"flex"},children:after})]}):null})),web=__webpack_require__("./node_modules/react-use-measure/dist/web.js"),_excluded=["highlightColor","progress"],CanvasNode=function CanvasNode(_ref){var data=_ref.data,highlightColor=data.highlightColor,progress=data.progress,rest=(0,objectWithoutProperties.Z)(data,_excluded);return(0,jsx_runtime.jsx)(VisualBlock,{data:rest,x:0,y:0,typeSpec:rest.typeSpec,onCanvas:!0,highlightColor:highlightColor,context:rest.context,progress:progress})},Canvas=function Canvas(_ref2){var highlightColor=_ref2.highlightColor,snapToGrid=_ref2.snapToGrid,locked=useProgrammingStore((function(state){return state.locked})),setLocked=useProgrammingStore((function(state){return state.setLocked})),nodes=useProgrammingStore((function(state){return Object.values(state.programData).map((function(data){var _state$programSpec$ob,_state$programSpec$ob2,typeSpec=state.programSpec.objectTypes[data.type],progress=state.executionData[data.id],blockType=data.dataType===Constants.D3.INSTANCE?"instanceBlock":data.dataType===Constants.D3.CALL?"callBlock":data.dataType===Constants.D3.REFERENCE?"referenceBlock":"nullBlock",color=null===(_state$programSpec$ob=state.programSpec.objectTypes[data.type][blockType])||void 0===_state$programSpec$ob?void 0:_state$programSpec$ob.color,onCanvas=null===(_state$programSpec$ob2=state.programSpec.objectTypes[data.type][blockType])||void 0===_state$programSpec$ob2?void 0:_state$programSpec$ob2.onCanvas,ref=data.ref?state.programData[data.ref]:null,argumentBlockData=(null!=data&&data.arguments?data.arguments:null!=ref&&ref.arguments?ref.arguments:[]).map((function(instanceId){var inst=state.programData[instanceId],instType=state.programSpec.objectTypes[inst.type];return referenceTemplateFromSpec(inst.type,inst,instType)}));return{id:data.id,position:data.position,type:"canvasNode",data:(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{highlightColor:highlightColor,ref:ref,typeSpec:(0,objectSpread2.Z)((0,objectSpread2.Z)({},typeSpec),{},{color:color,onCanvas:onCanvas}),context:data.arguments?data.arguments:[],argumentBlockData:argumentBlockData,progress:progress})}})).filter((function(data){var _data$data$typeSpec;return null===(_data$data$typeSpec=data.data.typeSpec)||void 0===_data$data$typeSpec?void 0:_data$data$typeSpec.onCanvas}))})),acceptTypes=useProgrammingStore((function(state){return Object.entries(state.programSpec.objectTypes).filter((function(_ref3){var _objectType$instanceB,_objectType$reference,_objectType$callBlock,_ref4=(0,slicedToArray.Z)(_ref3,2),objectType=(_ref4[0],_ref4[1]);return(null===(_objectType$instanceB=objectType.instanceBlock)||void 0===_objectType$instanceB?void 0:_objectType$instanceB.onCanvas)||(null===(_objectType$reference=objectType.referenceBlock)||void 0===_objectType$reference?void 0:_objectType$reference.onCanvas)||(null===(_objectType$callBlock=objectType.callBlock)||void 0===_objectType$callBlock?void 0:_objectType$callBlock.onCanvas)})).map((function(_ref5){return(0,slicedToArray.Z)(_ref5,1)[0]}))})),moveNodes=useProgrammingStore((function(state){return state.moveBlocks})),createPlacedNode=useProgrammingStore((function(state){return state.createPlacedBlock})),project=(0,useReactFlow_00c92446.u)().project,_useMeasure=(0,web.Z)(),_useMeasure2=(0,slicedToArray.Z)(_useMeasure,2),ref=_useMeasure2[0],bounds=_useMeasure2[1],drop=(0,useDrop.L)({accept:acceptTypes,canDrop:function canDrop(item){return item.onCanvas},drop:function drop(item,monitor){var clientOffset=monitor.getClientOffset(),position=project({x:clientOffset.x-bounds.left-50,y:clientOffset.y-bounds.top});createPlacedNode(item.data,position.x,position.y)}})[1];return(0,jsx_runtime.jsx)("div",{ref:ref,style:{backgroundColor:"black",display:"flex",flex:1},children:(0,jsx_runtime.jsxs)(dist_esm.ZP,{ref:drop,maxZoom:1.5,minZoom:.5,nodesConnectable:!1,elementsSelectable:!1,nodeTypes:(0,react.useMemo)((function(){return{canvasNode:CanvasNode}}),[]),nodes:nodes,onConnect:function onConnect(_){},onNodesChange:moveNodes,fitView:!0,snapToGrid:snapToGrid,snapGrid:[30,30],children:[(0,jsx_runtime.jsx)(index_ac3b1637.i,{maskColor:"#1a192b44",nodeStrokeColor:function nodeStrokeColor(n){var _n$style;return null!==(_n$style=n.style)&&void 0!==_n$style&&_n$style.background?n.style.background:null!==n.data.typeSpec.color?n.data.typeSpec.color:"#eee"},nodeColor:function nodeColor(n){var _n$style2;return null!==n.data.typeSpec.color?n.data.typeSpec.color:null!==(_n$style2=n.style)&&void 0!==_n$style2&&_n$style2.background?n.style.background:"#fff"},nodeBorderRadius:3}),(0,jsx_runtime.jsx)(index_97ceaccb.i,{showInteractive:!1,children:(0,jsx_runtime.jsx)(index_97ceaccb.C,{onClick:function onClick(){return setLocked(!locked)},children:locked?(0,jsx_runtime.jsx)(index_esm.UIZ,{}):(0,jsx_runtime.jsx)(index_esm.PdD,{})})}),(0,jsx_runtime.jsx)(index_d8b8470d.i,{variant:"lines",color:"#555",gap:30})]})})};Canvas.__docgenInfo={description:"",methods:[],displayName:"Canvas"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Canvas.jsx"]={name:"Canvas",docgenInfo:Canvas.__docgenInfo,path:"src/components/Canvas.jsx"});var List_List=__webpack_require__("./node_modules/grommet/es6/components/List/List.js"),TextInput=__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js"),TipContent=function TipContent(_ref){var message=_ref.message;return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",align:"center",children:[(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 22 22",version:"1.1",width:"22px",height:"22px",children:(0,jsx_runtime.jsx)("polygon",{fill:"grey",points:"6 2 18 12 6 22",transform:"matrix(-1 0 0 1 30 0)"})}),(0,jsx_runtime.jsx)(Box.x,{background:"grey",direction:"row",pad:"small",round:"xxsmall",children:(0,jsx_runtime.jsx)(Text.x,{color:"#313131",children:message})})]})},Drawer=function Drawer(_ref2){var highlightColor=_ref2.highlightColor,drawerWidth=_ref2.drawerWidth,_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1],_useMeasure=(0,web.Z)(),_useMeasure2=(0,slicedToArray.Z)(_useMeasure,2),drawerRef=_useMeasure2[0],drawerBounds=_useMeasure2[1],_useMeasure3=(0,web.Z)(),_useMeasure4=(0,slicedToArray.Z)(_useMeasure3,2),headerRef=_useMeasure4[0],headerBounds=_useMeasure4[1],blocks=useProgrammingStore((function(store){var blocks=[];if(null!==store.activeDrawer){var drawer=store.programSpec.drawers[store.activeDrawer];drawer.dataType===Constants.D3.INSTANCE?drawer.objectTypes.forEach((function(objectType){blocks.push(instanceTemplateFromSpec(objectType,store.programSpec.objectTypes[objectType]))})):drawer.dataType===Constants.D3.REFERENCE?Object.values(store.programData).filter((function(d){return d.dataType===Constants.D3.INSTANCE&&d.type===drawer.objectType})).forEach((function(instanceReference){blocks.push(referenceTemplateFromSpec(drawer.objectType,instanceReference,store.programSpec.objectTypes[drawer.objectType]))})):drawer.dataType===Constants.D3.CALL&&Object.values(store.programData).filter((function(d){return d.dataType===Constants.D3.INSTANCE&&d.type===drawer.objectType})).forEach((function(functionReference){blocks.push(function callTemplateFromSpec(type,functionReference,objectSpec){var data={id:type,type:type,ref:functionReference.id,dataType:Constants.D3.CALL,name:functionReference.name,properties:{},canDelete:!0,canEdit:!0,editing:!1,selected:!1};return objectSpec.callBlock.onCanvas&&(data.position={x:0,y:0}),functionReference.arguments&&Object.entries(functionReference.arguments).forEach((function(_ref3){var _ref4=(0,slicedToArray.Z)(_ref3,2),argKey=_ref4[0],argInfo=_ref4[1];data.properties[argKey]=argInfo.default})),data}(drawer.objectType,functionReference,store.programSpec.objectTypes[drawer.objectType]))}))}return blocks.filter((function(block){return block.name.toLowerCase().includes(searchTerm.toLowerCase())||""===searchTerm}))})),hlcolor=highlightColor||"cyan",drawers=useProgrammingStore((function(store){return store.programSpec.drawers})),activeDrawer=useProgrammingStore((function(store){return store.activeDrawer})),setActiveDrawer=useProgrammingStore((function(store){return store.setActiveDrawer})),addInstance=useProgrammingStore((function(store){return store.addInstance})),drawerStyle=(0,react_spring_web_esm.useSpring)({width:null!==activeDrawer?drawerWidth:0,config:react_spring_esm.config.stiff}),sidebarStyle=(0,react_spring_web_esm.useSpring)({width:null!==activeDrawer?drawerWidth+52:52,config:react_spring_esm.config.stiff});return(0,jsx_runtime.jsxs)(react_spring_web_esm.animated.div,{style:(0,objectSpread2.Z)({display:"flex",padding:0},sidebarStyle),children:[(0,jsx_runtime.jsx)("div",{style:{display:"flex",height:"100%",width:52,backgroundColor:"#212121",padding:0},children:(0,jsx_runtime.jsx)(List_List.a,{data:drawers,border:!1,align:"center",margin:"none",pad:"none",radius:"none",children:function children(drawer,drawerIdx){var Icon=drawer.icon;return(0,jsx_runtime.jsx)(Button.z,{primary:!0,tip:{content:(0,jsx_runtime.jsx)(TipContent,{message:drawer.title}),plain:!0,dropProps:{align:{left:"right"}}},focusIndicator:!1,hoverIndicator:activeDrawer===drawerIdx?hlcolor:"#414141",color:activeDrawer===drawerIdx?hlcolor:"#313131",margin:{top:"xsmall",bottom:"none",left:"xsmall",right:"xsmall"},round:"small",onClick:function onClick(){setSearchTerm(""),setActiveDrawer(activeDrawer===drawerIdx?null:drawerIdx)},icon:(0,jsx_runtime.jsx)(Icon,{})})}})}),(0,jsx_runtime.jsx)(react_spring_web_esm.animated.div,{ref:drawerRef,style:(0,objectSpread2.Z)({height:"100%",backgroundColor:"#2f2f2f",overflow:"hidden"},drawerStyle),children:null!==activeDrawer&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Box.x,{ref:headerRef,background:"#444444",direction:"column",pad:"small",animation:"fadeIn",children:[(0,jsx_runtime.jsxs)(Box.x,{direction:"row",justify:"between",align:"center",children:[(0,jsx_runtime.jsx)(Box.x,{pad:"small",children:(0,jsx_runtime.jsx)(Text.x,{children:drawers[activeDrawer].title})}),drawers[activeDrawer].dataType===Constants.D3.REFERENCE&&(0,jsx_runtime.jsx)(Button.z,{secondary:!0,onClick:function onClick(){return addInstance(drawers[activeDrawer].objectType)},icon:(0,jsx_runtime.jsx)(index_esm.OvN,{})})]}),(0,jsx_runtime.jsx)(TextInput.o,{size:"small",icon:(0,jsx_runtime.jsx)(index_esm.jRj,{style:{height:15}}),placeholder:"search ...",focusIndicator:!1,value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value)}})]}),(0,jsx_runtime.jsx)(Utility.$_,{height:drawerBounds.height-headerBounds.height,width:drawerWidth,vertical:!0,children:blocks.map((function(block,idx){return(0,jsx_runtime.jsx)(Box.x,{animation:{type:"fadeIn",delay:30*idx},style:{marginBottom:5,width:drawerWidth-10},children:(0,jsx_runtime.jsx)(Block,{staticData:block,parentId:"spawner",bounded:!0,highlightColor:highlightColor,context:[],interactionDisabled:!0,fieldInfo:{name:"",value:null,accepts:[],isSpawner:!0}})},idx)}))})]})})]})};Drawer.__docgenInfo={description:"",methods:[],displayName:"Drawer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Drawer.jsx"]={name:"Drawer",docgenInfo:Drawer.__docgenInfo,path:"src/components/Drawer.jsx"});var useDragLayer=__webpack_require__("./node_modules/react-dnd/dist/hooks/useDragLayer.js"),DragLayer=function DragLayer(_ref){var highlightColor=_ref.highlightColor,_useDragLayer=(0,useDragLayer.f)((function(monitor){return{item:monitor.getItem(),currentOffset:monitor.getSourceClientOffset(),isDragging:monitor.isDragging()}})),isDragging=_useDragLayer.isDragging,item=_useDragLayer.item,currentOffset=_useDragLayer.currentOffset;return(0,jsx_runtime.jsx)("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:0,height:0,opacity:.5},children:item&&(0,jsx_runtime.jsx)(VisualBlock,{x:null==currentOffset?void 0:currentOffset.x,y:null==currentOffset?void 0:currentOffset.y,data:item.data,isDragging:isDragging,typeSpec:item.typeSpec,highlightColor:highlightColor,context:item.context})})};DragLayer.__docgenInfo={description:"",methods:[],displayName:"DragLayer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DragLayer.jsx"]={name:"DragLayer",docgenInfo:DragLayer.__docgenInfo,path:"src/components/DragLayer.jsx"});var rdndmb_html5_to_touch_dist_esm=__webpack_require__("./node_modules/rdndmb-html5-to-touch/dist/esm/index.js"),react_dnd_multi_backend_dist_esm=__webpack_require__("./node_modules/react-dnd-multi-backend/dist/esm/index.js"),DndProvider=__webpack_require__("./node_modules/react-dnd/dist/core/DndProvider.js"),Grommet=__webpack_require__("./node_modules/grommet/es6/components/Grommet/Grommet.js"),getTheme=function getTheme(highlightColor,clearBackground){return{name:"SimpleVP",rounding:4,defaultMode:"dark",global:{colors:{text:"#ffffff",brand:highlightColor,background:clearBackground?"transparent":"#111111",control:highlightColor},font:{family:"Helvetica"},focus:{border:{color:highlightColor}},input:{padding:4,extend:{backgroundColor:"#FFFFFF55"}}},button:{border:{radius:"10px"}},radioButton:{size:"16px",border:{color:"#00000088"}},checkBox:{size:"20px",border:{color:"#00000088"},color:highlightColor,hover:{border:{color:"#00000088"}}},textInput:{disabled:{opacity:1}}}};function Environment(_ref){var store=_ref.store,highlightColor=_ref.highlightColor,height=_ref.height,width=_ref.width,drawerWidth=_ref.drawerWidth,snapToGrid=_ref.snapToGrid,theme=getTheme(highlightColor);return(0,jsx_runtime.jsx)(Grommet.p,{theme:theme,children:(0,jsx_runtime.jsx)(ProgrammingProvider,{store:store,children:(0,jsx_runtime.jsxs)(DndProvider.W,{backend:react_dnd_multi_backend_dist_esm.Am,options:rdndmb_html5_to_touch_dist_esm.r,children:[(0,jsx_runtime.jsxs)("div",{style:{padding:0,margin:0,display:"flex",height:height,width:width},children:[(0,jsx_runtime.jsx)(Drawer,{highlightColor:highlightColor,drawerWidth:drawerWidth||235}),(0,jsx_runtime.jsx)(dist_esm.tV,{children:(0,jsx_runtime.jsx)(Canvas,{highlightColor:highlightColor,snapToGrid:snapToGrid})})]}),(0,jsx_runtime.jsx)(DragLayer,{highlightColor:highlightColor})]})})})}Environment.__docgenInfo={description:"",methods:[],displayName:"Environment"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Environment.jsx"]={name:"Environment",docgenInfo:Environment.__docgenInfo,path:"src/components/Environment.jsx"});var InnerExternalBlock=function InnerExternalBlock(props){var _useProgrammingStore=useProgrammingStore((0,react.useCallback)((function(state){return combinedBlockData(state,props.data,null)}),[props.data])),_useProgrammingStore2=(0,slicedToArray.Z)(_useProgrammingStore,2),data=_useProgrammingStore2[0],typeSpec=_useProgrammingStore2[1];return(0,jsx_runtime.jsx)(VisualBlock,(0,objectSpread2.Z)((0,objectSpread2.Z)((0,objectSpread2.Z)({},props),{x:0,z:0,scale:1,onCanvas:!1,interactionDisabled:!0,bounded:!0,fieldInfo:"outside",parentId:"outside"}),{},{data:data,typeSpec:typeSpec}))},ExternalBlock=function ExternalBlock(_ref){var store=_ref.store,highlightColor=_ref.highlightColor,data=_ref.data,style=_ref.style,context=_ref.context,theme=getTheme(highlightColor,!0);return(0,jsx_runtime.jsx)(Grommet.p,{theme:theme,children:(0,jsx_runtime.jsx)(ProgrammingProvider,{store:store,children:(0,jsx_runtime.jsx)(DndProvider.W,{backend:react_dnd_multi_backend_dist_esm.Am,options:rdndmb_html5_to_touch_dist_esm.r,children:(0,jsx_runtime.jsx)(InnerExternalBlock,{highlightColor:highlightColor,data:data,style:(0,objectSpread2.Z)({},style),context:context})})})})};ExternalBlock.__docgenInfo={description:"",methods:[],displayName:"ExternalBlock"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/ExternalBlock.jsx"]={name:"ExternalBlock",docgenInfo:ExternalBlock.__docgenInfo,path:"src/components/Block/ExternalBlock.jsx"})},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Embedded.stories.jsx":"./src/stories/Embedded.stories.jsx","./stories/Environment.stories.jsx":"./src/stories/Environment.stories.jsx","./stories/External.stories.jsx":"./src/stories/External.stories.jsx","./stories/SOBORO.stories.jsx":"./src/stories/SOBORO.stories.jsx","./stories/Stress.stories.jsx":"./src/stories/Stress.stories.jsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[648],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);