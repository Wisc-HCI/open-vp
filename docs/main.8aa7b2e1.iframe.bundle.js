(self.webpackChunksimple_vp=self.webpackChunksimple_vp||[]).push([[179],{"./generated-stories-entry.js":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)},"./src/stories/Environment.stories.jsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Simple:function(){return Simple},default:function(){return Environment_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/react/index.js"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),esm=__webpack_require__("./node_modules/zustand/esm/index.js"),immer_esm=__webpack_require__("./node_modules/immer/dist/immer.esm.js"),v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),DEFAULT_PROGRAM_SPEC={drawers:[],objectTypes:{}},generateUuid=function generateUuid(type){return"".concat(type,"-").concat((0,v4.Z)())};var ImmerProgrammingSlice=function immer(config){return function(set,get,api){return config((function(partial,replace){var nextState="function"==typeof partial?(0,immer_esm.ZP)(partial):partial;return set(nextState,replace)}),get,api)}}((function ProgrammingSlice(set){return{activeDrawer:null,setActiveDrawer:function setActiveDrawer(activeDrawer){return set({activeDrawer:activeDrawer})},programSpec:DEFAULT_PROGRAM_SPEC,programData:{},transferBlock:function transferBlock(data,sourceInfo,destInfo){set((function(state){var _sourceInfo$fieldInfo,newSpawn=!1,id=data.id;state.programData[data.id]||(id=generateUuid(data.type),state.programData[id]=(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{id:id}),newSpawn=!0);var sourceIsList=null===(_sourceInfo$fieldInfo=sourceInfo.fieldInfo)||void 0===_sourceInfo$fieldInfo?void 0:_sourceInfo$fieldInfo.isList,destIsList=destInfo.fieldInfo.isList;destIsList&&sourceIsList&&sourceInfo.parentId===destInfo.parentId?state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value]=function move(array,moveIndex,toIndex){var item=array[moveIndex],length=array.length,diff=moveIndex-toIndex;if(diff>0)return[].concat((0,toConsumableArray.Z)(array.slice(0,toIndex)),[item],(0,toConsumableArray.Z)(array.slice(toIndex,moveIndex)),(0,toConsumableArray.Z)(array.slice(moveIndex+1,length)));if(diff<0){var targetIndex=toIndex+1;return[].concat((0,toConsumableArray.Z)(array.slice(0,moveIndex)),(0,toConsumableArray.Z)(array.slice(moveIndex+1,targetIndex)),[item],(0,toConsumableArray.Z)(array.slice(targetIndex,length)))}return array}(state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value],sourceInfo.idx,destInfo.idx):(destIsList?state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value].splice(destInfo.idx,0,id):state.programData[destInfo.parentId].properties[destInfo.fieldInfo.value]=id,(newSpawn||sourceInfo.parentId!==destInfo.parentId||sourceInfo.fieldInfo!==destInfo.fieldInfo)&&(!newSpawn&&sourceIsList?state.programData[sourceInfo.parentId].properties[destInfo.fieldInfo.value].splice(sourceInfo.idx,1):newSpawn||sourceIsList||(state.programData[sourceInfo.parentId][sourceInfo.fieldInfo.value]=null)))}))},moveBlock:function moveBlock(changes){return set((function(state){changes.forEach((function(change){change.dragging&&state.programData[change.id]&&(state.programData[change.id].position=change.position)}))}))},createPlacedBlock:function createPlacedBlock(data,x,y){set((function(state){var id=data.id;state.programData[data.id]||(id=generateUuid(data.type),state.programData[id]=(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{id:id})),state.programData[id].position={x:x,y:y}}))},updateItemName:function updateItemName(id,value){set((function(state){var item=state.programData[id],usedId=item.dataType===DATA_TYPES.REFERENCE||item.dataType===DATA_TYPES.CALL?item.ref:id;state.programData[usedId].name=value}))},updateItemSelected:function updateItemSelected(id,value){set((function(state){var item=state.programData[id],usedId=item.dataType===DATA_TYPES.REFERENCE||item.dataType===DATA_TYPES.CALL?item.ref:id;state.programData[usedId].selected=value}))},updateItemEditing:function updateItemEditing(id,value){set((function(state){state.programData[id].editing=value}))}}})),useDefaultProgrammingStore=(0,esm.Z)(ImmerProgrammingSlice),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),ReactFlow_esm=__webpack_require__("./node_modules/react-flow-renderer/dist/ReactFlow.esm.js"),useDrop=__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDrop/useDrop.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),ProgrammingContext=(0,react.createContext)(),useProgrammingStore=function useProgrammingStore(selector,equalityFn){var store=(0,react.useContext)(ProgrammingContext);return(0,esm.o)(store,selector,equalityFn)},ProgrammingProvider=function ProgrammingProvider(_ref){var store=_ref.store,children=_ref.children;return(0,jsx_runtime.jsx)(ProgrammingContext.Provider,{value:store||useDefaultProgrammingStore,children:children})};ProgrammingProvider.__docgenInfo={description:"",methods:[],displayName:"ProgrammingProvider"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/ProgrammingContext.jsx"]={name:"ProgrammingProvider",docgenInfo:ProgrammingProvider.__docgenInfo,path:"src/components/ProgrammingContext.jsx"});var useDrag=__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDrag/useDrag.js"),getEmptyImage=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/getEmptyImage.js"),transferBlockSelector=function transferBlockSelector(state){return state.transferBlock},DropRegion=function DropRegion(_ref){var _dropProps$item,_dropProps$item$data,_dropProps$item2,id=_ref.id,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,minHeight=_ref.minHeight,hideText=_ref.hideText,disabled=_ref.disabled,highlightColor=_ref.highlightColor,transferBlock=useProgrammingStore(transferBlockSelector),data=useProgrammingStore((0,react.useCallback)((function(store){return store.programData[id]}),[id])),_useDrop=(0,useDrop.L)((function(){return{accept:fieldInfo.accepts,drop:function drop(item,_){transferBlock(item.data,item,{fieldInfo:fieldInfo,parentId:parentId,idx:idx})},canDrop:function canDrop(item){return!disabled&&!item.onCanvas},collect:function collect(monitor){return{isOver:monitor.isOver(),item:monitor.getItem()}}}}),[fieldInfo,parentId,idx,disabled]),_useDrop2=(0,slicedToArray.Z)(_useDrop,2),dropProps=_useDrop2[0],drop=_useDrop2[1],validDropType=fieldInfo.accepts.includes(null===(_dropProps$item=dropProps.item)||void 0===_dropProps$item||null===(_dropProps$item$data=_dropProps$item.data)||void 0===_dropProps$item$data?void 0:_dropProps$item$data.type)&&!(null!==(_dropProps$item2=dropProps.item)&&void 0!==_dropProps$item2&&_dropProps$item2.onCanvas),renderedData=data||(dropProps.item&&validDropType&&!disabled&&dropProps.isOver?dropProps.item.data:null),isPreview=renderedData&&renderedData!==data;return(0,jsx_runtime.jsx)("div",{className:"nodrag",ref:drop,style:{borderRadius:4,backgroundColor:dropProps.isOver&&validDropType?"#44884488":validDropType?"#88888888":null,minHeight:minHeight,minWidth:190,display:"flex",flex:1},children:renderedData&&!isPreview?(0,jsx_runtime.jsx)(Block,{staticData:renderedData,idx:idx,parentId:parentId,fieldInfo:fieldInfo,bounded:!0,highlightColor:highlightColor}):renderedData?(0,jsx_runtime.jsx)(PreviewBlock,{staticData:renderedData,idx:idx,parentId:parentId,fieldInfo:fieldInfo,bounded:!0,highlightColor:highlightColor}):hideText?null:fieldInfo.name})};DropRegion.__docgenInfo={description:"",methods:[],displayName:"DropRegion"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/DropRegion.jsx"]={name:"DropRegion",docgenInfo:DropRegion.__docgenInfo,path:"src/components/Block/DropRegion.jsx"});var DropZone=function DropZone(_ref){var id=_ref.id,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,interactionDisabled=_ref.interactionDisabled,highlightColor=_ref.highlightColor;return(0,jsx_runtime.jsx)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:"max-content",margin:4,flex:1},children:(0,jsx_runtime.jsx)(DropRegion,{id:id,parentId:parentId,fieldInfo:fieldInfo,idx:idx,minHeight:30,bounded:!0,disabled:null!==id||interactionDisabled,highlightColor:highlightColor})})};DropZone.__docgenInfo={description:"",methods:[],displayName:"DropZone"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/DropZone.jsx"]={name:"DropZone",docgenInfo:DropZone.__docgenInfo,path:"src/components/Block/DropZone.jsx"});var List=function List(_ref){var ids=_ref.ids,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,interactionDisabled=_ref.interactionDisabled,highlightColor=_ref.highlightColor,minHeight=0===ids.length?30:8;return(0,jsx_runtime.jsxs)("div",{className:"nodrag",style:{padding:4,backgroundColor:"#00000088",borderRadius:3,minHeight:30,minWidth:190,margin:4},children:[(0,jsx_runtime.jsx)(DropRegion,{id:null,parentId:parentId,fieldInfo:fieldInfo,idx:0,minHeight:minHeight,disabled:interactionDisabled,hideText:!0,highlightColor:highlightColor},"initial"),ids.map((function(id,idx){return(0,jsx_runtime.jsx)(Block,{id:id,parentId:parentId,fieldInfo:fieldInfo,idx:idx,bounded:!0,highlightColor:highlightColor,after:(0,jsx_runtime.jsx)(DropRegion,{id:null,parentId:parentId,fieldInfo:fieldInfo,idx:idx+1,minHeight:8,hideText:!0,disabled:interactionDisabled,highlightColor:highlightColor},"dropzone-".concat(idx))},id)}))]})};List.__docgenInfo={description:"",methods:[],displayName:"List"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/List.jsx"]={name:"List",docgenInfo:List.__docgenInfo,path:"src/components/Block/List.jsx"});var DATA_TYPES={INSTANCE:0,REFERENCE:1,CALL:2},TYPES_OBJECT=0,TYPES_FUNCTION=1,EXTRA_TYPES_LOCKED_INDICATOR=0,EXTRA_TYPES_NAME_EDIT_TOGGLE=1,EXTRA_TYPES_COLLAPSE_TOGGLE=3,EXTRA_TYPES_FUNCTION_BUTTON=4,EXTRA_TYPES_INDICATOR=5,EXTRA_TYPES_DROPDOWN=6,index_esm=__webpack_require__("./node_modules/react-icons/fi/index.esm.js"),TextInput=__webpack_require__("./node_modules/grommet/es6/components/TextInput/TextInput.js"),Button=__webpack_require__("./node_modules/grommet/es6/components/Button/Button.js"),Box=__webpack_require__("./node_modules/grommet/es6/components/Box/Box.js"),DropButton=__webpack_require__("./node_modules/grommet/es6/components/DropButton/DropButton.js"),react_spring_web_esm=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring-web.esm.js"),react_spring_esm=__webpack_require__("./node_modules/react-spring/dist/react-spring.esm.js"),FunctionButtonExtra=function FunctionButtonExtra(_ref){var actionInfo=_ref.actionInfo,data=_ref.data,blockSpec=_ref.blockSpec,_onClick=useProgrammingStore((0,react.useCallback)((function(state){return"function"==typeof actionInfo.onClick?actionInfo.onClick:state[actionInfo.onClick]}),[actionInfo])),ExtraActionIcon=actionInfo.icon?actionInfo.icon:index_esm.Q8x;return(0,jsx_runtime.jsx)(Button.z,{plain:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(ExtraActionIcon,{}),label:actionInfo.label,onClick:function onClick(){return _onClick(data,blockSpec)}})},LockIndicatorExtra=function LockIndicatorExtra(_ref2){var locked=_ref2.locked,inTopLevel=_ref2.inTopLevel;return locked&&inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",width:"25px",justify:"center",align:"end",children:(0,jsx_runtime.jsx)(index_esm.UIZ,{})}):!locked&&inTopLevel?null:locked&&!inTopLevel?(0,jsx_runtime.jsx)(Button.z,{plain:!0,disabled:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(index_esm.UIZ,{}),label:"Locked"}):locked||inTopLevel?void 0:(0,jsx_runtime.jsx)(Button.z,{plain:!0,disabled:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(index_esm.PdD,{}),label:"Unlocked"})},NameEditToggleExtra=function NameEditToggleExtra(_ref3){var isEditing=_ref3.isEditing,setIsEditing=_ref3.setIsEditing,locked=_ref3.locked,inTopLevel=_ref3.inTopLevel;return isEditing&&inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",width:"25px",justify:"center",align:"end",onClick:function onClick(){return setIsEditing(!isEditing)},children:(0,jsx_runtime.jsx)(index_esm.mW3,{})}):!isEditing&&inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",width:"25px",justify:"center",align:"end",onClick:function onClick(){return setIsEditing(!isEditing)},children:(0,jsx_runtime.jsx)(index_esm.Nte,{})}):isEditing&&!inTopLevel?(0,jsx_runtime.jsx)(Button.z,{plain:!0,disabled:locked,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(index_esm.mW3,{}),label:"Save",onClick:function onClick(){return setIsEditing(!isEditing)}}):isEditing||inTopLevel?void 0:(0,jsx_runtime.jsx)(Button.z,{plain:!0,disabled:locked,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(index_esm.Nte,{}),label:"Edit",onClick:function onClick(){return setIsEditing(!isEditing)}})},CollapseToggleExtra=function CollapseToggleExtra(_ref4){var isCollapsed=_ref4.isCollapsed,setIsCollapsed=_ref4.setIsCollapsed,inTopLevel=_ref4.inTopLevel,carrotStyle=(0,react_spring_web_esm.useSpring)({rotate:isCollapsed?"0deg":"90deg",config:react_spring_esm.config.wobbly}),carrot=(0,jsx_runtime.jsx)(react_spring_web_esm.q.div,{style:carrotStyle,children:(0,jsx_runtime.jsx)(index_esm.Tfp,{})});return inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",width:"25px",justify:"center",align:"end",onClick:function onClick(){return setIsCollapsed(!isCollapsed)},children:carrot}):(0,jsx_runtime.jsx)(Button.z,{plain:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:carrot,label:isCollapsed?"Expand":"Minimize",onClick:function onClick(){return setIsCollapsed(!isCollapsed)}})},IndicatorExtra=function IndicatorExtra(_ref5){var value=_ref5.value,label=_ref5.label;return _ref5.inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",justify:"center",align:"end",border:{color:"#00000088"},background:"#00000011",round:"full",style:{color:"white"},children:value}):(0,jsx_runtime.jsx)(Button.z,{plain:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(Box.x,{height:"25px",justify:"center",align:"end",border:{color:"#00000088"},background:"#00000011",round:"full",style:{color:"white"},children:value}),label:label})},DropdownExtra=function DropdownExtra(_ref6){var icon=_ref6.icon,contents=_ref6.contents,label=_ref6.label,inTopLevel=_ref6.inTopLevel,data=_ref6.data,blockSpec=_ref6.blockSpec,isEditing=_ref6.isEditing,isCollapsed=_ref6.isCollapsed,setIsEditing=_ref6.setIsEditing,setIsCollapsed=_ref6.setIsCollapsed,interactionDisabled=_ref6.interactionDisabled,DropIcon=icon||index_esm.K9M;return(0,jsx_runtime.jsx)(DropButton.h,{disabled:interactionDisabled,dropContent:(0,jsx_runtime.jsx)(Box.x,{round:"xsmall",background:"grey",direction:"column",align:"start",children:null==contents?void 0:contents.map((function(feature,featureIdx){return(0,jsx_runtime.jsx)(ButtonSwitch,{feature:feature,data:data,blockSpec:blockSpec,inTopLevel:!1,isEditing:isEditing,isCollapsed:isCollapsed,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,interactionDisabled:interactionDisabled},featureIdx)}))}),dropProps:{align:inTopLevel?{top:"bottom"}:{left:"right"},elevation:"none",background:"none"},children:inTopLevel?(0,jsx_runtime.jsx)(Box.x,{height:"25px",width:"25px",justify:"center",align:"end",children:(0,jsx_runtime.jsx)(DropIcon,{})}):(0,jsx_runtime.jsx)(Button.z,{as:"div",plain:!0,style:{padding:"5pt 10pt 5pt 10pt"},icon:(0,jsx_runtime.jsx)(DropIcon,{}),label:label})})},ButtonSwitch=function ButtonSwitch(_ref7){var data=_ref7.data,blockSpec=_ref7.blockSpec,isEditing=_ref7.isEditing,setIsEditing=_ref7.setIsEditing,isCollapsed=_ref7.isCollapsed,setIsCollapsed=_ref7.setIsCollapsed,interactionDisabled=_ref7.interactionDisabled,inTopLevel=_ref7.inTopLevel,feature=_ref7.feature;return feature===EXTRA_TYPES_LOCKED_INDICATOR?(0,jsx_runtime.jsx)(LockIndicatorExtra,{locked:!data.canEdit,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled}):feature===EXTRA_TYPES_NAME_EDIT_TOGGLE?(0,jsx_runtime.jsx)(NameEditToggleExtra,{isEditing:isEditing,setIsEditing:setIsEditing,locked:!data.canEdit,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled}):feature===EXTRA_TYPES_COLLAPSE_TOGGLE?(0,jsx_runtime.jsx)(CollapseToggleExtra,{isCollapsed:isCollapsed,setIsCollapsed:setIsCollapsed,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled}):(null==feature?void 0:feature.type)===EXTRA_TYPES_FUNCTION_BUTTON?(0,jsx_runtime.jsx)(FunctionButtonExtra,{actionInfo:feature,data:data,blockSpec:blockSpec,interactionDisabled:interactionDisabled}):(null==feature?void 0:feature.type)===EXTRA_TYPES_INDICATOR?(0,jsx_runtime.jsx)(IndicatorExtra,{value:feature.accessor(data),label:feature.label,inTopLevel:inTopLevel,interactionDisabled:interactionDisabled}):(null==feature?void 0:feature.type)===EXTRA_TYPES_DROPDOWN?(0,jsx_runtime.jsx)(DropdownExtra,{data:data,blockSpec:blockSpec,icon:null==feature?void 0:feature.icon,contents:null==feature?void 0:feature.contents,label:null==feature?void 0:feature.label,inTopLevel:!1,isEditing:isEditing,isCollapsed:isCollapsed,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,interactionDisabled:interactionDisabled}):null},ExtraBar=function ExtraBar(_ref8){var _blockSpec$extras,data=_ref8.data,blockSpec=_ref8.blockSpec,isEditing=_ref8.isEditing,setIsEditing=_ref8.setIsEditing,isCollapsed=_ref8.isCollapsed,setIsCollapsed=_ref8.setIsCollapsed,interactionDisabled=_ref8.interactionDisabled;return(0,jsx_runtime.jsx)(Box.x,{direction:"row",children:null==blockSpec||null===(_blockSpec$extras=blockSpec.extras)||void 0===_blockSpec$extras?void 0:_blockSpec$extras.map((function(extra,extraIdx){return(0,jsx_runtime.jsx)(ButtonSwitch,{data:data,blockSpec:blockSpec,inTopLevel:!0,isEditing:isEditing,isCollapsed:isCollapsed,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed,interactionDisabled:interactionDisabled,feature:extra},extraIdx)}))})};ExtraBar.__docgenInfo={description:"",methods:[],displayName:"ExtraBar"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/ExtraBar.jsx"]={name:"ExtraBar",docgenInfo:ExtraBar.__docgenInfo,path:"src/components/Block/ExtraBar.jsx"});var _templateObject,_templateObject2,taggedTemplateLiteral=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Selectable=styled_components_browser_esm.default.div(_templateObject2||(_templateObject2=(0,taggedTemplateLiteral.Z)(["\n    animation: "," 2s ease-in-out infinite reverse;\n"])),(function selectKeyframes(props){return(0,styled_components_browser_esm.keyframes)(_templateObject||(_templateObject=(0,taggedTemplateLiteral.Z)(["\n    0% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 2pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n\n    50% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 5pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n    \n    100% {\n        box-shadow: 0pt 0pt 3pt 1pt ",", 0pt 0pt 2pt 2pt ",", inset 0pt 0pt 1pt 1pt ",", 0pt 0pt 20pt 20pt ",";\n    }\n"])),props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent",props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent",props.selected?"rgba(255,255,255,0.5)":"transparent",props.selected?props.highlightColor:"transparent",props.selected?"rgba(0,0,0,0.7)":"transparent",props.selected?"rgba(0,0,0,0.4)":"transparent")})),VisualBlock=(0,react.forwardRef)((function(_ref,ref){var _data$refData,_data$refData2,_Object$entries,data=_ref.data,x=_ref.x,y=_ref.y,scale=_ref.scale,typeSpec=_ref.typeSpec,onCanvas=_ref.onCanvas,interactionDisabled=_ref.interactionDisabled,bounded=_ref.bounded,highlightColor=_ref.highlightColor,blockSpec=data.dataType===DATA_TYPES.REFERENCE?typeSpec.referenceBlock:data.dataType===DATA_TYPES.CALL?typeSpec.callBlock:typeSpec.instanceBlock,_useState=(0,react.useState)(!1),_useState2=(0,slicedToArray.Z)(_useState,2),isCollapsed=_useState2[0],setIsCollapsed=_useState2[1],updateItemName=useProgrammingStore((function(store){return store.updateItemName})),setIsEditing=useProgrammingStore((function(store){return store.updateItemEditing})),Icon=blockSpec.icon?blockSpec.icon:index_esm.jxP,name=[DATA_TYPES.CALL,DATA_TYPES.REFERENCE].includes(data.dataType)?data.refData.name:data.name;return(0,jsx_runtime.jsxs)(Selectable,{selected:data.selected,highlightColor:highlightColor,className:onCanvas&&blockSpec.onCanvas?null:"nodrag",ref:ref,style:{minWidth:175,width:bounded?"inherit":"max-content",backgroundColor:blockSpec.color,borderRadius:3,padding:4,flex:bounded?1:null,transform:"translate(".concat(x||0,"px, ").concat(y||0,"px) scale(").concat(scale||1,")"),WebkitTransform:"translate(".concat(x||0,"px, ").concat(y||0,"px) scale(").concat(scale||1,")")},children:[(0,jsx_runtime.jsxs)("div",{style:{margin:4,display:"flex",alignItems:"center"},children:[(0,jsx_runtime.jsx)(TextInput.o,{size:"small",icon:(0,jsx_runtime.jsx)(Icon,{}),value:name,focusIndicator:!1,disabled:interactionDisabled||!data.editing,onChange:function onChange(e){return updateItemName(data.id,e.target.value)}}),(null==blockSpec?void 0:blockSpec.extras)&&(0,jsx_runtime.jsx)(ExtraBar,{interactionDisabled:interactionDisabled,data:data,blockSpec:blockSpec,isEditing:data.editing,isCollapsed:isCollapsed,setIsEditing:setIsEditing,setIsCollapsed:setIsCollapsed})]}),data.dataType===DATA_TYPES.INSTANCE&&typeSpec.type===TYPES_FUNCTION&&(0,jsx_runtime.jsx)("div",{style:{borderRadius:4,width:"inherit",margin:4,padding:5,backgroundColor:"rgba(0,0,0,0.2)"}}),(null===(_data$refData=data.refData)||void 0===_data$refData?void 0:_data$refData.arguments)&&Object.entries(null===(_data$refData2=data.refData)||void 0===_data$refData2?void 0:_data$refData2.arguments).map((function(_ref2){var _ref3=(0,slicedToArray.Z)(_ref2,2),argKey=_ref3[0],argInfo=_ref3[1];return(0,jsx_runtime.jsx)(DropZone,{id:data.properties[argKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},argInfo),{},{value:argKey}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor},argKey)})),data.dataType===DATA_TYPES.INSTANCE&&(null===(_Object$entries=Object.entries(typeSpec.properties))||void 0===_Object$entries?void 0:_Object$entries.map((function(_ref4){var _ref5=(0,slicedToArray.Z)(_ref4,2),fieldKey=_ref5[0],fieldInfo=_ref5[1];return fieldInfo.isList?(0,jsx_runtime.jsx)(List,{ids:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor},fieldKey):(0,jsx_runtime.jsx)(DropZone,{id:data.properties[fieldKey],fieldInfo:(0,objectSpread2.Z)((0,objectSpread2.Z)({},fieldInfo),{},{value:fieldKey}),parentId:data.id,interactionDisabled:interactionDisabled,highlightColor:highlightColor},fieldKey)}))),!1]})}));VisualBlock.__docgenInfo={description:"",methods:[],displayName:"VisualBlock"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/VisualBlock.jsx"]={name:"VisualBlock",docgenInfo:VisualBlock.__docgenInfo,path:"src/components/Block/VisualBlock.jsx"});var PreviewBlock=function PreviewBlock(_ref){var id=_ref.id,staticData=_ref.staticData,bounded=_ref.bounded,highlightColor=_ref.highlightColor,_useProgrammingStore=useProgrammingStore((0,react.useCallback)((function(state){var data=staticData||(state.programData[id]?state.programData[id]:null),typeSpec=state.programSpec.objectTypes[null==data?void 0:data.type],refData=data.ref?state.programData[data.ref]:{},selected=(null==data?void 0:data.selected)||refData.selected;return[(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{refData:refData,selected:selected}),typeSpec]}),[id,staticData])),_useProgrammingStore2=(0,slicedToArray.Z)(_useProgrammingStore,2),data=_useProgrammingStore2[0],typeSpec=_useProgrammingStore2[1];return data?(0,jsx_runtime.jsx)(VisualBlock,{data:data,typeSpec:typeSpec,interactionDisabled:!0,bounded:bounded,highlightColor:highlightColor}):null};PreviewBlock.__docgenInfo={description:"",methods:[],displayName:"PreviewBlock"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/PreviewBlock.jsx"]={name:"PreviewBlock",docgenInfo:PreviewBlock.__docgenInfo,path:"src/components/Block/PreviewBlock.jsx"});var Block=function Block(_ref){var id=_ref.id,staticData=_ref.staticData,parentId=_ref.parentId,fieldInfo=_ref.fieldInfo,idx=_ref.idx,dragDisabled=_ref.dragDisabled,bounded=_ref.bounded,after=_ref.after,highlightColor=_ref.highlightColor,_useProgrammingStore=useProgrammingStore((0,react.useCallback)((function(state){var data=staticData||(state.programData[id]?state.programData[id]:null),typeSpec=state.programSpec.objectTypes[null==data?void 0:data.type],refData=null!=data&&data.ref?state.programData[null==data?void 0:data.ref]:{},selected=(null==data?void 0:data.selected)||refData.selected;return[(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{refData:refData,selected:selected}),typeSpec]}),[id,staticData])),_useProgrammingStore2=(0,slicedToArray.Z)(_useProgrammingStore,2),data=_useProgrammingStore2[0],typeSpec=_useProgrammingStore2[1],onCanvas=data.dataType===DATA_TYPES.REFERENCE?typeSpec.referenceBlock.onCanvas:data.dataType===DATA_TYPES.CALL?typeSpec.callBlock.onCanvas:typeSpec.instanceBlock.onCanvas,_useDrag=(0,useDrag.c)((function(){return{type:null!=data&&data.type?data.type:"null",item:function item(){return{data:data,typeSpec:typeSpec,parentId:parentId,fieldInfo:fieldInfo,idx:idx,onCanvas:onCanvas}},canDrag:!dragDisabled,collect:function collect(monitor){return{isDragging:monitor.isDragging()}}}}),[data,typeSpec,parentId,fieldInfo,idx,dragDisabled]),_useDrag2=(0,slicedToArray.Z)(_useDrag,3),dragProps=_useDrag2[0],drag=_useDrag2[1],preview=_useDrag2[2];return(0,react.useEffect)((function(){preview((0,getEmptyImage.r)(),{captureDraggingState:!1})}),[preview]),data?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)("div",{hidden:"drawer"!==parentId&&dragProps.isDragging,style:{display:"flex",flex:1},children:(0,jsx_runtime.jsx)(VisualBlock,{data:data,ref:drag,typeSpec:typeSpec,bounded:bounded,highlightColor:highlightColor})}),(0,jsx_runtime.jsx)("div",{hidden:"drawer"!==parentId&&dragProps.isDragging,style:{display:"flex"},children:after})]}):null};Block.__docgenInfo={description:"",methods:[],displayName:"Block"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Block/index.jsx"]={name:"Block",docgenInfo:Block.__docgenInfo,path:"src/components/Block/index.jsx"});var _excluded=["highlightColor"],CanvasNode=function CanvasNode(_ref){var data=_ref.data,highlightColor=data.highlightColor,rest=(0,objectWithoutProperties.Z)(data,_excluded);return(0,jsx_runtime.jsx)(VisualBlock,{data:rest,x:0,y:0,typeSpec:rest.typeSpec,onCanvas:!0,highlightColor:highlightColor})},Canvas=function Canvas(_ref2){var highlightColor=_ref2.highlightColor,nodes=useProgrammingStore((function(store){return Object.values(store.programData).map((function(data){var _store$programSpec$ob,_store$programSpec$ob2,typeSpec=store.programSpec.objectTypes[data.type],blockType=data.dataType===DATA_TYPES.INSTANCE?"instanceBlock":data.dataType===DATA_TYPES.CALL?"callBlock":data.dataType===DATA_TYPES.REFERENCE?"referenceBlock":"nullBlock",color=null===(_store$programSpec$ob=store.programSpec.objectTypes[data.type][blockType])||void 0===_store$programSpec$ob?void 0:_store$programSpec$ob.color,onCanvas=null===(_store$programSpec$ob2=store.programSpec.objectTypes[data.type][blockType])||void 0===_store$programSpec$ob2?void 0:_store$programSpec$ob2.onCanvas,ref=data.ref?store.programData[data.ref]:{};return{id:data.id,position:data.position,type:"canvasNode",data:(0,objectSpread2.Z)((0,objectSpread2.Z)({},data),{},{highlightColor:highlightColor,ref:ref,typeSpec:(0,objectSpread2.Z)((0,objectSpread2.Z)({},typeSpec),{},{color:color,onCanvas:onCanvas})})}})).filter((function(data){var _data$data$typeSpec;return null===(_data$data$typeSpec=data.data.typeSpec)||void 0===_data$data$typeSpec?void 0:_data$data$typeSpec.onCanvas}))})),acceptTypes=useProgrammingStore((function(store){return Object.entries(store.programSpec.objectTypes).filter((function(_ref3){var _objectType$instanceB,_objectType$reference,_objectType$callBlock,_ref4=(0,slicedToArray.Z)(_ref3,2),objectType=(_ref4[0],_ref4[1]);return(null===(_objectType$instanceB=objectType.instanceBlock)||void 0===_objectType$instanceB?void 0:_objectType$instanceB.onCanvas)||(null===(_objectType$reference=objectType.referenceBlock)||void 0===_objectType$reference?void 0:_objectType$reference.onCanvas)||(null===(_objectType$callBlock=objectType.callBlock)||void 0===_objectType$callBlock?void 0:_objectType$callBlock.onCanvas)})).map((function(_ref5){return(0,slicedToArray.Z)(_ref5,1)[0]}))})),moveNode=useProgrammingStore((function(store){return store.moveBlock})),createPlacedNode=useProgrammingStore((function(store){return store.createPlacedBlock})),project=(0,ReactFlow_esm._K)().project,drop=(0,useDrop.L)({accept:acceptTypes,canDrop:function canDrop(item){return item.onCanvas},drop:function drop(item,monitor){var clientOffset=monitor.getClientOffset(),position=project({x:clientOffset.x-350,y:clientOffset.y});createPlacedNode(item.data,position.x,position.y)}})[1];return(0,jsx_runtime.jsx)("div",{style:{backgroundColor:"black",display:"flex",flex:1},children:(0,jsx_runtime.jsxs)(ReactFlow_esm.ZP,{ref:drop,maxZoom:1.5,minZoom:.5,nodesConnectable:!1,elementsSelectable:!1,nodesDraggable:!0,nodeTypes:(0,react.useMemo)((function(){return{canvasNode:CanvasNode}}),[]),nodes:nodes,onConnect:function onConnect(_){},onNodesChange:moveNode,fitViewOnInit:!0,defaultZoom:.5,snapToGrid:!0,snapGrid:[30,30],children:[(0,jsx_runtime.jsx)(ReactFlow_esm.a9,{maskColor:"#1a192b44",nodeStrokeColor:function nodeStrokeColor(n){var _n$style;return null!==(_n$style=n.style)&&void 0!==_n$style&&_n$style.background?n.style.background:null!==n.data.typeSpec.color?n.data.typeSpec.color:"#eee"},nodeColor:function nodeColor(n){var _n$style2;return null!==n.data.typeSpec.color?n.data.typeSpec.color:null!==(_n$style2=n.style)&&void 0!==_n$style2&&_n$style2.background?n.style.background:"#fff"},nodeBorderRadius:3}),(0,jsx_runtime.jsx)(ReactFlow_esm.ZX,{}),(0,jsx_runtime.jsx)(ReactFlow_esm.Aq,{variant:"lines",color:"#555",gap:30})]})})};Canvas.__docgenInfo={description:"",methods:[],displayName:"Canvas"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Canvas.jsx"]={name:"Canvas",docgenInfo:Canvas.__docgenInfo,path:"src/components/Canvas.jsx"});var Text=__webpack_require__("./node_modules/grommet/es6/components/Text/Text.js"),List_List=__webpack_require__("./node_modules/grommet/es6/components/List/List.js"),TipContent=function TipContent(_ref5){var message=_ref5.message;return(0,jsx_runtime.jsxs)(Box.x,{direction:"row",align:"center",children:[(0,jsx_runtime.jsx)("svg",{viewBox:"0 0 22 22",version:"1.1",width:"22px",height:"22px",children:(0,jsx_runtime.jsx)("polygon",{fill:"grey",points:"6 2 18 12 6 22",transform:"matrix(-1 0 0 1 30 0)"})}),(0,jsx_runtime.jsx)(Box.x,{background:"grey",direction:"row",pad:"small",round:"xxsmall",children:(0,jsx_runtime.jsx)(Text.x,{color:"#313131",children:message})})]})},Drawer=function Drawer(_ref6){var highlightColor=_ref6.highlightColor,_useState=(0,react.useState)(""),_useState2=(0,slicedToArray.Z)(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1],blocks=useProgrammingStore((function(store){var blocks=[];if(null!==store.activeDrawer){var drawer=store.programSpec.drawers[store.activeDrawer];drawer.dataType===DATA_TYPES.INSTANCE?drawer.objectTypes.forEach((function(objectType){blocks.push(function instanceTemplateFromSpec(type,objectSpec){var data={id:type,type:type,dataType:DATA_TYPES.INSTANCE,properties:{},name:"New ".concat(objectSpec.name),canDelete:!0,canEdit:!0};return objectSpec.properties&&Object.entries(objectSpec.properties).forEach((function(_ref){var _ref2=(0,slicedToArray.Z)(_ref,2),propKey=_ref2[0],propInfo=_ref2[1];data.properties[propKey]=propInfo.default})),objectSpec.instanceBlock.onCanvas&&(data.position={x:0,y:0}),data}(objectType,store.programSpec.objectTypes[objectType]))})):drawer.dataType===DATA_TYPES.REFERENCE?Object.values(store.programData).filter((function(d){return d.dataType===DATA_TYPES.INSTANCE&&d.type===drawer.objectType})).forEach((function(instanceReference){blocks.push(function referenceTemplateFromSpec(type,instanceReference,objectSpec){var data={id:type,type:type,ref:instanceReference.id,dataType:DATA_TYPES.REFERENCE,canDelete:!0,canEdit:!0};return objectSpec.referenceBlock.onCanvas&&(data.position={x:0,y:0}),data}(drawer.objectType,instanceReference,store.programSpec.objectTypes[drawer.objectType]))})):drawer.dataType===DATA_TYPES.CALL&&Object.values(store.programData).filter((function(d){return d.dataType===DATA_TYPES.INSTANCE&&d.type===drawer.objectType})).forEach((function(functionReference){blocks.push(function callTemplateFromSpec(type,functionReference,objectSpec){var data={id:type,type:type,ref:functionReference.id,dataType:DATA_TYPES.CALL,properties:{},canDelete:!0,canEdit:!0};return objectSpec.callBlock.onCanvas&&(data.position={x:0,y:0}),functionReference.arguments&&Object.entries(functionReference.arguments).forEach((function(_ref3){var _ref4=(0,slicedToArray.Z)(_ref3,2),argKey=_ref4[0],argInfo=_ref4[1];data.properties[argKey]=argInfo.default})),data}(drawer.objectType,functionReference,store.programSpec.objectTypes[drawer.objectType]))}))}return blocks})),hlcolor=highlightColor||"cyan",drawers=useProgrammingStore((function(store){return store.programSpec.drawers})),activeDrawer=useProgrammingStore((function(store){return store.activeDrawer})),setActiveDrawer=useProgrammingStore((function(store){return store.setActiveDrawer})),drawerStyle=(0,react_spring_web_esm.useSpring)({width:null!==activeDrawer?235:0,config:react_spring_esm.config.stiff}),sidebarStyle=(0,react_spring_web_esm.useSpring)({width:null!==activeDrawer?285:50,config:react_spring_esm.config.stiff});return(0,jsx_runtime.jsxs)(react_spring_web_esm.q.div,{style:(0,objectSpread2.Z)({backgroundColor:"black",display:"flex",padding:0},sidebarStyle),children:[(0,jsx_runtime.jsx)("div",{style:{display:"flex",height:"100%",width:50,backgroundColor:"#212121",padding:0},children:(0,jsx_runtime.jsx)(List_List.a,{data:drawers,border:!1,align:"center",margin:"none",pad:"none",radius:"none",children:function children(drawer,drawerIdx){var Icon=drawer.icon;return(0,jsx_runtime.jsx)(Button.z,{primary:!0,fill:!0,tip:{content:(0,jsx_runtime.jsx)(TipContent,{message:drawer.title}),plain:!0,dropProps:{align:{left:"right"}}},focusIndicator:!1,hoverIndicator:activeDrawer===drawerIdx?hlcolor:"#414141",color:activeDrawer===drawerIdx?hlcolor:"#313131",margin:{top:"xsmall",bottom:"none",left:"xxsmall",right:"none"},round:"small",onClick:function onClick(){setActiveDrawer(activeDrawer===drawerIdx?null:drawerIdx)},icon:(0,jsx_runtime.jsx)(Icon,{})})}})}),(0,jsx_runtime.jsx)(react_spring_web_esm.q.div,{style:(0,objectSpread2.Z)({height:"100%",backgroundColor:"#2f2f2f",overflow:"hidden"},drawerStyle),children:null!==activeDrawer&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)(Box.x,{background:"#444444",direction:"column",pad:"small",animation:"fadeIn",children:[(0,jsx_runtime.jsxs)(Box.x,{direction:"row",justify:"between",align:"center",children:[(0,jsx_runtime.jsx)(Box.x,{pad:"small",children:(0,jsx_runtime.jsx)(Text.x,{children:drawers[activeDrawer].title})}),drawers[activeDrawer].dataType===DATA_TYPES.REFERENCE&&(0,jsx_runtime.jsx)(Button.z,{secondary:!0,icon:(0,jsx_runtime.jsx)(index_esm.OvN,{})})]}),(0,jsx_runtime.jsx)(TextInput.o,{size:"small",icon:(0,jsx_runtime.jsx)(index_esm.jRj,{style:{height:15}}),placeholder:"search ...",focusIndicator:!1,value:searchTerm,onChange:function onChange(e){return setSearchTerm(e.target.value)}})]}),(0,jsx_runtime.jsx)(List_List.a,{data:blocks,border:!1,style:{padding:5,width:235},margin:"none",pad:"none",children:function children(block,idx){return(0,jsx_runtime.jsx)(Box.x,{animation:{type:"fadeIn",delay:100*idx},style:{marginBottom:5,width:225},children:(0,jsx_runtime.jsx)(Block,{staticData:block,parentId:"drawer",bounded:!0,highlightColor:highlightColor})})}})]})})]})};Drawer.__docgenInfo={description:"",methods:[],displayName:"Drawer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Drawer.jsx"]={name:"Drawer",docgenInfo:Drawer.__docgenInfo,path:"src/components/Drawer.jsx"});var useDragLayer=__webpack_require__("./node_modules/react-dnd/dist/esm/hooks/useDragLayer.js"),DragLayer=function DragLayer(_ref){var highlightColor=_ref.highlightColor,_useDragLayer=(0,useDragLayer.f)((function(monitor){return{item:monitor.getItem(),currentOffset:monitor.getSourceClientOffset(),isDragging:monitor.isDragging()}})),isDragging=_useDragLayer.isDragging,item=_useDragLayer.item,currentOffset=_useDragLayer.currentOffset;return(0,jsx_runtime.jsx)("div",{style:{position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:0,height:0,opacity:.5},children:item&&(0,jsx_runtime.jsx)(VisualBlock,{x:null==currentOffset?void 0:currentOffset.x,y:null==currentOffset?void 0:currentOffset.y,data:item.data,isDragging:isDragging,typeSpec:item.typeSpec,highlightColor:highlightColor})})};DragLayer.__docgenInfo={description:"",methods:[],displayName:"DragLayer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/DragLayer.jsx"]={name:"DragLayer",docgenInfo:DragLayer.__docgenInfo,path:"src/components/DragLayer.jsx"});var dist_esm=__webpack_require__("./node_modules/react-dnd-html5-backend/dist/esm/index.js"),DndProvider=__webpack_require__("./node_modules/react-dnd/dist/esm/core/DndProvider.js"),Grommet=__webpack_require__("./node_modules/grommet/es6/components/Grommet/Grommet.js");function Environment(_ref){var store=_ref.store,highlightColor=_ref.highlightColor,theme={name:"SimpleVP",rounding:4,defaultMode:"dark",global:{colors:{brand:highlightColor,background:"#111111"},font:{family:"Helvetica"},focus:{border:{color:highlightColor}},input:{padding:4,extend:{backgroundColor:"#FFFFFF55"}}},button:{border:{radius:"10px"}},textInput:{disabled:{opacity:1}}};return(0,jsx_runtime.jsx)(Grommet.p,{theme:theme,children:(0,jsx_runtime.jsx)(ProgrammingProvider,{store:store,children:(0,jsx_runtime.jsxs)(DndProvider.W,{backend:dist_esm.PD,children:[(0,jsx_runtime.jsxs)("div",{style:{position:"absolute",padding:0,margin:0,height:"100%",width:"100%",display:"flex",flexDirection:"row"},children:[(0,jsx_runtime.jsx)(Drawer,{highlightColor:highlightColor}),(0,jsx_runtime.jsx)(ReactFlow_esm.tV,{children:(0,jsx_runtime.jsx)(Canvas,{highlightColor:highlightColor})})]}),(0,jsx_runtime.jsx)(DragLayer,{highlightColor:highlightColor})]})})})}Environment.__docgenInfo={description:"",methods:[],displayName:"Environment"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Environment.jsx"]={name:"Environment",docgenInfo:Environment.__docgenInfo,path:"src/components/Environment.jsx"});var Environment_stories_excluded=["drawers","objectTypes","programData"],Environment_stories={title:"Environment",component:Environment},Simple=function Template(args){var drawers=args.drawers,objectTypes=args.objectTypes,programData=args.programData,otherArgs=(0,objectWithoutProperties.Z)(args,Environment_stories_excluded);return(0,react.useLayoutEffect)((function(){useDefaultProgrammingStore.setState({programSpec:{drawers:drawers,objectTypes:objectTypes},programData:programData})})),(0,jsx_runtime.jsx)(Environment,(0,objectSpread2.Z)((0,objectSpread2.Z)({},otherArgs),{},{store:useDefaultProgrammingStore}))}.bind({});Simple.args={highlightColor:"#ff00ff",drawers:[{title:"Structures",dataType:DATA_TYPES.INSTANCE,objectTypes:["functionType","operationType"],icon:index_esm.j4u},{title:"Functions",dataType:DATA_TYPES.CALL,objectType:"functionType",icon:index_esm.xqh},{title:"Hats",dataType:DATA_TYPES.REFERENCE,objectType:"hatType",icon:index_esm.aCJ},{title:"Boots",dataType:DATA_TYPES.REFERENCE,objectType:"bootType",icon:index_esm.Wpg}],objectTypes:{programType:{name:"Program",type:TYPES_OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:index_esm.ggF,collapse:!0,extras:[{icon:index_esm.K9M,type:EXTRA_TYPES_DROPDOWN,contents:[EXTRA_TYPES_NAME_EDIT_TOGGLE,EXTRA_TYPES_LOCKED_INDICATOR,{icon:index_esm.K9M,label:"More Options",type:EXTRA_TYPES_DROPDOWN,contents:[EXTRA_TYPES_NAME_EDIT_TOGGLE,EXTRA_TYPES_LOCKED_INDICATOR]}]},EXTRA_TYPES_LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType"],default:[],isList:!0}}},functionType:{name:"Function",type:TYPES_FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:index_esm.xqh,collapse:!0,extras:[EXTRA_TYPES_LOCKED_INDICATOR,{icon:index_esm.K9M,type:EXTRA_TYPES_DROPDOWN,contents:[EXTRA_TYPES_LOCKED_INDICATOR]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:index_esm.xqh},properties:{children:{name:"Children",accepts:["operationType"],default:[],isList:!0}}},operationType:{name:"Operation",type:TYPES_OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:index_esm.j4u,extras:[EXTRA_TYPES_LOCKED_INDICATOR,{icon:index_esm.K9M,type:EXTRA_TYPES_DROPDOWN,actions:[]}]},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},children:{name:"Children",accepts:["operationType","functionType"],default:[],isList:!0}}},hatType:{name:"Hat",type:TYPES_OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:index_esm.aCJ,extras:[EXTRA_TYPES_LOCKED_INDICATOR,{icon:index_esm.K9M,type:EXTRA_TYPES_DROPDOWN,actions:[]}]}},bootType:{name:"Boot",type:TYPES_OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:index_esm.aCJ,extras:[EXTRA_TYPES_LOCKED_INDICATOR,{icon:index_esm.K9M,type:EXTRA_TYPES_DROPDOWN,actions:[]}]}}},programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:DATA_TYPES.INSTANCE,properties:{children:[]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:DATA_TYPES.INSTANCE,arguments:{s3siakawme:{name:"Hat",accepts:["hatType"],default:null}},properties:{children:[]},position:{x:300,y:10},canDelete:!0,canEdit:!0,selected:!0,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:DATA_TYPES.INSTANCE,properties:{children:[],field1:null,field2:null},canDelete:!0,canEdit:!0,selected:!0,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:DATA_TYPES.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:DATA_TYPES.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}},Simple.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => {\n  const { drawers, objectTypes, programData, ...otherArgs } = args;\n  useLayoutEffect(()=>{\n    useDefaultProgrammingStore.setState({programSpec:{drawers,objectTypes},programData});\n  })\n  return <Environment {...otherArgs} store={useDefaultProgrammingStore}/>\n}"}},Simple.parameters)},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),esm=__webpack_require__("./node_modules/@storybook/client-logger/dist/esm/index.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},layout:"fullscreen",controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":case"argTypes":return esm.kg.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify(value));case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./stories/Environment.stories.jsx":"./src/stories/Environment.stories.jsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?%21(?:^|\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[219],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/common/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/dist/esm/frameworks/react/config.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/dist/esm/preset/addArgs.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/dist/esm/preset/addParameter.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/dist/esm/preset/addDecorator.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.js")}));__webpack_require__.O()}]);