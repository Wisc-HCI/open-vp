import{r as I,j as i}from"./isSymbol-fd368dfe.js";import{E as b,D as t,e as f,l,g as p,f as A,T as s,h as S,j as e,i as o,m,k as n,n as _,u as L,a as D,b as k,c as w}from"./ErrorFallback-5fd8a603.js";import"./_commonjsHelpers-042e6b4d.js";import"./assertThisInitialized-f2aa7f15.js";import"./index-58d3fd43.js";import"./debounce-c4e1af20.js";const M={title:"Stress",component:b},R=a=>{const{drawers:c,objectTypes:d,programData:T,drawerWidth:g,tabs:y,activeTab:u,...h}=a,[B,E]=L();return I.useEffect(()=>{D.setState({programSpec:{drawers:c,objectTypes:d},tabs:y,activeTab:u,programData:T})},[T,u,y,d,c]),i(k,{FallbackComponent:w,children:i("div",{ref:B,style:{display:"flex",height:"100vh",flexDirection:"row",backgroundColor:"#333"},children:i(b,{...h,store:D,height:E.height,width:E.width,drawerWidth:g})})})},r=R.bind({});r.args={highlightColor:"#ff00ff",drawerWidth:235,drawers:[{title:"Structures and Other Blocks",dataType:t.INSTANCE,objectTypes:["functionType","operationType","blockType"],icon:f},{title:"Functions",dataType:t.CALL,objectType:"functionType",icon:l},{title:"Hats",dataType:t.REFERENCE,objectType:"hatType",icon:p},{title:"Boots",dataType:t.REFERENCE,objectType:"bootType",icon:A}],objectTypes:{programType:{name:"Program",type:s.OBJECT,instanceBlock:{onCanvas:!0,color:"#3f3f3f",icon:S,extras:[{type:e.INDICATOR_TEXT,accessor:a=>a.properties.children.length,label:"Size"},{icon:o,type:e.DROPDOWN,contents:[e.NAME_EDIT_TOGGLE,e.LOCKED_INDICATOR,{icon:o,label:"More Options",type:e.DROPDOWN,contents:[e.NAME_EDIT_TOGGLE,e.COLLAPSE_TOGGLE,e.LOCKED_INDICATOR,{type:e.INDICATOR_TEXT,accessor:a=>a.properties.children.length,label:"Size"},{type:e.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:m}]}]},e.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0},description:{name:"Description",type:n.IGNORED,default:"Some description text"}}},blockType:{name:"Block",type:s.OBJECT,instanceBlock:{onCanvas:!1,color:"#7f7f7f",icon:_,extras:[e.COLLAPSE_TOGGLE,{type:e.INDICATOR_TEXT,accessor:a=>a.properties.children.length,label:"Size"},{type:e.FUNCTION_BUTTON,onClick:"updateItemBlockColors",label:"Cycle Color",icon:m},e.LOCKED_INDICATOR]},referenceBlock:null,properties:{children:{name:"Children",accepts:["operationType","functionType","blockType"],default:[],isList:!0,fullWidth:!0}}},functionType:{name:"Function",type:s.FUNCTION,instanceBlock:{onCanvas:!0,color:"#62869e",icon:l,extras:[e.LOCKED_INDICATOR,{icon:o,type:e.DROPDOWN,contents:[e.SELECTION_TOGGLE,e.DELETE_BUTTON,e.LOCKED_INDICATOR,e.DEBUG_TOGGLE,{type:e.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]},{type:e.ADD_ARGUMENT,argumentType:"hatType"}]},{type:e.ADD_ARGUMENT_GROUP,allowed:["hatType","bootType"]}]},callBlock:{onCanvas:!1,color:"#62869e",icon:l},properties:{children:{name:"Children",accepts:["functionType","blockType","operationType"],default:[],isList:!0,fullWidth:!0}}},operationType:{name:"Operation",type:s.OBJECT,instanceBlock:{onCanvas:!1,color:"#629e6c",icon:f,extras:[e.LOCKED_INDICATOR,{icon:o,type:e.DROPDOWN,contents:[e.DELETE_BUTTON,e.DEBUG_TOGGLE]}],hideNewPrefix:!0},properties:{hat:{name:"Hat",accepts:["hatType"],default:null,isList:!1},boot:{name:"Boot",accepts:["bootType"],default:null,isList:!1},speed:{name:"Speed",type:n.NUMBER,default:1,min:0,max:2,visualScaling:100},doFunky:{name:"Do Funky",type:n.BOOLEAN,default:!1},greeting:{name:"Greeting",type:n.STRING,default:""},time:{name:"Time",type:n.OPTIONS,options:[{value:"am",label:"AM"},{value:"pm",label:"PM"}],default:"am"},description:{name:"Description",type:n.IGNORED,default:"Some description text"}}},hatType:{name:"Hat",type:s.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#AD1FDE",icon:p,extras:[e.LOCKED_INDICATOR,{icon:o,type:e.DROPDOWN,contents:[e.DELETE_BUTTON,e.DEBUG_TOGGLE]}]}},bootType:{name:"Boot",type:s.OBJECT,instanceBlock:null,referenceBlock:{onCanvas:!1,color:"#B3A533",icon:p,extras:[e.LOCKED_INDICATOR,{icon:o,type:e.DROPDOWN,contents:[e.DELETE_BUTTON,e.DEBUG_TOGGLE]}]}}},tabs:[{title:"Main",id:"default",visible:!0,blocks:["45535153s","655sssefs"]}],activeTab:"default",programData:{"45535153s":{id:"45535153s",name:"MyProgram",type:"programType",dataType:t.INSTANCE,properties:{children:["2dfsessfs"]},position:{x:0,y:10},canDelete:!1,canEdit:!0,selected:!1,editing:!1},"655sssefs":{id:"655sssefs",name:"MyFunction",type:"functionType",dataType:t.INSTANCE,arguments:["s3siakawme"],properties:{children:[]},position:{x:400,y:10},canDelete:!0,canEdit:!0,selected:!0,editing:!1},s3siakawme:{id:"s3siakawme",name:"Passed Hat",type:"hatType",dataType:t.ARGUMENT,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"2dfsessfs":{id:"2dfsessfs",name:"MyOperation",type:"operationType",dataType:t.INSTANCE,properties:{hat:null,boot:null,speed:1,doFunky:!0,greeting:"Hello!"},canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6dewwwwww":{id:"6dewwwwww",name:"Sombrero",type:"hatType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse32:{id:"pspssse32",name:"Fur Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},pspssse64:{id:"pspssse64",name:"Leather Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},sdfsdsq64:{id:"sdfsdsq64",name:"Funky Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"8423ljdso8s3":{id:"8423ljdso8s3",name:"Magenta Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"p-pspssse32":{id:"p-pspssse32",name:"Pricy Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"55pspssse64":{id:"55pspssse64",name:"Fast Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"6556sdfsdsq64":{id:"6556sdfsdsq64",name:"Jazzy Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"448423ljdso8s3":{id:"448423ljdso8s3",name:"Cute Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"45p-pspssse32":{id:"45p-pspssse32",name:"Black Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},bb55pspssse64:{id:"bb55pspssse64",name:"Brown Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},yy6556sdfsdsq64:{id:"yy6556sdfsdsq64",name:"Ugly Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1},"44448423ljdso8s3":{id:"44448423ljdso8s3",name:"Ugg Boots",type:"bootType",dataType:t.INSTANCE,canDelete:!0,canEdit:!0,selected:!1,editing:!1}}};var N,C,O;r.parameters={...r.parameters,docs:{...(N=r.parameters)==null?void 0:N.docs,source:{originalSource:`args => {
  const {
    drawers,
    objectTypes,
    programData,
    drawerWidth,
    tabs,
    activeTab,
    ...otherArgs
  } = args;
  const [ref, bounds] = useMeasure();
  useEffect(() => {
    useDefaultProgrammingStore.setState({
      programSpec: {
        drawers,
        objectTypes
      },
      tabs,
      activeTab,
      programData
    });
  }, [programData, activeTab, tabs, objectTypes, drawers]);
  return <ErrorBoundary FallbackComponent={ErrorFallback}>
    <div ref={ref} style={{
      display: 'flex',
      height: '100vh',
      flexDirection: 'row',
      backgroundColor: '#333'
    }}>
      <Environment {...otherArgs} store={useDefaultProgrammingStore} height={bounds.height} width={bounds.width} drawerWidth={drawerWidth} />
    </div>
    </ErrorBoundary>;
}`,...(O=(C=r.parameters)==null?void 0:C.docs)==null?void 0:O.source}}};const j=["Stress"];export{r as Stress,j as __namedExportsOrder,M as default};
//# sourceMappingURL=Stress.stories-3e3ceffe.js.map
