{"version":3,"file":"External.stories-c38d5d75.js","sources":["../../src/components/Block/ExternalBlock.jsx"],"sourcesContent":["import React, { useCallback } from \"react\";\n// import { Grommet } from \"grommet\";\nimport { VisualBlock } from \"./VisualBlock\";\nimport {\n  ProgrammingProvider,\n  useProgrammingStore,\n} from \"../ProgrammingContext\";\nimport { HTML5toTouch } from \"rdndmb-html5-to-touch\";\nimport { MultiBackend } from \"react-dnd-multi-backend\";\nimport { DndProvider } from \"react-dnd\";\nimport { combinedBlockData } from \"../Generators\";\nimport { stringEquality } from \"./Utility\";\nimport { StyleWrapper } from \"../Environment\";\n\nconst InnerExternalBlock = (props) => {\n  const [data, typeSpec] = useProgrammingStore(\n    useCallback(\n      (state) => combinedBlockData(state, props.data, null),\n      [props.data]\n    ),\n    stringEquality\n  );\n\n  const otherProps = {\n    x: 0,\n    z: 0,\n    scale: 1,\n    onCanvas: false,\n    interactionDisabled: true,\n    bounded: true,\n    fieldInfo: \"outside\",\n    parentId: \"outside\",\n  };\n\n  return (\n    <VisualBlock {...props} {...otherProps} data={data} typeSpec={typeSpec} />\n  );\n};\n\nexport const UnwrappedExternalBlock = ({\n  highlightColor,\n  data,\n  style,\n  context,\n}) => {\n  return (\n    <DndProvider backend={MultiBackend} options={HTML5toTouch}>\n      <InnerExternalBlock\n        highlightColor={highlightColor}\n        data={data}\n        style={{ ...style }}\n        context={context}\n      />\n    </DndProvider>\n  );\n};\n\nexport const ExternalBlock = ({\n  store,\n  highlightColor,\n  data,\n  style,\n  context,\n}) => {\n\n  return (\n    <StyleWrapper highlightColor={highlightColor}>\n      <ProgrammingProvider store={store}>\n        <UnwrappedExternalBlock\n          highlightColor={highlightColor}\n          data={data}\n          style={{ ...style }}\n          context={context}\n        />\n      </ProgrammingProvider>\n    </StyleWrapper>\n  );\n};\n"],"names":["InnerExternalBlock","props","data","typeSpec","useProgrammingStore","useCallback","combinedBlockData","state","stringEquality","VisualBlock","x","z","scale","onCanvas","interactionDisabled","bounded","fieldInfo","parentId","UnwrappedExternalBlock","highlightColor","style","context","DndProvider","backend","MultiBackend","options","HTML5toTouch","children","ExternalBlock","store","StyleWrapper","ProgrammingProvider"],"mappings":"qaAcA,MAAMA,EAAgCC,GAAA,CACpC,KAAM,CAACC,EAAMC,CAAQ,EAAIC,EACvBC,iBACaC,EAAkBC,EAAON,EAAMC,KAAM,IAAI,EACpD,CAACD,EAAMC,IAAI,CACb,EACAM,CACF,EAaA,SACGC,EAAW,CAAA,GAAKR,EAAK,GAZL,CACjBS,EAAG,EACHC,EAAG,EACHC,MAAO,EACPC,SAAU,GACVC,oBAAqB,GACrBC,QAAS,GACTC,UAAW,UACXC,SAAU,SAAA,EAI8Bf,KAAAA,EAAYC,SAAAA,CAAAA,CAAqB,CAE7E,EAEae,EAAyBA,CAAC,CACrCC,eAAAA,EACAjB,KAAAA,EACAkB,MAAAA,EACAC,QAAAA,CACF,MAEKC,EAAW,CAACC,QAASC,EAAcC,QAASC,EAAaC,WACvD3B,EAAkB,CACjBmB,eAAAA,EACAjB,KAAAA,EACAkB,MAAO,CAAE,GAAGA,CAAM,EAClBC,QAAAA,CAAAA,CACD,CAAA,CACU,EAIJO,EAAgBA,CAAC,CAC5BC,MAAAA,EACAV,eAAAA,EACAjB,KAAAA,EACAkB,MAAAA,EACAC,QAAAA,CACF,MAGKS,EAAY,CAACX,eAAAA,EAA+BQ,WAC1CI,EAAmB,CAACF,MAAAA,EAAaF,WAC/BT,EAAsB,CACrBC,eAAAA,EACAjB,KAAAA,EACAkB,MAAO,CAAE,GAAGA,CAAM,EAClBC,QAAAA,CAAAA,CACD,CAAA,CACkB,CAAA,CACT;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}